#LyX 1.6.0svn created this file. For more info see http://www.lyx.org/
\lyxformat 344
\begin_document
\begin_header
\textclass scrbook
\begin_preamble
% DO NOT ALTER THIS PREAMBLE!!!
%
% This preamble is designed to ensure that the manual prints
% out as advertised. If you mess with this preamble,
% parts of the manual may not print out as expected.  If you
% have problems LaTeXing this file, please contact 
% the documentation team
% email: lyx-docs@lists.lyx.org

% if pdflatex is used
\usepackage{ifpdf}
\ifpdf

 % set fonts for nicer pdf view
 \IfFileExists{lmodern.sty}
  {\usepackage{lmodern}}{}

\fi % end if pdflatex is used

% the pages of the TOC are numbered roman
% and a PDF-bookmark for the TOC is added
\pagenumbering{roman}
\let\myTOC\tableofcontents
\renewcommand{\tableofcontents}{%
 \pdfbookmark[1]{\contentsname}{}
 \myTOC
 \cleardoublepage
 \pagenumbering{arabic}}

% redefine the \LyX macro for PDF bookmarks
\def\LyX{\texorpdfstring{%
  L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}
  {LyX }}

% used for multi-column text
\usepackage{multicol}

% extra space for tables
\newcommand{\extratablespace}[1]{\noalign{\vskip#1}}

\usepackage{t1enc}
\end_preamble
\options fleqn,liststotoc,bibtotoc,idxtotoc,BCOR7.5mm,titlepage,tablecaptionabove
\use_default_options false
\begin_modules
logicalmkup
theorems-ams
theorems-ams-extended
\end_modules
\begin_local_layout
Format 7
InsetLayout CharStyle:MenuItem
LyxType               charstyle
LabelString           menu
LatexType             command
LatexName             menuitem
Font
Family              Sans
EndFont
Preamble
\newcommand*{\menuitem}[1]{{\sffamily #1}}
EndPreamble
End
\end_local_layout
\language japanese
\inputencoding JIS-pLaTeX
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize 12
\spacing single
\use_hyperref true
\pdf_title "LyX拡張機能篇"
\pdf_author "LyXプロジェクトチーム"
\pdf_subject "LyX拡張機能取扱説明書"
\pdf_keywords "LyX、取扱説明書、文書化、拡張"
\pdf_bookmarks true
\pdf_bookmarksnumbered true
\pdf_bookmarksopen false
\pdf_bookmarksopenlevel 1
\pdf_breaklinks false
\pdf_pdfborder false
\pdf_colorlinks true
\pdf_backref false
\pdf_pdfusetitle false
\pdf_quoted_options "linkcolor=black, citecolor=black, urlcolor=blue, filecolor=blue,  pdfpagelayout=OneColumn, pdfnewwindow=true,  pdfstartview=XYZ, plainpages=false, pdfpagelabels"
\papersize default
\use_geometry false
\use_amsmath 0
\use_esint 0
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 2
\paperpagestyle headings
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Title
LyXの高度な機能
\end_layout

\begin_layout Author
LyXプロジェクトチーム
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
このファイルは主にRichard Heckによって管理されています。コメントをされたい場合や誤りを発見された場合には、LyX文書化メーリングリスト
\begin_inset Flex CharStyle:Code
status open

\begin_layout Plain Layout
\noindent

\family typewriter
<lyx-docs@lists.lyx.org>
\end_layout

\end_inset

に英文にてお知らせ下さい。この文書の翻訳は、当初人見光太郎氏が行った貢献に基づいています。
\end_layout

\end_inset

 
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter
はじめに
\end_layout

\begin_layout Standard
いまお読みの取扱説明書『
\emph on
LyX拡張機能篇
\emph default
』は、基本的には『
\emph on
ユーザーの手引き
\emph default
』の第二部です。この文書を別部とした理由は、単純に『
\emph on
ユーザーの手引き
\emph default
』がすでに大部となっていることと、『
\emph on
ユーザーの手引き
\emph default
』が、ほとんどの文書を作成する上で必要な基本機能をすべて説明してしまっているためです。一方で、LyXプロジェクトチームは、LyXを各設定ファイルと外部パッケージ
によって拡張可能な状態にしておくことを長期的な目標にしています。つまり、あるLaTeXパッケージをサポートしたい場合に、LyX自身に変更を加えることなく、当該パ
ッケージ用のレイアウトファイル（ないしモジュール）を作成すればいいようにしているのです。すでにこのような形で、いくつもの新機能がユーザーによって追加されています
。この取扱説明書は、そのような形での貢献を文書化する冊子として位置付けられています。
\end_layout

\begin_layout Standard
この取扱説明書では、ファックスのサポート・バージョン管理・SGMLサポートのような、正しく機能するためには追加的なソフトウェアを必要とする特殊機能についても説明
しています。さらに、LaTeXの強力な機能を直接使って文書を美しく仕上げるための、LaTeXツールやテクニックを述べた章も収録しています。つきつめれば、LyXと
はあくまでWYSIWYMたることを企図しているため、LaTeXの全機能の一部へのインタフェースは用意するものの、すべてを用意することはないでしょう。
\end_layout

\begin_layout Standard
もし、まだ『
\emph on
はじめの一歩
\emph default
』をお読みでなかったら、この取扱説明書から読みはじめるのは誤りです。『
\emph on
はじめの一歩
\emph default
』には、全取扱説明書に共通の表記法と書式が説明されていますので、まずそれからお読みください。さらに、この取扱説明書を読もうとする前に、『
\emph on
ユーザーの手引き
\emph default
』をよくお読みになって、LyXの全基本機能を習得してください。
\end_layout

\begin_layout Standard
この取扱説明書の取り上げられている話題は、LyXがLaTeXにどう関わっているかに強く関係していますので、まず次章では、LyXの内部動作がどうなっているか、Ly
Xに希望するLaTeXコードを正確に生成させるにはどうしたらいいかを収録しています。本章は、あきらかに熟練LyXユーザー向けの章となっています。
\end_layout

\begin_layout Chapter
LyXとLaTeX
\end_layout

\begin_layout Section
LyXはLaTeXをどう使っているか
\end_layout

\begin_layout Standard
本章
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
は、TeX熟練者とLaTeXに興味のある方向けの章です。ここでは、LyXとLaTeXが、印刷可能な出力を生成するのに、どのように協働しているのかを説明します。全
取扱説明書中で本章だけは、LaTeXのことを多少なりともご存知であることを前提とします。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
かつてLyXは、「LaTeXの
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
WYSIWYM
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
なフロントエンド」と呼ばれていましたが、いまではこれは正しくありません。LaTeXのフロントエンドは、いくつも出回っています
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
有名なものとしては、Linux上のTeXmakerとkile、OSX上のTeXshopなどがあります。もちろんviとemacsのLaTeXモードも含まれます。
\end_layout

\end_inset

。これらは、基本的にLaTeXを走らせる機能を有し、編集中のファイルのエラーを表示する機能を持ったテキストエディタです。LyXも、エディタであり、LaTeXを走
らせる機能を有し、ファイル中のエラーを指摘しますが、それ以上にもっともっと多くのことをしてくれます。
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
ひとつには、
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXを効果的に使うのに、LaTeXの知識が必要とされないことが挙げられます。またLyXは、それ自身、いくつかの拡張をLaTeXに加えています。時間のあるときに
でも、いちど以下の手順を試してみてください。まず
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
ファイル
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
メニューから
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
エクスポート\SpecialChar \menuseparator
LaTeX
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
（あるいは
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
表示\SpecialChar \menuseparator
ソースを閲覧
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
）を選択し、そこから出力される
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
.tex
\end_layout

\end_inset

ファイルのプリアンブルをご覧ください。LyXによって特別に定義された新しいマクロが複数定義されていることに気づかれるはずです
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
。これらのマクロは、文書中で使用する機能に応じて、自動的に定義されます。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
自動的にLaTeXを実行するコマンドが、以下のようにいくつかあります。
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\bar under
表示\SpecialChar \menuseparator

\emph on
書式
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\bar under
表示\SpecialChar \menuseparator
更新\SpecialChar \menuseparator

\emph on
書式
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\bar under
ファイル
\bar default
\SpecialChar \menuseparator

\bar under
印刷
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\bar under
ファイル
\bar default
\SpecialChar \menuseparator

\bar under
ファックス
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これらは、最後にLaTeXを実行してからファイルに変更が加えられた場合のみ、LaTeXを実行します。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXが編集中のファイルをLaTeXにかけるとき、LyXは以下の段階をふみます。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
文書をLaTeXに変換し、ファイルの拡張子を
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
.lyx
\end_layout

\end_inset

から
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
.tex
\end_layout

\end_inset

に変えて保存。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
この
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
.tex
\end_layout

\end_inset

ファイルに対して（必要に応じて複数回）LaTeXを実行し、LaTeXファイルをコンパイルするのに必要な他のコマンド（
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
bibtex
\end_layout

\end_inset

や
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
makeindex
\end_layout

\end_inset

など）を実行。。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
もしエラーがあれば、エラーログを表示。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LaTeXを
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
表示\SpecialChar \menuseparator
DVI
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
を使用して実行した場合には、LyXはこの後、DVIビューアを実行してDVIファイルを表示します。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
表示\SpecialChar \menuseparator
PostScript
\end_layout

\end_inset

を使用した場合には、LyXはさらに以下の段階をふみます。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
dvips
\end_layout

\end_inset

を実行して、
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
DVI
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ファイルをPostScript®
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
に変換。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
ghostview
\end_layout

\end_inset

などのPostScript®ビューアを実行して、PostScript®
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
ファイルを表示。
\end_layout

\begin_layout Standard
LyXは、他の書式を表示したりエクスポートしたりする際にも、同様のことを行います。
\end_layout

\begin_layout Section
LaTeXファイルをLyXに読み込む
\end_layout

\begin_layout Standard
LyXで
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
ファイル\SpecialChar \menuseparator
インポート\SpecialChar \menuseparator
LaTeX
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
コマンドを使用すると、LaTeXファイルを
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
 
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
LyXにインポートすることができます。このコマンドは、
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
tex2lyx
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
というプログラムを呼び出し、
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
foo.tex
\end_layout

\end_inset


\family default
などというファイルから
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
foo.lyx
\end_layout

\end_inset

を生成します。LyXは、この変換したファイルを開きます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
tex2lyx
\end_layout

\end_inset

は、もちろんコマンドラインから実行することもできます。
\end_layout

\end_inset

。
\end_layout

\begin_layout Standard

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
tex2lyx
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
は、文法的に正しいLaTeXファイルのほとんどを変換することができますが、すべてを変換できるわけではありません。
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
tex2lyx
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
は、理解不能な部分はTeXコードボックスの形で残しますので、ファイルを
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
tex2lyx
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
で変換したのち、TeXコードボックスを探して、手動で正しく編集してください。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
TeXコードボックスがなにかご存じなければ、次節をお読みください。
\end_layout

\begin_layout Section
LaTeXコードを挿入する
\begin_inset CommandInset label
LatexCommand label
name "sec:LaTeXコードを挿入する"

\end_inset


\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
どのLyX文書にもつねにTeXコードを挿入することが可能であるというきわめて単純な理由によって、LaTeXにできることは、つねにLyXでも行うことができます。一
方、LyXは、すべてのLaTeX構成物をLyX内に表示できるわけではなく、将来的にもそうならないでしょう。かりにLaTeXコマンドをLyX文書に挿入する必要が出
てきた場合には、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
TeXコード
\end_layout

\end_inset

ボックスを使用してください。これは、
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
挿入\SpecialChar \menuseparator
TeXコード
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
から、文書中に挿入することができます。
\end_layout

\begin_layout Standard
以下は、LaTeXコマンドをLyX文書中に挿入する例です。コードは以下のようになっているとしましょう。
\end_layout

\begin_layout LyX-Code

\backslash
begin{tabular}{ll}
\begin_inset Newline newline
\end_inset


\backslash
begin{minipage}{5cm}
\begin_inset Newline newline
\end_inset

これは、ミニページ環境の例です。
\begin_inset Newline newline
\end_inset

これには、
\begin_inset Newline newline
\end_inset

（フロートでない）図表を
\begin_inset Newline newline
\end_inset

含め、ほとんど何でも
\begin_inset Newline newline
\end_inset

入れることができます。 
\begin_inset Newline newline
\end_inset


\backslash
end{minipage}
\begin_inset Newline newline
\end_inset

&
\begin_inset Newline newline
\end_inset


\backslash
begin{minipage}{5cm}
\begin_inset Newline newline
\end_inset


\backslash
begin{verbatim}
\begin_inset Newline newline
\end_inset


\backslash
begin{minipage}{5cm}
\begin_inset Newline newline
\end_inset

これ...
 
\begin_inset Newline newline
\end_inset


\backslash
end{minipage}
\begin_inset Newline newline
\end_inset


\backslash
end{verbatim}
\begin_inset Newline newline
\end_inset


\backslash
end{minipage}
\begin_inset Newline newline
\end_inset


\backslash
end{tabular}
\end_layout

\begin_layout LyX-Code

\end_layout

\begin_layout Standard
上記のテキストを含んだ
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TeXコード
\end_layout

\end_inset

ボックスが、この段落の直後にあります。この取扱説明書をLyX上でご覧になっていれば、TeXコード差込枠のみが見えるはずです。印刷した取扱説明書をご覧であれば、実
際の結果が見れるはずです。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{tabular}{ll}
\end_layout

\begin_layout Plain Layout


\backslash
begin{minipage}{5cm}
\end_layout

\begin_layout Plain Layout

これは、ミニページ環境の例です。これには、（フロートでない）図表を含め、ほとんど何でも入れることができます。 
\backslash
end{minipage}
\end_layout

\begin_layout Plain Layout

&
\end_layout

\begin_layout Plain Layout


\backslash
begin{minipage}{5cm}
\end_layout

\begin_layout Plain Layout


\backslash
begin{verbatim}
\end_layout

\begin_layout Plain Layout


\backslash
begin{minipage}{5cm}
\end_layout

\begin_layout Plain Layout

これ...
 
\backslash
end{minipage}
\end_layout

\begin_layout Plain Layout


\backslash
end{verbatim}
\end_layout

\begin_layout Plain Layout


\backslash
end{minipage}
\end_layout

\begin_layout Plain Layout


\backslash
end{tabular}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
TeXコードを使用する方法に加えて、複雑なLaTeXコードを含む部分を別ファイルとして作成しておき、そのファイルをインクルードするのに
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
挿入\SpecialChar \menuseparator
ファイル\SpecialChar \menuseparator
子文書
\end_layout

\end_inset

を使用する方法もあります（取り込みの型として
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
Input
\end_layout

\end_inset

を選択しなくてはなりません）。この方法をとる場合には、.texファイルが正しく動作することが
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
確認できている
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
場合のみに限った方がよいでしょう。さもないと、LaTeXエラーを追跡するたいへんな作業を行わなくてはならなくなります。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
最後に、いくつか強調しておくべきことがあります。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXは、あなたのLaTeXコードが正しいかどうかを
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
チェックしません
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
車輪の再発明をしないようにご注意ください。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
二番目の点に関して、LyXはひじょうにたくさんの機能を装備しており、その数は増えつづけています。ご自身でLaTeXコードを書かなくてはならないと思い込む前に、L
yXがこれこれの機能をもっていないことを、取扱説明書で確実に確かめてください。さらに世の中には、封筒のラベルから美しい複数ページにわたる表を作るものまで、ありと
あらゆることを行う膨大な数のLaTeXパッケージが存在します。
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
詳細については、
\begin_inset CommandInset href
LatexCommand href
name "CTAN"
target "http://www.ctan.org/"

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
と第
\begin_inset CommandInset ref
LatexCommand ref
reference "cha:secrets"

\end_inset

節をご覧ください。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
もし、文書中で例外的に手の込んだことをなさりたければ、かならず良いLaTeX関連書籍を参考とするようにしてください。『
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
ユーザーの手引き
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
』の参考文献に多くのLaTeX関連書籍が引用されています。
\end_layout

\begin_layout Section
LyXとLaTeXプリアンブル
\end_layout

\begin_layout Subsection
LaTeXプリアンブルについて
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
すでにLaTeXについてご存知であれば、ここでプリアンブル（前置文）が何に向いているか説明する必要はないでしょう。もしご存じなければ、以下の説明で大まかな理解は
得られるはずです。詳しくはLaTeX関連書籍をご参照ください。いずれにしても、以下でLyX文書のLaTeXプリアンブルで何ができるか、または何をする必要がないか
説明をしますので、以下の各要点はお読みになった方が良いでしょう。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LaTeXプリアンブルは、LaTeX文書のいちばん始め、本文の
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
前
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
の部分に来ます。ここでは以下のことを行います。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
文書クラス（ドキュメントクラス）の宣言。
\begin_inset Newline newline
\end_inset

これはLyXがすでに行ってくれています。もしあなたが熟達したLaTeX使いであり、自作の文書クラスを使いたい場合には、取扱説明書『
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
カスタマイズ篇
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
』をご覧になれば、LyXに自作文書クラスへの仲介を行わせるにはどうすればよいかの情報があります。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
パッケージ使用の宣言。
\begin_inset Newline newline
\end_inset

LaTeXパッケージは、パッケージがプリアンブルで宣言された場合のみ、文書中で利用可能となる、追加コマンド群を提供します。例えば
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
、
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
indentfirst
\end_layout

\end_inset

パッケージは、すべての段落の最初の行を字下げします。他にも、ラベルや宛名書き、余白設定等の様々なパッケージがあります。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
カウンタ・変数・長さ・幅の設定。
\begin_inset Newline newline
\end_inset

LaTeXのカウンタと変数の中には、プリアンブルでグローバルに
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
設定
\emph on
しないかぎり
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
、望んだ効果を持たないものがあります。（文書中で設定したり再設定したりすることのできる変数もあります。）余白は、プリアンブルで設定しなくてはならない変数の代表例
です。他には、箇条書きに付けるラベル書式が挙げられます。じつは、この設定は文書中どこでもできるのですが、プリアンブルでいちどだけ設定するのが望ましい方法です。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ユーザー定義コマンドの宣言（
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\backslash
newcommand
\end_layout

\end_inset

または
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\backslash
renewcommand
\end_layout

\end_inset

を使用）。
\begin_inset Newline newline
\end_inset

ユーザー定義コマンドは、文書中で頻出するLaTeXコマンドの短縮形です。このようなコマンドを宣言するには、プリアンブルが適した場所ですが、どこで宣言することも
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
可能
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
です（もちろんコマンドが初めて使用される場所よりも前です)。あまりないことではありますが、お使いの文書中に生のLaTeXコードがあふれている場合には便利でしょう
。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXは、その生成する
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
.tex
\end_layout

\end_inset

ファイルのプリアンブルに、それ自身の定義を追加します。これによって、LyXの生成するLaTeXファイルの可搬性を高めています。
\end_layout

\begin_layout Subsection
プリアンブルの変更
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXがLaTeXファイルのプリアンブルに追加するコマンドは、つねに同じです。これは、LyX自体にパッチを当てないかぎり変更できないようになっています。しかしな
がら、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

ダイアログの
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LaTeXプリアンブル
\end_layout

\end_inset

の項から、プリアンブルに追加をすることはできます。LyXは、
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
プリアンブル
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ダイアログ内のすべてのものを、LyX埋込みのプリアンブルに付け加えます。ご自身の宣言をプリアンブルに追加する前に、あなたがしようとしていることをLyXがすでにサ
ポートしていないかどうか確認してください（車輪の再発明をしないように、とはすでに申しあげたことです）。
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
また、
\emph on
プリアンブルコードが正しいことを確認してください。
\emph default
LyXは、プリアンブルをチェックしません。
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
もしエラーがあれば、「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
Missing 
\backslash
begin{document}
\end_layout

\end_inset

」といったエラーが出ることでしょう。このようなエラーが出たときは、プリアンブルを再確認してください。
\end_layout

\begin_layout Subsection
例
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
以下は、プリアンブルに追加できるものとその効果を示す例です。
\end_layout

\begin_layout Subsubsection
例1：オフセット
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LaTeXには
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
、
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
hoffset
\end_layout

\end_inset

と
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
voffset
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
というページ位置を制御する2つの変数があります。その機能は名前から明らかなとおりです。これらの変数は、ラベルを印刷するときなどに便利です。往々にして、印刷用紙の
寸法とそのうち実際に印字可能な範囲は同じではありません。ここに
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
hoffset
\end_layout

\end_inset

と
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
voffset
\end_layout

\end_inset


\family default
が役立つわけです。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
hoffset
\end_layout

\end_inset

と
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
voffset
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
の既定値はともに0ポイント、つまりページをシフトしません。残念ながら、DVIドライバによってはつねにページをシフトすることがあるようです。我々には、どうしてその
ようなことをするのか、そしてシスアドがどうしてそれを修正しないのか理解できませんが、もし個人的に管理できないシステムでLyXを使用していて、シスアドがお馬鹿さん
である場合には、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
hoffset
\end_layout

\end_inset

と
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
voffset
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
が役に立ちます。かりに、上余白と左余白がつねに0.5インチずつ大きすぎるものとしましょう。その場合は、以下をプリアンブルに追加するとよいでしょう。
\end_layout

\begin_layout LyX-Code

\backslash
setlength{
\backslash
hoffset}{-0.5 in}
\end_layout

\begin_layout LyX-Code

\backslash
setlength{
\backslash
voffset}{-0.5 in}
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これで余白が修正されます。
\end_layout

\begin_layout Subsubsection
例2：ラベル
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
いま、たくさんの宛名ラベルを印刷をしたいものとしましょう。ラベルシートを印刷するために便利な
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
labels.sty
\end_layout

\end_inset

というLaTeXパッケージが、お近くのCTANアーカイブで入手可能です。お使いのシステムには、既定ではこのパッケージは導入されていないかもしれません。ご自身でお
確かめください。また、このパッケージの取扱説明書を読まれたいかもしれませんが、それもご自身にお任せします。これは使用例ですので、このパッケージをどう使うかの例だ
けお見せすることにします。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
まず、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
article
\end_layout

\end_inset

文書クラスを使用していることをご確認ください。次に、以下のような設定をプリアンブルに追加しなければなりません。
\end_layout

\begin_layout LyX-Code

\backslash
usepackage{labels}
\end_layout

\begin_layout LyX-Code

\backslash
LabelCols=3
\end_layout

\begin_layout LyX-Code

\backslash
LabelRows=7
\end_layout

\begin_layout LyX-Code

\backslash
LeftBorder=8mm
\end_layout

\begin_layout LyX-Code

\backslash
RightBorder=8mm
\end_layout

\begin_layout LyX-Code

\backslash
TopBorder=9mm
\end_layout

\begin_layout LyX-Code

\backslash
BottomBorder=2mm
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これは
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
Avery®ラベルシートのストック5360
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
番を使用する場合の設定です。これで、各宛名を
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
begin{labels}
\end_layout

\end_inset

と
\family typewriter
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
end{labels}
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
で囲めば、宛名ラベルの印刷をすることができます。本機能およびその他の機能に関しては、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
labels.sty
\end_layout

\end_inset

の取扱説明書に説明されています。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
そのうち誰かが、このパッケージを直接サポートするLyXレイアウトファイルを作ってくれるかもしれません。その誰かはあなたかもしれません。
\end_layout

\begin_layout Subsubsection
例3： 段落の字下げ
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
アメリカ人は
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
、
\emph on
すべての
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
段落の最初の行を字下げするように教育されています。そのために彼らの他の変な習慣と同じく、いつものようにすべての段落の最初の行を下げるまで、アメリカ人はごちゃごち
ゃと文句を言いつづけるのです
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
。（これはユーモアです。（ほんと？）
\emph on
ユーモアですってば
\emph default
。）
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
もちろん、これは標準的な組版ルールではありません。書籍では、典型的には、他の段落のあとにくる段落
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
のみ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
字下げを行ないます。一行めを字下げをするそもそもの目的は、隣接する段落から区別するためです。したがって、図のあとや節の最初の段落など、先行する段落がない場合には
、字下げをする必要はないのです。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
けれどもあなたが典型的なアメリカ人なら（ユーーモアですって！）、そのような小難しいことはかまわずに、いつもどおりの字下げをせずにはいられないでしょう！プリアンブ
ルに次の行を加えて下さい。
\end_layout

\begin_layout LyX-Code

\backslash
usepackage{indentfirst}
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
もしお使いのTeX頒布版が脳死状態でなければ、このパッケージが入っているはずなので、建国の父たちが意図したように、すべての段落が字下げされます。
\end_layout

\begin_layout Subsubsection
例4：この文書
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
この文書のプリアンブルを見てみると、どのような高度な設定ができるか、おおまかな理解が得られるでしょう。また第
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "cha:secrets"

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
章には、他の例や、LaTeXの各種の「汚い技」があります。
\end_layout

\begin_layout Section
LyXおよびLaTeXのエラー
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXがLaTeXを呼び出す際、LyXはLaTeXに、かりにエラーがあったとしても楽観的に無視して先に進むように指示します。その後LyXは、LaTeXの実行ログ
ファイルを事後処理用に使います。ログファイルを分析したのち、LyXはエラーを一覧表示するダイアログを表示します。エラーのうちどれかをクリックすると、LyXファイ
ル中、そのエラーの発生した場所に表示を移動します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
正確にいうと、通常は、です。ログファイルの分析は難しい仕事ですので、LyXはつねに正しい行に連れて行ってくれるとは限りません。ときには、LaTeXがある行にエラ
ーがあると報告したとしても、実際のエラーはそれよりも前であることもあります。これは、プログラムで閉じ括弧を忘れたときに似ていなくもありません。エラーは表示されま
すが、実際にエラーのある場所よりも後ろでエラーが報告されるのです。
\end_layout

\end_inset


\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit
。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
人によっては、ログファイルを直接ご覧になりたいかもしれません。これは、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
文書\SpecialChar \menuseparator
LaTeXログ
\end_layout

\end_inset

で見ることができます。エラーメッセージや警告には、よく見かけるものがいくつかありますので、それらをここに収録しておきます。ここにないエラーや警告に関しては、La
TeX関連の良書を参照してください。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
LaTeX Warning
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Newline newline
\end_inset

これで始まるメッセージは、LaTeXコード自体を「デバッグ」するための警告メッセージです。相互参照や参考文献を追加したり変更した場合に、もう一度LaTeXを実行
する必要があることを知らせるために、このようなメッセージが表示されます。このメッセージは、だいたいにおいて無視しても大丈夫です。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
LaTeX Font Warning
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Newline newline
\end_inset

LaTeXがフォントを見つけられなかったと言う警告メッセージです。多くの場合、このメッセージの後に、LaTeXが使用した代替フォントに関する情報が続きます。これ
も無視して構いません。
\end_layout

\begin_layout Itemize

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
Overfull 
\backslash
hbox
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset

LaTeXは、
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
ほぼどんなときでも
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
この警告を吐き出します。これは、一行が長すぎて右余白にはみ出してしまったという警告ですが、ほとんどの場合、最終出力を見ても判別できないくらい（せいぜい1ポイント
か2ポイント）です。あるいは1文字か2文字右余白に出ているくらいです。LaTeXは、どんな文書を書いても、少なくとも一つはこのメッセージを出すようです。
\begin_inset Newline newline
\end_inset

このメッセージは無視しても大丈夫です。何か行が長すぎるような問題があれば、目で見ればわかります。出力を目で確認してください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
あるいは、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

で「draft」オプションを指定する方法もあります。こうすると、LaTeXは、overfullの発生した行の余白に黒い四角を描画します。
\end_layout

\end_inset

。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
Underfull 
\backslash
hbox
\end_layout

\end_inset


\begin_inset Newline newline
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これは上の警告と違ってあまり出てきません。なぜだかは分かりませんが、LaTeXは1行を短めにする印字するよりは、長めにする方が好きなようです。
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
Overfull 
\backslash
vbox
\end_layout

\end_inset

と
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
Underfull 
\backslash
vbox
\end_layout

\end_inset


\family default

\begin_inset Newline newline
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ページ区切りに問題があったという警告です。この場合も、出力を目で確認してください。何か問題があれば、見てすぐわかります。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
LaTeX Error: File 
\begin_inset Quotes els
\end_inset

Xxxx
\begin_inset Quotes ers
\end_inset

 not found
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Newline newline
\end_inset

ファイル「Xxxx」が、システムに導入されていません。これは通常、文書が必要としているLaTeXパッケージに、導入済でないものがある場合に現れます。プリアンブル
に変更を加えておらず、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
usepackage{}
\end_layout

\end_inset

コマンドも使用していないとすれば、LyXが読み込もうしているパッケージに存在しないものがあるということです。
\family default
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ヘルプ\SpecialChar \menuseparator
LaTeXの設定
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
を使用して、LyXが認識しているパッケージの一覧を得てください。このファイルは、（
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ツール\SpecialChar \menuseparator
再設定
\end_layout

\end_inset

を使用して）LyXの再設定を行うたびに更新され、どのパッケージが検出されたか、それらのパッケージが何をするものかを表示します。
\begin_inset Newline newline
\end_inset


\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans

\backslash
usepackage{}
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
コマンドを使っていて、肝心のパッケージが導入されていない場合には、ご自身で導入する必要があります。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
LaTeX Error: Unknown option
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Newline newline
\end_inset

このように始まるエラーメッセージは、パッケージに誤ったあるいは未定義のオプションが指定されていることを伝えようとするものです。パッケージの取扱説明書をご確認くだ
さい。
\end_layout

\begin_layout Itemize

\family typewriter
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
Undefined control sequence
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none

\begin_inset Newline newline
\end_inset

お使いの文書にLaTeXコードを挿入した際、打ち間違いをしてしまうと、このようなメッセージが表示されます。あるいは、パッケージを読み込ませるのを忘れたのかもしれ
ません。いずれにしても、このメッセージは、あなたが未定義のコマンドを使用したことを示しています。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これ以外にも、エラーメッセージや警告メッセージがあります。一般に、読んで意味がすぐにわかるものは、LaTeXのメッセージです。何を言っているのかさっぱりわからな
いものもありますが、通常これらは、TeXのメッセージであり、それが何を意味しているのか、どのように解読すればいいのか、
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
まったく
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
手がかりがありません。誰もわからないのです。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
エラーメッセージが表示された場合は、つねに以下のチェックリストにしたがった方がよいでしょう。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
ご自分で挿入したLaTeXコードに打ち間違いがないかどうか確かめる。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
打ち間違いがなければ、コマンドを正しく使ったかどうか確かめる。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
文書のもっともはじめの部分にエラーボックスが多数積み上がった場合には---特に
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
Missing 
\backslash
begin{document}
\end_layout

\end_inset

が表示されているならば---、プリアンブルにエラーがあることを意味します。プリアンブルのデバックを行ってください。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
プリアンブルに何も追加せず、文書にLaTeXコードをまったく挿入しなかった場合には、LaTeX頒布版自体をまず疑ってください。導入されていないパッケージを探しだ
して、導入してください。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
導入されていないパッケージはなかったものとしましょう。LyXを微調整するオプションを使用していますか。特に、手動で
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
Protected
\begin_inset space ~
\end_inset

Blank
\end_layout

\end_inset

や
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
Linebreak
\end_layout

\end_inset

、
\family sans
\series default
\shape default
\size default
\emph default
\bar default
\noun default
\color inherit

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family sans
Pagebreak
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
などをたくさん挿入するなど、微調整オプションを
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
悪用
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
していませんか。適切な段落環境を使用する代わりに、これらを使用してその場をしのごうとしていませんか。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
微調整オプションはまったく使用しておらず、規則に乗っ取って作業していたものとしましょう。何か曲芸のようなことをしようとはしていませんか。数式や表中で、たとえば表
のセルに図を入れるなど、おかしなことをしようとしていませんか。
\end_layout

\begin_layout Enumerate
LaTeXが改行位置を見つけられないほど長い一節がありませんか。既定では、改行するために単語間に空白をたくさん追加することを、LaTeXはかなり嫌います。可能で
あれば、問題が生じないように段落を修正するのが望ましいでしょう。それが難しければ、LaTeXが改行しやすく（sloppy）なるように、その部分を
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
sloppypar
\end_layout

\end_inset


\family default
で囲んでください。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
入れ子の階層を深くしすぎていませんか。LyXは、（今のところ）環境の入れ子の階層が制限内にあるかチェックしません。かりに、環境を17段の入れ子にしたりしていたら
、それが原因です（LaTeXの上限は5段です）。
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
エラーメッセージは発生しないけれども、出力がひどいものとしましょう。図表が幅が広すぎたり長すぎてページに収まらない場合には、
\end_layout

\begin_deeper
\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
図がページに合うように大きさを変える、
\end_layout

\begin_layout Enumerate

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
表がページに合うように削る、
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
などの手段を採る必要があります。
\end_layout

\end_deeper
\begin_layout Enumerate
他に出力におかしいところがあり、曲芸をやろうとしたり微調整オプションでしのごうとしたりはしていないとすれば、何がおかしいのか確定的なことは言えません。
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
これらすべてが役に立たないとすれば、
\family default
\series default
\shape default
\size default
\emph on
\bar default
\noun default
\color inherit
ひょっとしたら
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LyXのバグを発見したのかもしれません‥‥。
\end_layout

\begin_layout Chapter
補完ツール
\end_layout

\begin_layout Section
BibTeXによる参照文献のカスタマイズ
\end_layout

\begin_layout Standard
BibTeXの基本的な使用法は、『
\emph on
ユーザーの手引き
\emph default
』の
\emph on
参考文献データベース（BibTeX）
\emph default
の節に説明があります。以下の各小節では、LyXでサポートされている参考文献の特別な機能について説明することとします。
\end_layout

\begin_layout Subsection
他の引用様式
\end_layout

\begin_layout Standard
標準のBibTeXは、引用された著作を参照するのに、（[12]のように）数字を使用します。しかし、多くの科学分野で、これとは異なる引用様式が用いられています。も
っともよく見られるのは、著者-出版年様式（例：Knuth 1984a）です。LyXは、この様式を提供する2つのパッケージ
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

と
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
jurabib
\end_layout

\end_inset

をサポートしています。これらのパッケージには、それぞれ長所短所がありますが、ここでは詳細に立ち入る紙幅がありません。単純な著者-出版年様式（あるいは著者-番号）
様式が欲しい場合や、無数にある
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

用スタイルファイルのうちどれかを使用したい場合には、定評のある
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

パッケージがおそらくよい選択でしょう。短縮タイトルによる参照や
\emph on
ibid.
\emph default
など、特別な機能が必要な場合には、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
jurabib
\end_layout

\end_inset

パッケージの利用を考えるとよいかもしれません。
\end_layout

\begin_layout Standard
LyXでの両パッケージの取扱い方は、ほぼ同じです。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

メニューを開き、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
参考文献
\end_layout

\end_inset

項目から
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Natbib
\end_layout

\end_inset

オプションか
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Jurabib
\end_layout

\end_inset

オプションを選択してください。これらのパッケージによって、引用ダイアログに機能が追加され、参照の様式が選択できるようになります（「Knuth 1984」、「Kn
uth (1984)」、「Knuth, 1984」、「1984」など）。両パッケージは、専用にデザインされたスタイルファイルを必要とすることに注意してください。
両者ともそれ自身のスタイルファイルを同梱していますが、他にもたくさんの追加スタイルファイルがありますし、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
natbib
\end_layout

\end_inset

に至っては、対話的なスタイルファイルビルダーさえ存在します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Flex URL
status open

\begin_layout Plain Layout

ftp://ctan.tug.org/tex-archive/macros/latex/contrib/custom-bib/
\end_layout

\end_inset

をご参照ください。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
節分けされた参考文献
\end_layout

\begin_layout Standard
場合によっては、参考文献をいくつかの節に分ける必要があることがあります。たとえば、あなたが歴史家であるとすれば、出典と学術文献を分ける機能は、おそらく「必需品」
でさえあります。残念ながら、BibTeX自身ではこのようなことができません。しかし、適切なLaTeXパッケージの助けを借りると、BibTeXをこのような必要性を
満たすように拡張することができます。
\end_layout

\begin_layout Standard
LyXは、このようなパッケージの一つである
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
bibtopic
\end_layout

\end_inset


\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Flex URL
status open

\begin_layout Plain Layout

ftp://ctan.tug.org/tex-archive/macros/latex/contrib/bibtopic/
\end_layout

\end_inset

から入手可能です。
\end_layout

\end_inset

をそのままでサポートします。このパッケージの長所は、（
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
multibib
\end_layout

\end_inset

のような他のパッケージと比較すると）新規の引用コマンドを定義する必要がないことです。そのかわりに、参考文献の違う節には、その節向けの項目を収録した別の参考文献デ
ータベースを用意する必要があります。たとえば、参考文献を「出典」の節と「学術文献」の節に分けたい場合には、それぞれの参考文献データベース、たとえば
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
souces.bib
\end_layout

\end_inset

と
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
scientific.bib
\end_layout

\end_inset

とを作成する必要があります。
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

を開いて
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
参考文献
\end_layout

\end_inset

の下の
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
節分けされた参考文献
\end_layout

\end_inset

をチェックしてください。すると、参考文献の各節に一つずつ、複数の参考文献を挿入することができます。上記の例では、BibTeX参考文献
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
sources.bib
\end_layout

\end_inset

と二つめの参考文献データベース
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
scientific.bib
\end_layout

\end_inset

を挿入します。各節に同じスタイルを用いるか異なるスタイルを用いるかは自由です。くわえて、参考文献の節に、指定したデータベースの「引用されたすべての参照」を載せる
（これが既定です）か、「引用されなかったすべての参照」を載せるか、あるいは「すべての参照」を載せるかを選択することができます。これは、もし参考文献を「本文に引用
された出典」・「本文に引用されていない出典」・「学術文献」の三つの節に分割したい場合に、便利でありましょう。各節の見出しは、通常の節や小節として入れることができ
ます。
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
bibtopic
\end_layout

\end_inset

は、参考文献用の見出しを取り除いてしまいますので、手動でこれを追加しなくてはなりません（たとえば章*や節*などをお使いください）。
\end_layout

\begin_layout Subsection
複数の参考文献
\end_layout

\begin_layout Standard
文書の節ごとあるいは章ごとの参考文献など、複数の参考文献はBibTeX自身ではサポートされていません。しかしながら、もし若干の
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TeXコード
\end_layout

\end_inset

（第
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:LaTeXコードを挿入する"

\end_inset

節を参照）を利用することを厭わなければ、LyXで節分けされた参考文献を作るのに使用されている（前節を参照）
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
bibtopic
\end_layout

\end_inset

パッケージが、この課題を解決する簡単な方法を提供します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
ほかに、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
chapterbib
\end_layout

\end_inset

や
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
bibunits
\end_layout

\end_inset

パッケージを利用する方法もあります。
\end_layout

\end_inset

。
\end_layout

\begin_layout Standard
まず
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

に行って
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
参考文献
\end_layout

\end_inset

の下の
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
節分けされた参考文献
\end_layout

\end_inset

を有効にしてください。つぎに文書中において、参考文献（BibTeX参考文献本体を含む）の入った節を
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
begin{btUnit}
\end_layout

\end_inset

と
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
end{btUnit}
\end_layout

\end_inset

のあいだにはさまなくてはなりません（これらのコマンドはTeXコードとして挿入する必要があります）。参考文献には、現在位置の
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
btUnit
\end_layout

\end_inset

において引用されたすべての参照が含まれることになります。
\series bold
（註）
\series default
この方法を用いる場合には、すべての参照はいずれかの
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
btUnit
\end_layout

\end_inset

内部になくてはなりません。また、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
btUnit
\end_layout

\end_inset

は入れ子構造にすることができません。
\end_layout

\begin_layout Section
複合文書
\end_layout

\begin_layout Subsection
一般的な操作
\end_layout

\begin_layout Standard
たくさんの節を含んだ大きなファイルで作業をする場合、文書をいくつかのファイルに分割した方が往々にして便利ですし、場合によっては、表部分にはしょっちゅう変更が加え
られるけれども、その前の文章はつねに同じであるようなケースもあるでしょう。このような場合には、複合文書を利用することを、まずご検討ください。たとえば、科学論文は
通常、導入部・所見・結果・議論・結論の五つの節から成ります。これら各節を別々のLyXファイルにして、タイトル・著者・概要・参考文献等と、これら五つのインクルード
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\series bold
（訳註）
\series default
「取り込む」の意です。原語「include」に対する訳語として、プログラミング用語の「インクルードする」以外に適語がないので、ここではプログラミング用語をそのま
ま使用します。
\end_layout

\end_inset

ファイルを持つ、もう一つ別の「マスター」ファイルを作成するようにすることができます。これらの各ファイルは、単にマスターファイルにインクルードされるだけでなく、単
独でも出力したり印刷したりすることのできる完全なLyXファイルであるように注意することが重要です。しかも、これらの各ファイルは、同じ文書クラスでなくてはなりませ
ん。articleクラスとbookクラスを混在させるようなことはなさらないでください。LaTeXファイルをインクルードすることもできますが、このファイルにはプリ
アンブルがあってはなりません（
\family typewriter

\backslash
begin{document}
\family default
行とその前のすべて、および
\family typewriter

\backslash
end{documen
\family default
t}行は削除しておかなければなりません）。さもないと、DVIファイルを作成する際にエラーが発生するでしょう。
\end_layout

\begin_layout Standard
LyXでは、
\family sans
挿入\SpecialChar \menuseparator
ファイル\SpecialChar \menuseparator
子文書
\family default
で簡単にファイルをインクルードすることができます。このメニューを選んでクリックすると、カーソルの現在位置に小さな枠が挿入されます。この枠をクリックすると、ダイア
ログが現れるので、そこでインクルードするファイルとインクルード方法を選択することができます。
\end_layout

\begin_layout Standard
ファイル選択ボックスは、いまや自明でしょう。インクルード方法には、「include」・「input」・「verbatim」の三つがあります。「include」と
「input」の違いは、正確にはLaTeXの達人にしか意味のないものですが、ほとんどの人にとって意味のある違いといえば、「include」されたファイルは新規頁
から組版されるのに対し、「input」されたファイルは現在のページから組版される点です。
\end_layout

\begin_layout Standard
一般に、マスターファイルは、組版前に完全なLaTeXファイルに変換されますが、インクルードされるファイルは、プリアンブル情報をまったく持たないLaTeXファイル
に変換されます。
\end_layout

\begin_layout Standard
「verbatim」インクルードファイルでは、ファイルの内容がそのまま（つまり「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
verbatim
\end_layout

\end_inset

」モードで）固定幅タイプライタフォントで組版されます。通常、このファイルの空白は、通常のLyXでの空白の取扱いとは違って、連続した複数の空白がそのまま出力される
ものの、単なる見えない空白です。ただし、
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
出力の空白に印付けをする
\end_layout

\end_inset


\family default
チェックボックスを有効にすると、空白が存在することを明確にするために空白の印が出力されます。
\end_layout

\begin_layout Subsection
ファイル間の相互参照
\end_layout

\begin_layout Standard
\begin_inset Box Shadowbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
この節の内容は、すでに古くなっています。既定のマスター文書についてと、マスターが開いているときに子文書をどう開くかについて記述する必要があります。[[要修正]]
\end_layout

\end_inset


\end_layout

\begin_layout Standard
異なるファイル間に相互参照を設定することも可能です。まず、すべての関係するファイルを開いてください。例として、2つのファイルを扱う場合を考え、各ファイルをA・B
と呼びます。BがAにインクルードされるファイルだとします。Aにラベルを入れて、Bで参照したいとしましょう。文書Bで相互参照ダイアログを開いて、使用する「バッファ
」を選んでください。
\end_layout

\begin_layout Subsection
すべての子文書での参考文献
\end_layout

\begin_layout Standard
\begin_inset Box Shadowbox
position "t"
hor_pos "c"
has_inner_box 1
inner_pos "t"
use_parbox 0
width "100col%"
special "none"
height "1in"
height_special "totalheight"
status open

\begin_layout Plain Layout
この節も更新が必要です。この点に関する内容がwikiにあるので、それをここにコピーすることも可か。
\end_layout

\end_inset


\end_layout

\begin_layout Standard
すべての子文書の全文献項目を含んだ参考文献一覧をコピーし、それをコメントに変更してください。このようにすることで、LyXは.bibファイルを見つけることができ、参
考文献一覧を見えるようにせずとも簡単に参照を挿入することができるようになります。
\end_layout

\begin_layout Standard
参考文献一覧がコメントにあるために、LaTeXはそれを使用しないので、参照は[1]のようには表示されないで[?]のように表示されます。ひとつの解決法として、コメ
ントをインクルードするLaTeXパッケージの
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
comment
\end_layout

\end_inset

を使用して、ファイルを別々に処理する方法があります。そのためには、すべての子文書のプリアンブルに以下を書き加えてください。
\end_layout

\begin_layout LyX-Code

\backslash
usepackage{comment}
\end_layout

\begin_layout LyX-Code

\backslash
includecomment{comment}
\end_layout

\begin_layout Standard
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://wiki.lyx.org/FAQ/Unsorted#toc31
\end_layout

\end_inset

も参照してください。
\end_layout

\begin_layout Section
装飾的なヘッダ・フッタ
\end_layout

\begin_layout Standard
既定のページレイアウトは、どちらかといえば素っ気ないものです。
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
article
\end_layout

\end_inset

文書クラスの場合には、ページの下の真ん中にページ番号がつくだけです。この取扱説明書はKOMA-scriptのbookクラスなので、すこしは凝ってますが、ほんとう
に着飾るには、『
\emph on
ユーザーの手引き
\emph default
』に述べられているように、文書ページスタイルを「装飾的（fancy）」に設定する必要があります。この節では、望んだとおりの効果を得るために、LaTeXプリアンブ
ルに挿入する必要のあるLaTeXコードについて解説します。
\end_layout

\begin_layout Standard
ページへッダは、「left（左）」・「center（中央）」・「right（右）」と命名された3つのフィールドに分けられています。フッタも同様に3つのフィールド
に分類されています。これらのフィールドをもっとも簡単に設定するLaTeXコマンドには、
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
lhead
\end_layout

\end_inset


\family default
・
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
chead
\end_layout

\end_inset


\family default
・
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
rhead
\end_layout

\end_inset


\family default
・
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
lfoot
\end_layout

\end_inset

などがあります。かりに、各ページの左上端に自分の名前を入れたいものとしましょう。次のようなコマンドをプリアンブルに入れるだけです。
\end_layout

\begin_layout Standard

\family typewriter

\backslash
lhead{物書 はじめ}
\end_layout

\begin_layout Standard
これで自分の名前が左上に現れます。フィールドに取り除きたい既定の内容がある場合（往々にして中央のフッタにはページ番号が入ります）には、空の引数を持つコマンドを入
れるだけです。すなわち、
\end_layout

\begin_layout Standard

\family typewriter

\backslash
cfoot{}
\begin_inset Newline newline
\end_inset


\family default
とします。
\end_layout

\begin_layout Standard
もっと美しくしてみましょう。節番号を「第‥節」という言葉といっしょに（第3節のように）左上に入れ、ページ番号を（4ページのように）右上に、自分の名前を左下に、日
付を右下に入れます。以下のコマンドをプリアンブルに入れます。
\end_layout

\begin_layout Standard

\family typewriter

\backslash
lhead{第
\backslash
thesection 節}
\end_layout

\begin_layout Standard

\family typewriter

\backslash
chead{}
\end_layout

\begin_layout Standard

\family typewriter

\backslash
rhead{
\backslash
thepage ページ}
\end_layout

\begin_layout Standard

\family typewriter

\backslash
lfoot{物書 はじめ}
\end_layout

\begin_layout Standard

\family typewriter

\backslash
cfoot{}
\end_layout

\begin_layout Standard

\family typewriter

\backslash
rfoot{
\backslash
today}
\end_layout

\begin_layout Standard
コマンド
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
thesecti
\family default
o
\family typewriter
n
\end_layout

\end_inset


\family default
と
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
thepa
\family default
ge
\end_layout

\end_inset

は、それぞれLaTeXの節カウンタおよびページカウンタを取得するもので、これによって現在の節番号とページ番号を印字します。
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
tod
\family default
ay
\end_layout

\end_inset

は、今日の日付を印字するものです。
\end_layout

\begin_layout Standard
へッダ下またはフッタ上に描かれる罫線の太さも変更することができます。もし罫線が必要なければ、太さを0にしてください。ヘッダ罫線は、既定では0.4ptの太さであり、
フッタ罫線は0ptです。太さを変更するには、
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
renewcommand{
\backslash
headrulewidth}{0.4pt}
\end_layout

\end_inset


\family default
や
\family typewriter

\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
renewcommand{
\backslash
footrulewidth}{0.4pt}
\end_layout

\end_inset


\family default
のようなコマンドを使用してください。
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
thispagestyle{empty}
\end_layout

\end_inset

・
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
thispagestyle{plain}
\end_layout

\end_inset

・
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
thispagestyle{fancy}
\end_layout

\end_inset

のようなコマンドを使えば、各ページごとにへッダ・フッタ設定を有効にしたり無効にしたりすることができます。設定を変更したいページに、これらのコマンドをTeXコード
として挿入してください。実は、タイトルページは、その後のページは大域的に装飾的（fancy）に設定されていれば装飾的（fancy）になるにもかかわらず、既定でプ
レーン（plain）になるように設定されているのです。
\end_layout

\begin_layout Standard
奇数ページの左上だけに何かを挿入するなど、もっと複雑なコマンドもあるのですが、詳しい解説は
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
fancyhdr
\end_layout

\end_inset

パッケージの取扱説明書をご参照ください（
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
fancyhdr.dvi
\end_layout

\end_inset

を探してください）。
\end_layout

\begin_layout Standard
最後の例として、へッダやフッタに画像を挿入できることを取り上げましょう。会社のロゴをページ左上に入れたいものとします。たとえば、
\end_layout

\begin_layout Standard

\family typewriter

\backslash
lhead{
\backslash
resizebox{1in}{!}{
\backslash
includegraphics{logo.eps}}}
\end_layout

\begin_layout Standard
\noindent
とすれば、これを実現できます（文書中に他に画像を挿入していない場合には、
\begin_inset Newline newline
\end_inset


\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
\noindent

\family typewriter

\backslash
usepackage{graphics}
\end_layout

\end_inset

をプリアンブルに宣言する必要があります）。
\end_layout

\begin_layout Section
箇条書き（記号）ブリットの指定
\begin_inset CommandInset label
LatexCommand label
name "sec:ブリット"

\end_inset


\end_layout

\begin_layout Standard

\noun on
Allan Rae文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
LyXには、ブリットの形が216個準備されていて、簡単なダイアログから呼び出すことができます。このダイアログを使えば、箇条書き（記号）の各階層で使うブリットの形
を変更することができます。この設定は文書全体に共通なので、段落ごとに別のブリットを指定することはできません
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
正確には可能ですが、手動で行う必要があります。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
インタフェース
\end_layout

\begin_layout Standard
メニュー項目の
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
文書\SpecialChar \menuseparator
設定
\end_layout

\end_inset

を選択してダイアログを開き、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ブリット
\end_layout

\end_inset

タブを選択してください。
\end_layout

\begin_layout Standard
そのダイアログに、ブリットの形の一覧表があります。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
フォント
\end_layout

\end_inset

と書いてあるドロップダウンメニューで、6つの各ブリット形パネルを切り替えることができます。また、一覧表左の
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
階層
\end_layout

\end_inset

パネルは、変更したい階層を選択するものです。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
任意のブリット
\end_layout

\end_inset

では、指定したいLaTeX表現を入力することができます。任意のブリットを指定した場合には、そのコマンドが必要とするパッケージをLaTeXプリアンブルで指定する必
要があります。
\end_layout

\begin_layout Standard
6つのパネルは、それぞれが必要とするパッケージによって分類されています。下記は、フォント名とLaTeXパッケージの対応表です。
\end_layout

\begin_layout Standard
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="2">
<features>
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
フォント
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
必要とするパッケージ
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
標準
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
LaTeX
\family roman
本体
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
数式
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
amssymb.sty
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
絵文字1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
pifont.sty
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
絵文字2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
pifont.sty
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
絵文字3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
pifont.sty
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family sans
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
絵文字4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\family typewriter
\series medium
\shape up
\size normal
\emph off
\bar no
\noun off
\color none
pifont.sty
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Standard
LyXは、ユーザーが導入されていないパッケージのブリットを使用したとしても、警告を発しません。ファイルを閲覧したり印刷したりしようとしたときにLaTeXエラーが
出るようならば、パッケージが導入されていない可能性が大です
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
LyXが、パッケージがなくてもブリットを使用することを許すのは、編集をここで行ったとしても、別のところへエクスポートする可能性があるからです。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
使用法
\end_layout

\begin_layout Standard
変更したいブリット階層を選んで、ブリットの形と大きさを選んでください。何らかの変更を加えたとしても、LyX上には反映されませんが、文書の表示を行えば確認されます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
もし
\emph on
本当に
\emph default
段落ごとに異なるブリットの形を使いたいならば、TeXコードを使って少し手を汚す必要があります。この場合も、ブリット選択ダイアログを使えば、さまざまな形のLaTe
Xコードを確認することができるので手助けとなるでしょう。任意に設定した段落をつくるには、以下のような選択肢があります。
\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
let
\backslash
savelabelitemi=
\backslash
labelitemi
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
renewcommand
\backslash
labelitemi[0]{
\backslash
small
\backslash
(
\backslash
sharp
\backslash
)}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
特定の階層の新しいブリット形を指定するには、LaTeXコマンド
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter

\backslash
renewcommand{}{}
\end_layout

\end_inset

を使用します。あとで現在のブリット形に戻すことができるように、現在のブリット形を保存しておく必要もあります。ここで使っている箇条書きでは、第1階層のブリットを変
更するために、以下のLaTeXコードが使用されています。
\end_layout

\begin_deeper
\begin_layout LyX-Code

\family typewriter

\backslash
let
\backslash
savelabelitemi=
\backslash
labelitemi
\end_layout

\begin_layout LyX-Code

\family typewriter

\backslash
renewcommand
\backslash
labelitemi[0]{
\backslash
small
\backslash
(
\backslash
sharp
\backslash
)}
\end_layout

\end_deeper
\begin_layout Itemize
箇条書き（記号）の階層は、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\backslash
labelitem
\end_layout

\end_inset

コマンドの一部にローマ数字で指定されていることに注意してください。
\end_layout

\begin_layout Itemize
\begin_inset ERT
status open

\begin_layout Plain Layout

[
\backslash
(
\backslash
star
\backslash
)]
\end_layout

\end_inset

各項目のブリットを指定するには、角括弧で囲んだブリット形を、行頭に
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
TeXコード
\end_layout

\end_inset

として挿入してください。たとえば、この項目の行頭には
\family typewriter
、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
[
\backslash
(
\backslash
star
\backslash
)]
\end_layout

\end_inset


\family default
が指定されています。
\end_layout

\begin_layout Plain Layout
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
renewcommand
\backslash
labelitemi[0]{
\backslash
savelabelitemi}
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
文書全体で使用するブリット形が有効であるようにするために、labelitemを元の設定に戻す必要があります。そのためには、以下のようにします。
\end_layout

\begin_layout LyX-Code

\family typewriter

\backslash
renewcommand
\backslash
labelitemi[0]{
\backslash
savelabelitemi}
\end_layout

\end_inset

。
\end_layout

\begin_layout Chapter
LyXサーバー
\end_layout

\begin_layout Section
はじめに
\end_layout

\begin_layout Standard
「LyXサーバー」を使用すると、他のプログラムが、LyXと通信したり、LyXコマンドを実行させたり、LyXの内部状態に関する情報を取得したりすることができるよう
になります。これは熟練したユーザー向けの機能ですが、便利なはずです。たとえば、LyXサーバーに書き込むことによって、JabRefのような参考文献管理ソフトが、L
yXに文献引用を「押し込む」ことが可能となります。
\end_layout

\begin_layout Standard
ただし、現在のところ、
\emph on
LyXサーバーはWindowsでは機能しない
\emph default
ことに注意してください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これが不可能でなければならない理由はありません。しかし、いまのところ、Windows向け開発者でこの機能を実装しようとする者がいないのです。
\end_layout

\end_inset

。
\end_layout

\begin_layout Section
LyXサーバーを開始するには
\end_layout

\begin_layout Standard
LyXサーバーは、名前をつけたパイプの対を利用することで機能します。パイプは、通常
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
UserDir
\end_layout

\end_inset

の下に作られ、「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.lyxpipe.in
\end_layout

\end_inset

」および「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.lyxpipe.out
\end_layout

\end_inset

」という名前がついています。外部プログラムは、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.lyxpipe.in
\end_layout

\end_inset

に書き込みを行い、戻りデータを
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.lyxpipe.out
\end_layout

\end_inset

から読み出します。パイプ名の語幹は、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar \menuseparator
設定
\end_layout

\end_inset

から、たとえば「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/home/myhome/lyxpipe
\end_layout

\end_inset

」などに設定することができます。サーバーを開始するためには、これを
\emph on
手動で設定しなくてはなりません
\emph default
。
\end_layout

\begin_layout Standard
LyXは、パイプを生成するに際して、「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.in
\end_layout

\end_inset

」および「
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
.out
\end_layout

\end_inset

」を付け加えます。パイプがすでに存在していれば、LyXは他のLyXプロセスがすでに実行中であると判断して、サーバーを開始しません。いいかえれば、LyXがクラッシ
ュしたり、あるいはなんらかの理由で、LyXが終了する際に「古い」パイプが削除されずに残ったりすると、LyXはサーバーを開始しようとしません（これはバグ641号で
す）。この場合には、手動でパイプを削除したのちに、LyXを再起動する必要があります。
\end_layout

\begin_layout Standard
サーバーを使用するLyXプロセスを複数起動するには、それぞれのプロセスに、別のユーザーディレクトリを使用させたり、べつべつの
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
preferences
\end_layout

\end_inset

ファイルを使用させるなど、別々の設定を使用する必要があります。
\end_layout

\begin_layout Standard
クライアントプログラムを開発しようとされているのであれば、LyXサーバーからのデバッグ情報を有効にすると便利かもしれません。そのためには、Lyxを
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
lyx -dbg lyxserver
\end_layout

\end_inset

として起動してください。
\end_layout

\begin_layout Standard
このほかに、いくつか留意すべき点があります。
\end_layout

\begin_layout Itemize
サーバーとクライアントは、いずれもUNIXかOS/2マシーン上で実行する必要があります。UNIX上のLyXと、OS/2上のクライアントのあいだの通信や、その逆は
、現在のところ実行できません。
\end_layout

\begin_layout Itemize
OS/2上では、同時に一つのクライアントだけがLyXサーバーに接続することができます。
\end_layout

\begin_layout Itemize
OS/2上では、クライアントは入力パイプを
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
O_WRONLY
\end_layout

\end_inset

モードで開かなくてはなりません。
\end_layout

\begin_layout Standard
C言語で書かれた完全なサンプルクライアントが、ソース頒布版の
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
development/lyxserver/server_monitor.c
\end_layout

\end_inset

にあります。
\end_layout

\begin_layout Section
通常の通信
\end_layout

\begin_layout Standard
LyXコールを発行するには、クライアントはASCIIテキスト行を入力パイプに書き込みまなくてはなりません。この行は、以下の書式を持ちます。
\end_layout

\begin_layout Quote
LYXCMD:
\emph on
クライアント名
\emph default
:
\emph on
関数
\emph default
:
\emph on
引数
\end_layout

\begin_layout Description
クライアント名 は、クライアントが自由に選べる名前です。これが用いられるのは、クライアントが他の要求クライアントから結果を見分けることができるように、LyXが返
答をする際、クライアント名をエコーするときだけです。
\end_layout

\begin_layout Description
関数 は、LyXに実行させたい関数です。これは、ミニバッファで使用するコマンドと同じです。
\end_layout

\begin_layout Description
引数 は、一部の関数のみに効力を持つオプションの引数です（たとえば、「自己挿入」LFUNは、現在のカーソル位置に引数を文章として挿入します）。
\end_layout

\begin_layout Standard
LyXからの返答は、出力パイプに送り出され、
\end_layout

\begin_layout Quote
INFO:
\emph on
クライアント名
\emph default
:
\emph on
関数
\emph default
:
\emph on
データ
\end_layout

\begin_layout Standard
の書式をしています。ここで
\emph on
クライアント名
\emph default
と
\emph on
関数
\emph default
は、コマンド要求からそのままエコーされますが、
\emph on
データ
\emph default
はコマンド実行の結果に依存した、多少なりとも有用な情報です。「font-state」のような一部のコマンドは、LyXの内部状態に関する情報を返しますが、空のデー
タ応答を返すものもあります。空のデータ返答は、コマンド実行が無事終わったことを意味します。
\end_layout

\begin_layout Standard
エラーが発生した場合のLyXの返答は
\end_layout

\begin_layout Quote
ERROR:
\emph on
クライアント名
\emph default
:
\emph on
関数
\emph default
:
\emph on
エラーメッセージ
\end_layout

\begin_layout Standard
の書式をしており、
\emph on
エラーメッセージ
\emph default
には、なぜコマンドが失敗したかの説明が入っているはずです。
\end_layout

\begin_layout Standard
（例）
\end_layout

\begin_layout LyX-Code
echo "LYXCMD:test:beginning-of-buffer:" >~/.lyxpipe.in
\end_layout

\begin_layout LyX-Code
echo "LYXCMD:test:get-xy:" >~/.lyxpipe.in
\begin_inset Newline newline
\end_inset

read a <~/.lyxpipe.out
\begin_inset Newline newline
\end_inset

echo $a
\end_layout

\begin_layout Section
通知
\end_layout

\begin_layout Standard
LyXは、発生しているイベントを、非同期的にクライアントに通知することができます。いまのところ、ユーザーがあるキー列を関数「notify」に割り当てているときの
み、LyXはこの通知を行います。LyXが送る文字列の書式は
\end_layout

\begin_layout Quote
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
NOTIFY:
\end_layout

\end_inset


\emph on
キー列
\end_layout

\begin_layout Standard
となっていて、
\emph on
キー列
\emph default
は、ユーザーが実際に打鍵したキー列の印字表現になります。
\end_layout

\begin_layout Standard
この機構は、LyXのコマンド群を拡張してマクロを実装するのに使用することができます。なんらかのキー列を「notify」に割り当ててください。それから出力パイプで
待機するクライアントを起動し、キー列に応じたコマンドを読み込み、一つないし複数のLyXコマンドを発行するLyX要求とLyXコールを使用する関数を開始するのです。
\end_layout

\begin_layout Section
単純なLyXサーバープロトコル
\end_layout

\begin_layout Standard
LyXは、セッション管理に使用することができる単純なプロトコルを実装しています。メッセージは、すべて
\end_layout

\begin_layout Quote
LYXSRV:
\emph on
クライアント名
\emph default
:
\emph on
プロトコルメッセージ
\end_layout

\begin_layout Standard
の書式をしており、
\emph on
プロトコルメッセージ
\emph default
は「hello」ないし「bye」です。クライアントから「hello」を受け取ると、LyXはメッセージを聴いていることをクライアントに伝えるために返答をし、LyX
が終了することをクライアントに伝えるのには、LyXが「bye」を送信します。
\end_layout

\begin_layout Chapter
特別な文書クラス
\end_layout

\begin_layout Section
A&A Paper
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Peter Sütterlin
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
この節では LyXと文書クラス 
\family typewriter
aa.cls
\family default
のバージョン 5.01を使って科学雑誌 
\emph on
Astronomy and Astrophysics
\emph default
 (www.edpsciences.fr/aa/ 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.edpsciences.fr/aa/
\end_layout

\end_inset

)に投稿する論文を書く方法を説明します。。このパッケージは次の ftpサイトから手にいれることができます。
\end_layout

\begin_layout Standard
\align center
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

ftp://ftp.edpsciences.org/pub/aa/readme.html
\end_layout

\end_inset


\end_layout

\begin_layout Standard
取扱説明書がこのパッケージについてきます。この節は取扱説明書にとって代わるものではなく、あなたの論文を正しいフォームに直すのを手伝う短いガイドです。このジャーナ
ルの出版社は 2001年1月1日に Springer から EDPへ変わりました。この出版社の変更によりスタイルファイルもすこし変わって、thesaurusコマ
ンドが廃止されました。LyXの aaサポートはこの新しいスタイルファイル（バージョン 5.01）をサポートしています。古いバージョンのスタイルファイルをインストー
ルしている場合は、アップグレードしてください。互換性のために古い（バージョン 4）のレイアウトは 
\family sans
article (A&A V4)
\family default
として残してあります。
\family typewriter
LyXDir/layouts/aapaper.layout
\family default
のコメントも参照してください。
\end_layout

\begin_layout Subsection
最初の一歩
\end_layout

\begin_layout Standard
LyXといっしょに配布されているテンプレートから始めることを勧めます。テンプレートを使わない場合は、以下の設定にしてください。
\end_layout

\begin_layout Itemize

\family sans
Document\SpecialChar \menuseparator
Layout
\family default
ダイアログの 
\family sans
\bar under
C
\bar default
lass
\family default
エントリで 
\family sans
article (A&A)
\family default
を選んでください。
\end_layout

\begin_layout Itemize

\family sans
\bar under
P
\bar default
agestyle
\family default
のオプションは変えないで、既定のままにしておいてください。全体のレイアウトはマクロがやってくれるので、これを変えないでください。
\end_layout

\begin_layout Subsection
へッダブロック
\end_layout

\begin_layout Standard
最初に書くことはへッダに関する情報です。これには次のような 7つの項目があります。
\end_layout

\begin_layout Itemize

\family sans
Title
\family default
: [必要] 
\end_layout

\begin_layout Itemize

\family sans
Subtitle
\family default
: [optional] 
\end_layout

\begin_layout Itemize

\family sans
Author
\family default
: [必要]
\end_layout

\begin_layout Itemize

\family sans
Address
\family default
: [必要]
\end_layout

\begin_layout Itemize

\family sans
Offprints
\family default
: [optional] 著者が複数いる場合、抜き刷りのリクエストのために連絡する人。
\end_layout

\begin_layout Itemize

\family sans
Mail
\family default
: [optional] 連絡用の e-mailアドレス。
\end_layout

\begin_layout Itemize

\family sans
Date
\family default
: [必要] 推奨されるフォーマットは 
\family typewriter
Received: <date>; Accepted <date>
\end_layout

\begin_layout Standard

\family typewriter

\backslash
maketitle
\family default
コマンドを入れる必要はありません。へッダが終わったら、LyXが自動的に入れてくれます。各エントリを書く順序は関係ありませんが、上の順序で書くことをすすめます。見
た目がいいのと、出版された場合のレイアウトがそのようになっているからです。
\end_layout

\begin_layout Standard
へッダブロックに脚注をいれる場合には（例えば現住所を脚注に入るような場合です）、
\family sans
\bar under
I
\bar default
nsert\SpecialChar \menuseparator

\bar under
F
\bar default
ootnote
\family default
を使って普通の脚注を入れてください。LyXがそれを自動的に 
\family typewriter

\backslash
thanks{}
\family default
に変えてくれます。
\end_layout

\begin_layout Standard
これ以外に、このマクロは LyXが対応していない 3つの LaTeXコマンドを用意しています。
\end_layout

\begin_layout Itemize
複数の著者名、機関名を分けるための 
\family typewriter

\backslash
and
\end_layout

\begin_layout Itemize
著者と機関の対応をつけるための 
\family typewriter

\backslash
inst{<nr>}
\family default
。機関名は 
\family sans
Address
\family default
フィールドにあらわれる順に番号がつけられます。そのため、それと著者名を対応させることが必要なのです。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
email{address}はコンタクトを取るための e-mailアドレスを入力するのに使います。
\end_layout

\begin_layout Standard
これらの LaTeXコードを使いたい場合には、コマンドを直接 LyXに入力して LaTeXコードとしてマークしてください。/usr/local/share/ly
x/examples/ にある例を見てください。
\end_layout

\begin_layout Subsection
アブストラクト
\end_layout

\begin_layout Standard
アブストラクトはへッダブロックのすぐ後ろにこなければなりません。バージョン 5から abstract環境はコマンドへとかわり、1つの段落だけに制限されました。も
う一つ気をつけなければならないのはキーワードを入れる必要があるのですが、それが LyXでは実装されていないことです。そのために手で LaTeXコマンド
 
\family typewriter

\backslash
keywords{}
\family default
を入力し、LaTeXコードとしてマークする必要があります。論文の例を見てください。
\end_layout

\begin_layout Subsection
サポートされる環境
\end_layout

\begin_layout Standard
A&A paperレイアウトでは文章を構造化するための次の環境がサポートされています。
\end_layout

\begin_layout Itemize

\family sans
Standard
\end_layout

\begin_layout Itemize

\family sans
Section
\end_layout

\begin_layout Itemize

\family sans
Subsection
\end_layout

\begin_layout Itemize

\family sans
Subsubsection
\end_layout

\begin_layout Itemize

\family sans
Itemize
\end_layout

\begin_layout Itemize

\family sans
Enumerate
\end_layout

\begin_layout Itemize

\family sans
Description
\end_layout

\begin_layout Itemize

\family sans
Caption
\end_layout

\begin_layout Itemize

\family sans
Abstract
\end_layout

\begin_layout Itemize

\family sans
Acknowledgment
\end_layout

\begin_layout Itemize

\family sans
Bibliography
\end_layout

\begin_layout Itemize

\family sans
LaTeX
\end_layout

\begin_layout Subsection
LyXでサポートされていないコマンド
\end_layout

\begin_layout Standard
いくつかのコマンドは LyXの 
\family sans
paper (A&A)
\family default
レイアウトではサポートされていません。いくつかのコマンドはすでに紹介しましたが、次にサポートされていないコマンドのリストを書いておきます。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
and
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
email
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
appendix
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
authorrunning
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
inst{}
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
keywords{}
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
object{}
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
titlerunning{}
\end_layout

\begin_layout Standard
もしこれらのコマンドを使いたい場合は、自分で文章中にコマンドを入れる必要があります。
\emph on
LaTeXコマンドとしてマークするのを忘れないで下さい。
\end_layout

\begin_layout Subsection
図とテーブルフロート
\end_layout

\begin_layout Standard
LyXは必要なフロート環境 
\family sans
figure、figure*、table、table*
\family default
をサポートしています。そのため、ここでは詳しい説明はしません。ユーザーの手引きを見てください。ただし、表は左揃にしなければならないのを忘れないで下さい。そのため
には 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
P
\bar default
aragraph
\family default
を選択して、alignmentを変えてください。
\end_layout

\begin_layout Standard
一つだけ特別なことがあります。キャプションを図の横に書く場合です。このような図をつくるためには次のようにします。
\end_layout

\begin_layout Enumerate

\family sans
\bar under
I
\bar default
nsert\SpecialChar \menuseparator
Fl
\bar under
o
\bar default
ats\SpecialChar \menuseparator
Figure
\family default
 を使って wide figureフロートをつくります。そして図を右クリックして 
\family sans
\bar under
S
\bar default
pan columns
\family default
 を選びます。
\end_layout

\begin_layout Enumerate
キャプションの文を入力します。
\end_layout

\begin_layout Enumerate
カーソルをキャプションの上に移動するために 
\family sans
Return
\family default
を押します。
\end_layout

\begin_layout Enumerate
図を挿入します。
\end_layout

\begin_layout Enumerate
カーソルを図の後ろに移動して 
\family sans
\bar under
H
\bar default
Fill
\family default
を挿入 -- 
\family sans
\bar under
I
\bar default
nsert\SpecialChar \menuseparator

\bar under
S
\bar default
pecial
\begin_inset space ~
\end_inset

Character
\bar under
\SpecialChar \menuseparator
H
\bar default
Fill。
\end_layout

\begin_layout Enumerate
LaTeXモードに変わります
\family sans
。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
parbox[b]{55mm}{
\family default
と入力します。
\emph on
括弧を閉じないでください。
\end_layout

\begin_layout Enumerate
カーソルをキャプションの文の後ろに持っていき、LaTeXモードに変わって閉じ括弧を挿入します 。
\end_layout

\begin_layout Standard
論文の例の図も参照してください。
\end_layout

\begin_layout Subsection
Referee layout
\end_layout

\begin_layout Standard
投稿するためには論文は特別なダブルスペースのレイアウトになっていなければなりません。そのためには 
\family typewriter
referee
\family default
オプションを documentclassに与える必要があります。
\family sans
Document
\family default
ダイアログの 
\family sans
E
\bar under
x
\bar default
tra
\family default
 
\family sans
Options
\family default
フィールドを使ってください。
\family typewriter
referee
\family default
と入力するだけです。
\end_layout

\begin_layout Subsection
論文の例
\end_layout

\begin_layout Standard

\family sans
Examples
\family default
ディレクトリに LyXで書かれた論文の例が入っています。この論文の例は、もとのマクロパッケージに含まれていたものを LyXで書き直したものです。これを見るとどの
ように使えばいいのかがわかるでしょう。またもとの LaTeXのコードと LyXで書く場合を比べてください。
\end_layout

\begin_layout Section
AASTeX
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Mike Ressler
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
AASTeXは American Astronomical Societyによって作られた（Lettersと Supplementを含んだ）the
 Astrophysical Journal、the Astronomical Journal、それに the Astronomical Society
 of the Pacificが発行するジャーナルに投稿するための一連のマクロです。LyXで使うにはマクロのバージョン 5.0（またはそれ以上）が必要です。5.0よ
り前のバージョンは LaTeX2.09といっしょに使うためのもので、LyXでは基本的に使えません。AASTeXパッケージは以下の AASの ftpサイトからダウン
ロードできます。
\end_layout

\begin_layout Standard
\align center
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

ftp://ftp.aas.org/pubs
\end_layout

\end_inset


\end_layout

\begin_layout Standard
完全なユーザーの手引きがこのパッケージの中に含まれていますので、LyXで論文を書き始める前にそれをよく読んでください。LyXは AASTeXコマンドを理解するた
めの必要性を減らすのではなく、入力の手間を減らすだけです。最終的に LaTeXファイルにされた論文が投稿するジャーナルの要求事項に完全に従っているかどうかは、あ
なたの責任です。
\end_layout

\begin_layout Subsection
新しい論文を書き始める
\end_layout

\begin_layout Standard
AASTeXテンプレートファイルを使って書き始めることを強くすすめます。
\family sans
File\SpecialChar \menuseparator
New from template
\family default
を選択して、新しいファイル名を入力し、それから 
\family typewriter
aastex.lyx
\family default
テンプレートを選んでください。これは大部分の論文で使われる共通のフィールドを用意しています。単に正しい情報を既存のテキスト（<>を含みます）に上書きしてください
。AASTeXのコマンドと環境の多くは直接 LyXで実行することができますが、いくつかのものはできません。その中でもっとも目につくのは 
\family typewriter

\backslash
altaffilmark
\family default
と 
\family typewriter

\backslash
altaffiltext
\family default
です。これらのコマンドはテンプレートファイルを開いたとき、赤色で表示されているでしょう。これらのコマンドは、直接 LaTeXコードを入力して、それを
 LaTeXコードとしてマークしなければなりません。我々はそのようなコマンドを ERT (Evil Red Text)と呼んでいます。AASTeXドキュメントの
中の必要とされる ERTはできるだけ少なくなるようにはしているのですが、望む水準よりは多くの ERTが必要になっています。
\end_layout

\begin_layout Subsection
論文を書き終わったら
\end_layout

\begin_layout Standard
論文を満足する水準で書き終えて、印刷した結果が良好だとしましょう。それでもジャーナルに投稿する前に必要な、いくつかの「後処理」があります。
\end_layout

\begin_layout Enumerate
論文を LaTeXファイルとして出力します。(
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator

\bar under
E
\bar default
xport\SpecialChar \menuseparator

\bar under
L
\bar default
ateX
\family default
)
\end_layout

\begin_layout Enumerate
出力した .texファイルをお気に入りのエディタで編集します。
\end_layout

\begin_deeper
\begin_layout Enumerate

\family typewriter

\backslash
documentclass
\family default
コマンドの前のコメント行を消します。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
usepackage...{fontenc}
\family default
行がもしあれば（普通は 
\family typewriter

\backslash
documentclass
\family default
のすぐ後ろにあります）これを消します。また 
\family typewriter

\backslash
secnumdepth
\family default
行があれば、これも消します。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
makeatletter
\family default
と 
\family typewriter

\backslash
makeatother
\family default
の間のものを消去します。ただしあなたが自分で LaTeXのプリアンブルに入れたコマンドは残しておいてください（それらは .texファイルの User
 specified LaTeX commandsというコメントのすぐ後にあるはずです）。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
figcaption
\family default
コマンドを探して、そこにある 
\family typewriter
FileName
\family default
を正しい、実際にあるファイル名に変えてください。
\end_layout

\begin_layout Enumerate
必要なら 
\family typewriter

\backslash
cite
\family default
コマンドを変えてください（以下の節
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "cite"

\end_inset

を参照）。
\end_layout

\end_deeper
\begin_layout Enumerate
編集したファイルに LaTeXを走らせて、正しく処理できるかを確認します。
\end_layout

\begin_layout Enumerate
ファイル名、フォーマットが正しいかどうかを、ジャーナルの要求事項をもう一度読んで確かめます。
\end_layout

\begin_layout Enumerate
投稿してください。
\end_layout

\begin_layout Subsection
いくつかのコマンドに関するコメント
\end_layout

\begin_layout Standard
ここで各々の AASTeXコマンドを説明するつもりはありません。AASTeX ユーザーの手引き (
\family typewriter
aasguide.tex
\family default
)に詳しく書いてあります。そこでここでは LyXで使う場合に必要なコメントを書いておくだけにします。
\end_layout

\begin_layout Subsubsection
予想通りに動くコマンド
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
以下のコマンドは予想通りに動きます。コマンド名の後ろにあるのはそのコマンドが説明されている AASTeXユーザーの手引きの節番号です。
\family typewriter

\backslash
documentclass
\family default
 (2.1.1), 
\family typewriter

\backslash
begin{document}
\family default
 (2.2), 
\family typewriter

\backslash
title
\family default
 (2.3), 
\family typewriter

\backslash
author
\family default
 (2.3), 
\family typewriter

\backslash
affil
\family default
 (2.3), 
\family typewriter

\backslash
abstract
\family default
 (2.4), 
\family typewriter

\backslash
keywords
\family default
 (2.5), 
\family typewriter

\backslash
section
\family default
 (2.7), 
\family typewriter

\backslash
subsection
\family default
 (2.7), 
\family typewriter

\backslash
subsubsection
\family default
 (2.7), 
\family typewriter

\backslash
paragraph
\family default
 (2.7), 
\family typewriter

\backslash
begin{displaymath}
\family default
 (2.11), 
\family typewriter

\backslash
begin{equation}
\family default
 (2.11), 
\family typewriter

\backslash
begin{eqnarray}
\family default
 (2.11), 
\family typewriter

\backslash
begin{mathletters}
\family default
 (2.11), 
\family typewriter

\backslash
begin{thebibliography}
\family default
 (2.12.1), 
\family typewriter

\backslash
bibitem
\family default
 (2.12.2), 
\family typewriter

\backslash
begin{table}
\family default
 (2.14.4), 
\family typewriter

\backslash
begin{tabular}
\family default
 (2.14.4), 
\family typewriter

\backslash
caption
\family default
 (2.14.4), 
\family typewriter

\backslash
label
\family default
 (2.14.4, それ以外の場所にも多くあり), 
\family typewriter

\backslash
tablerefs
\family default
 (2.14.5), 
\family typewriter

\backslash
tablecomments
\family default
 (2.14.5), 
\family typewriter

\backslash
url
\family default
 (2.15.4), 
\family typewriter

\backslash
end{document}
\family default
 (2.16).
\end_layout

\begin_layout Standard
また次のスタイルオプションも正しく動きます。
\family typewriter
preprint
\family default
, 
\family typewriter
preprint2
\family default
, 
\family typewriter
eqsecnum
\family default
, 
\family typewriter
flushrt
\family default
 (3, 3.1, 3.2)。これらのオプションを使うには、
\family sans
Layout\SpecialChar \menuseparator
Document
\family default
を選んで 
\family sans
Extra Options
\family default
ボックスにオプションを入力してください。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
動くけれども少し説明が必要なコマンド
\end_layout

\begin_layout Standard
以下のコマンドは動くのですが、少し説明が必要です。
\end_layout

\begin_layout Itemize
次のコマンドはジャーナルの編集者専用ですが、どうしても必要なら LaTeXのプリアンブルに入れることができます。
\family typewriter

\backslash
received
\family default
, 
\family typewriter

\backslash
revised
\family default
, 
\family typewriter

\backslash
accepted
\family default
, 
\family typewriter

\backslash
ccc
\family default
, 
\family typewriter

\backslash
cpright
\family default
 (これらはすべて 2.1.3)
\end_layout

\begin_layout Itemize
次のコマンドは LaTeXのプリアンブルに置くことができます。テンプレートファイルのプリアンブルには空の引数をつけてこれらのコマンドが含まれています。
\family typewriter

\backslash
slugcomment
\family default
 (2.1.4), 
\family typewriter

\backslash
shorttitle
\family default
 (2.1.5), 
\family typewriter

\backslash
shortauthors
\family default
 (2.1.5)
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
email
\family default
 (2.3) はそれだけで使うことはできますが、段落の途中で使うことはできません。必要な場合は ERTで使ってください。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
and
\family default
 (2.3) は後ろに{}を追加します。しかしこれはエラーを発生させません。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
notetoeditor
\family default
 (2.6)はそれだけで使うことはできますが、段落の途中で使うことはできません。必要な場合は ERTで使ってください。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
placetable
\family default
 (2.8)はクロスリファレンスのタグを挿入することができません。手で入力する必要があります。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
placefigure
\family default
 (2.8) は 
\family typewriter

\backslash
placetable
\family default
の場合と同じです。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
acknowledgements
\family default
 (2.9)は後ろに{}を追加します。しかしこれはエラーを発生させません。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
appendix
\family default
 (2.10)は後ろに{}を追加します。しかしこれはエラーを発生させません。
\end_layout

\begin_layout Itemize

\family typewriter

\backslash
figcaption
\family default
 (2.13.2) -- 最終的な LaTeXファイルで追加的な引数を手で編集しなければなりません。
\end_layout

\begin_layout Subsubsection
実装されてなく、ERTを使わなければならないコマンド
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\family typewriter

\backslash
altaffilmark
\family default
 (2.3), 
\family typewriter

\backslash
altaffiltext
\family default
 (2.3), 
\family typewriter

\backslash
eqnum
\family default
 (2.11), 
\family typewriter

\backslash
setcounter{equation}
\family default
 (2.11), 
\family typewriter

\backslash
citet
\family default
 (2.12), 
\family typewriter

\backslash
citep
\family default
 (2.12), Journal name abbreviations (2.12.4), 
\family typewriter

\backslash
figurenum
\family default
 (2.13.1), 
\family typewriter

\backslash
epsscale
\family default
 (2.13.1), 
\family typewriter

\backslash
plotone
\family default
 (2.13.1), 
\family typewriter

\backslash
plottwo
\family default
 (2.13.1), 
\family typewriter

\backslash
tablenum
\family default
 (2.14.4), 
\family typewriter

\backslash
tableline
\family default
 (2.14.4, 必要な場合は左側のセルの一番目の要素として挿入する。表の中ではどのような LyXの方法も使わない), 
\family typewriter

\backslash
tablenotemark
\family default
 (2.14.5), 
\family typewriter

\backslash
tablenotetext
\family default
 (2.14.5), most everything in Misc (2.15)の中のほとんどすべてのもの (
\family typewriter

\backslash
url
\family default
と 
\family typewriter

\backslash
email
\family default
は除く), 
\family typewriter

\backslash
singlespace
\family default
 (3.1), 
\family typewriter

\backslash
doublespace
\family default
 (3.1), 
\family typewriter

\backslash
onecolumn
\family default
 (3.2), 
\family typewriter

\backslash
twocolumn
\family default
 (3.2)
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
実装できないもの
\end_layout

\begin_layout Standard
references (2.12.3)環境と deluxetable (2.14)環境は実装できません。無視することをすすめます。もし絶対に deluxetableを
使う必要があるなら、別のファイルにテキストエディタで編集してそれを 
\family sans
Insert\SpecialChar \menuseparator
Include File
\family default
を使って LyXファイルに含めるのを推奨します。
\family typewriter
aas_sample.lyx
\family default
ファイルを参照してください。これの例が含まれています。
\end_layout

\begin_layout Subsection
FAQとヒント
\end_layout

\begin_layout Subsubsection
LyXに AASTeXを認識させる
\end_layout

\begin_layout Standard
LyXに新しいレイアウトと文書クラスを認識させるには少しコツが要ります。もしうまく行かなかったら、次のようにしてみてください。
\end_layout

\begin_layout Enumerate
LaTeXが AASTeXをちゃんと見つけられるか確かめてください。AASTeXパッケージに含まれる sample.tex （table.texでもいいのですが）を
、LaTeXや AASTeXとまったく関係のないディレクトリへコピーしてそれから LaTeXを走らせてみてください。
\end_layout

\begin_layout Enumerate

\family typewriter
astex.layout
\family default
が 
\family typewriter
/usr/.../share/lyx/layouts
\family default
または 
\family typewriter
~/.lyx/layouts
\family default
にあるのを確かめてください。
\end_layout

\begin_layout Enumerate
LyXで 
\family sans
Options\SpecialChar \menuseparator
Reconfigure
\family default
を走らせて、それから LyXを再起動してください。
\end_layout

\begin_layout Enumerate
テンプレートからではなく、普通の 
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator

\bar under
N
\bar default
ew
\family default
から新しいファイルを開いてください。
\family sans
Layout\SpecialChar \menuseparator
Document\SpecialChar \menuseparator
Class
\family default
で AASTeXがあらわれているでしょうか。
\end_layout

\begin_layout Standard
もし既存の AASTeXで書いた文章で not being able to find the AASTeX layoutという警告を受けたり、You
 should not mix title layouts with normal onesというメッセージがでた場合にはキチンとインストールできていません。
\end_layout

\begin_layout Subsubsection
表を処理する際の LaTeXエラー
\end_layout

\begin_layout Standard
既定では LyXは表のキャプション/タイトルを表の中心に配置しようとします。これが AASTeXと変な干渉を起こすようです。これを避けるにはキャプションのどこか
をクリックして、それから 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
P
\bar default
aragraph
\family default
を選択し 
\family sans
Alignment
\family default
を 
\family sans
\bar under
B
\bar default
lock
\family default
にしてください。少なくとも私はこの方法でうまく行きます。
\end_layout

\begin_layout Subsubsection
参考文献
\begin_inset CommandInset label
LatexCommand label
name "cite"

\end_inset


\end_layout

\begin_layout Standard
2、3の注意があります。1番目は本文中のレファレンスエントリのスペースが少しおかしいことです。参照文献の項目データを入力するときに、最後の著者と年を入れる括弧の
間にスペースを入れないようにしてください。つまり 
\family typewriter
Ressler(1992)
\family default
と書いて 
\family typewriter
Ressler (1992)
\family default
のようにはしないでください。
\end_layout

\begin_layout Standard

\family typewriter
2番目に 
\backslash
citet
\family default
と 
\family typewriter

\backslash
citep
\family default
をもっと自動的に使えるようにしたいのですが、できていません。それには LyXのソースコードを変える必要があるのです。いまのところ、2つの方法のうちのどちらかを選
ぶ必要があります。a) すべての文献の参照に 
\family sans
Insert\SpecialChar \menuseparator
Citation Reference
\family default
を使います。これで少なくとも自動的に挿入できます。そして投稿する前に LaTeXファイルを手で編集して 
\family typewriter

\backslash
cite
\family default
を 
\family typewriter

\backslash
citet
\family default
か 
\family typewriter

\backslash
citep
\family default
に変えていくのです（
\family typewriter

\backslash
cite
\family default
は現在のところ 
\family typewriter

\backslash
cite
\family default
と同じなので、この場合は変える必要はありません）。b) すべての文献の参照を ERTを使って行います。つまり本文中に参照文献のキーを使って 
\family typewriter

\backslash
citet{key}
\family default
のように挿入して LaTeXコードとしてマークするのです。どちらの方法も使いやすくはないのですが、LyXの参照メカニズムが 
\family typewriter
natbib
\family default
を理解するようになるまではどちらかの方法を使う必要があります。
\end_layout

\begin_layout Standard
3番目に参考文献を入力することは、それほどわかりやすいものではありません。一番簡単な方法は文章の最後にいって一番初めの参考文献を入力し、それを
 
\family sans
References
\family default
としてマークすることです。マークすると灰色の小さい箱が入力した参考文献の頭にあらわれます。この箱をクリックして残りの情報を入れてください。新しい参考文献を入力す
るには、既存の参考文献の最後にいってリターンキーを押します。これで新しい灰色の箱を持った新しい行が出てきます。
\end_layout

\begin_layout Subsubsection
EPSファイルの挿入
\end_layout

\begin_layout Standard
AASTeXパッケージの図を扱うメカニズムは、それほどよくありません。ERTで Figure Floatボックスに 
\family typewriter

\backslash
plotone
\family default
等の
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
 
\end_layout

\end_inset

コマンドを入れることはできますが、私はうまくレイアウトできたためしがありません。私のアドバイスは、投稿する論文には本文中に EPSファイルを挿入しないことです。
そして投稿前に印刷する場合には、LyXの標準の EPSファイルの挿入を使います。LyXは 
\family typewriter

\backslash
usepackage{graphics}
\family default
コマンドを LaTeXのプリアンブルに入れて、図を LaTeX2eの標準的な方法で扱います。AASTeX 5.0を使うにはどうせ LaTeX2eが必要なので、La
TeX2eのよりすぐれた図を扱う方法を使って何が悪いのでしょう。もしだれかが LaTeX2eまたは graphicsパッケージのことで文句を言ったら、Lampo
rt (1994) の本の第2版にそれについて書いてあるということを指摘して、何年も前にアップグレードしなければならなかったのにと言ってやりましょう。
\end_layout

\begin_layout Subsubsection
可能だが実装しなかったもの
\end_layout

\begin_layout Standard
実装することができたけれども、実装しないことを選んだものがいくつかあります。例えば、ダブルスペース論文を書いていても LyX上でダブルスペースで表示するようには
していません。また preprintと preprint2スタイルを別のレイアウトにしないことにしました。文章を書く場合はほとんどの時間を manuscript
モードで使うと想定して、ディスクスペースを節約したのです。どうしてもこの私の決定に不服な人のために the Mudgeeraba Creek Emu-Ridin
g and Boomerang-Throwing Associationに掲示してあるルールを掲げておきましょう。
\end_layout

\begin_layout Quotation
「裁判官の判断は群衆の圧倒的な大多数に大声で反対されない限り最終的なものだ。裁判官に話しかけるときや、反対に裁判官が話しかけるときは口汚い言葉を使うべきではない
。」
\end_layout

\begin_layout Subsection
最後に
\end_layout

\begin_layout Standard
Donald Knuthの、コンピュータアルゴリズムに関する悪名高い文章を引用しておきましょう、「私はこれが正しいはずだと証明しただけで、これを使ったことはない
」。私は今まで説明したやり方でジャーナルに受理されるような AASTeXの論文が作れると信じてはいますが、今のところ（Jan 25, 2000）私はまだこのレイ
アウトを使って論文を投稿したことがありません。次の数ヵ月で投稿できればいいのですが。
\end_layout

\begin_layout Section
AMS LaTeX
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
David Johnson
\end_layout

\end_inset

文 
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Richard Heck
\end_layout

\end_inset

改訂
\begin_inset VSpace bigskip
\end_inset

AMS LaTeXレイアウトは American Mathematical Societyの刊行物に投稿する数学の論文のためのスタイルです。このレイアウトは特定
のジャーナル用につくられてるわけではありませんが、簡単に特定のジャーナル用にすることができます。各々のジャーナルについての特定の指示については
 AMSの文章を参照する必要があります（普通は TeXファイルを一行変えるだけです）。AMSの説明書は Web上の 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.ams.org
\end_layout

\end_inset

か、または ftpで 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

ftp://ftp.ams.org/pub/tex/amslatex/
\end_layout

\end_inset

から手にいれることができます。これらのレイアウトは数学的な文章を書く場合に有効に使えるはずです。今のところ4つの異なった AMS LaTeXのレイアウトがありま
す。
\end_layout

\begin_layout Enumerate
amsart: 標準的な AMSの論文用のレイアウトです。すべての結果とそれに類似した文は 
\begin_inset Formula $(n.m)$
\end_inset

の形の番号がつきます。はじめの番号は節を表していて、2番目の番号は節内の何番目の結果（Theorems、Corollaries、Propositions、Def
initions、Remarks等）なのかを表しています。また多くの（すべてではありませんが）環境には番号がつかないバージョンもあります。番号をつけないことも時
折必要となるでしょう。番号のつかない環境は最後にアステリスクがついて区別できるようになっています。
\end_layout

\begin_layout Enumerate
amsart-seq: これは節番号なしで各々のタイプの文には通し番号がつけられます。また多くの（すべてではありませんが）環境には番号がつかないバージョンもあり
ます。番号をつけないことも時折必要となるでしょう。番号のつかない環境は最後にアステリスクがついて区別できるようになっています。
\end_layout

\begin_layout Enumerate
amsart-plain: すべての環境に番号がつかない、より簡潔なレイアウトです。
\end_layout

\begin_layout Enumerate
amsbook: 標準的な AMSの本（実際にはモノグラフですが）用のフォーマットです。番号付は amsartの場合と似ていますが、
\begin_inset Formula $(n.m.p)$
\end_inset

という形です。最初の番号は章を表し、2番目の番号は節を表していて、3番目の番号は節内の何番目の結果（Theorems、Corollaries、Propositi
ons、Definitions、Remarks等）なのかを表しています。また多くの（すべてではありませんが）環境には番号がつかないバージョンもあります。番号をつ
けないことも時折必要となるでしょう。番号のつかない環境は最後にアステリスクがついて区別できるようになっています。
\end_layout

\begin_layout Standard
すべての ams LyXファイルはどちらの番号付の方法を使うかを 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument
\family default
ダイアログから簡単に変えることができます。
\end_layout

\begin_layout Subsection
レイアウトに含まれるもの
\end_layout

\begin_layout Standard
これらのレイアウトは実に多くの環境を用意しています。ほとんどの数学論文、本ではこれらの環境のほとんどは特別な文として設定されています。また AMS
 LaTeXを使えば無制限にこのような宣言を増やしていくことができます。しかし AMSは LyXで使うことのできる環境を使うのを推奨しています。（標準的な
 
\family sans
sections、bibliography、title、author、date
\family default
を除いた）使うことのできる環境は次のものです。
\end_layout

\begin_layout Description
Theorem 定理。これは典型的には主な結果を表す文に使います。はじめに 
\family sans
Theorem
\family default
という言葉がボルドタイプであらわれ、それに自動的に番号がつきます（番号のつかない 
\family sans
Theorem*
\family default
もあります）。テキストはイタリックになります。
\end_layout

\begin_layout Description
Corollary これはその前の結果から直接導ける結果を表すのに使います。これも主な結果になることができます。番号がつかない 
\family sans
Corollary*
\family default
も使うことができます。
\end_layout

\begin_layout Description
Lemma 他の結果を導くためのより小さな結果です。
\end_layout

\begin_layout Description
Proposition 議論している理論に（希望的には）何かを付け加えるより弱い結果です。
\end_layout

\begin_layout Description
Conjecture 正当化することなしに与えられた文。作者はどうやって証明したらいいか分からないが、正しいと（少なくとも作者にとっては）思えるものです。
\end_layout

\begin_layout Description
Criterion 必要とされる条件です。
\end_layout

\begin_layout Description
Algorithm 使うことのできる一般的な手続きです。
\end_layout

\begin_layout Description
Axiom 議論しているシステムの中では真だとされる性質、文です。
\end_layout

\begin_layout Description
Definition 定義。画面上でも紙の上でも今まで説明してきた環境とは違うフォントが使われます。見出し(
\begin_inset Quotes eld
\end_inset

definition
\begin_inset Quotes erd
\end_inset

)はまだボルドフェイスですが、テキストはイタリックでなく、直立した文字になります。
\end_layout

\begin_layout Description
Example 例。Definitionと同じようにタイプセットされます。
\end_layout

\begin_layout Description
Condition
\end_layout

\begin_layout Description
Problem
\end_layout

\begin_layout Description
Exercise
\end_layout

\begin_layout Description
Remark この環境も新しい定理型です。これは Remarkという言葉をイタリックで、後の部分を直立した文字にします。
\end_layout

\begin_layout Description
Note Remark環境と同じように設定します。
\end_layout

\begin_layout Description
Notation
\end_layout

\begin_layout Description
Claim
\end_layout

\begin_layout Description
Summary
\end_layout

\begin_layout Description
Acknowledgement
\end_layout

\begin_layout Description
Case 一般に長い議論をいくつかの特定の場合に分けるのに使います。この環境の番号の付け方はこの環境だけのもので、他の環境とは関係のないものになります。
\end_layout

\begin_layout Description
Conclusion
\end_layout

\begin_layout Description
Fact 
\end_layout

\begin_layout Description
Proof 
\shape italic
Proof
\shape default
という言葉がイタリックになり、残りの部分は直立した文字になります。この環境の最後には（もちろん他の環境をネストできます）、QEDのシンボル（普通は四角ですがスタ
イルによって変わります）が置かれます。
\end_layout

\begin_layout Description
Address これは著者の（半）永久的な住所です。
\end_layout

\begin_layout Description
Current 現住所。
\end_layout

\begin_layout Description
Email 著者の e-mailアドレス
\end_layout

\begin_layout Description
URL 著者の Webアドレス、任意。
\end_layout

\begin_layout Description
Keywords 論文で議論するトピックスを特定するためのキーワード、フレーズ。
\end_layout

\begin_layout Description
Subjectclass 
\emph on
Mathematical Reviews
\emph default
で説明され、公表されている AMS Subject Classificationsでの分類番号。これらは前に紹介した AMSサイトでもオンラインで利用可能。
\end_layout

\begin_layout Description
Thanks
\end_layout

\begin_layout Description
Dedicatory
\end_layout

\begin_layout Description
Translator
\end_layout

\begin_layout Standard
これらの環境は自動的に AMS-LaTeXと AMSフォントパッケージを用意してくれます。したがってこれらの環境を使うにはこれらのパッケージがインストールされて
いる必要があります。
\end_layout

\begin_layout Section
AGU学術誌（
\family sans
aguplus）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Martin Vermeer
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
概要
\end_layout

\begin_layout Standard
これは American Geophysical Society のいくつかの学術雑誌用のレイアウトファイルです。これを使うには、AGUのクラスファイルと
 AGU plus がインストールされている必要があります（これらのファイルは 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

ftp://ftp.agu.org/journals/latex/journals
\end_layout

\end_inset

で手にいれることができます）。
\end_layout

\begin_layout Subsection
新しいスタイル
\end_layout

\begin_layout Standard

\family sans
Paragraph
\family default
と 
\family sans
Paragraph*
\family default
が再定義されています。LyXの画面では 
\family sans
Paragraph
\family default
、 
\family sans
Paragraph*
\family default
と呼ばれていますが、AGUクラスのLaTeXで対応するものは 
\family sans
Subsubsubsection
\family default
と 
\family sans
Subsubsubsection*
\family default
です。
\end_layout

\begin_layout Standard
新しく定義されたスタイルは、
\family sans
Left_Header
\family default
、
\family sans
Right_Header
\family default
、
\family sans
Received
\family default
、
\family sans
Revised
\family default
、
\family sans
Accepted
\family default
、
\family sans
CCC
\family default
、
\family sans
PaperId
\family default
、
\family sans
AuthorAddr
\family default
、
\family sans
SlugComment
\family default
 です。これらは論文の属性で、AGUクラスの取扱説明書で定義されているものです。
\end_layout

\begin_layout Standard
おそらく、これはまだ完全ではありません。
\end_layout

\begin_layout Subsection
新しいフロート
\end_layout

\begin_layout Standard

\family sans
Planotable
\family default
と 
\family sans
Plate
\family default
です。また、新しい 
\family sans
Table_Caption
\family default
も用意されています。
\end_layout

\begin_layout Subsection
サポートされているジャーナル
\end_layout

\begin_layout Itemize

\emph on
Journal of Geophysical Research
\emph default
: 
\family typewriter
jgrga.layout
\family default
 --- Martin Vermeer
\end_layout

\begin_layout Standard
あなた自身のレイアウトファイルをつくってください。難しくはありません。
\family typewriter
jgrga.layout
\family default
と 
\family typewriter
aguplus.inc
\family default
を例として見てください。
\end_layout

\begin_layout Subsection
バグと注意すべきこと
\end_layout

\begin_layout Standard
新しいレイアウトを使うために、新しい文章をつくるたびに次のことをする必要があります。
\end_layout

\begin_layout Enumerate

\emph on
babelを無効にしてください。
\family sans
\emph default
layout\SpecialChar \menuseparator
document
\family default
 か 
\family sans
document\SpecialChar \menuseparator
settings
\family default
 メニューアイテムを使います（AGUに投稿できるのは英語だけです。他の言語は選ばないで下さい）。
\end_layout

\begin_layout Enumerate
Enter 
\family typewriter
jgrga
\family default
 into the document's 
\family sans
Extra Options
\family default
 field.
 (Yes, this is a bug.)
\end_layout

\begin_layout Enumerate
文章の 
\family sans
Extra Options
\family default
フィールドに 
\family typewriter
jgrga
\family default
 と入力してください（すいません。これはバグです）。
\end_layout

\begin_layout Enumerate
参照文献のスタイルに 
\family typewriter
agu.bst
\family default
 を使ってください。BibTeX インセットの2番目のフィールドに 
\family sans
agu
\family default
 と入力します。通常の参考文献のスタイルは使わないでください。
\end_layout

\begin_layout Section
Broadway
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Garst Reese
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
Broadwayは演劇を書くためのものです。フォーマットは Hollywoodよりも装飾的で、それほど標準化されていません。このフォーマットはワークショップに向
いているでしょう。
\end_layout

\begin_layout Subsection
特別な問題
\end_layout

\begin_layout Standard
Hollywoodと同じです。
\end_layout

\begin_layout Subsection
特別の機能
\end_layout

\begin_layout Standard

\family sans
Speaker
\family default
の名前はラベルとして挿入でき、それ以降はラベルを相互参照で参照して 
\family sans
Speaker
\family default
の名前を挿入できます。相互参照ダイアログには登場人物の現在の配役が表示されます。
\end_layout

\begin_layout Subsection
用紙サイズと余白
\end_layout

\begin_layout Standard
USレターサイズで、余白は左 1.6インチ、右 0.75インチ、上 0.5インチ、下 0.75インチ。
\end_layout

\begin_layout Subsection
環境
\end_layout

\begin_layout Standard
次の環境を使うことができます。環境の右に書いてあるキーバインドは broadway.bindを使った場合のものです。
\end_layout

\begin_layout Itemize

\family sans
Standard
\begin_inset Newline newline
\end_inset


\family default
これは使わない方がいいのですが、他の環境が使えない場合のために用意してあります。
\end_layout

\begin_layout Itemize

\family sans
Narrative
\begin_inset space \hfill{}
\end_inset

M-z n
\begin_inset Newline newline
\end_inset


\family default
舞台の設定と動きの説明に使います。すべて大文字で話し手の名前をはじめに書きます。
\end_layout

\begin_layout Itemize

\family sans
ACT
\begin_inset space \hfill{}
\end_inset

M-z a
\begin_inset Newline newline
\end_inset


\family default
自動的に番号が付きます。番号は画面上ではアラビア数字ですが、ローマ数字で印刷されます。
\end_layout

\begin_layout Itemize

\family sans
ACT*
\begin_inset space \hfill{}
\end_inset

M-z S at
\begin_inset Newline newline
\end_inset


\family default
ACTのための副題です。ただの中央に置かれたテキストです。
\end_layout

\begin_layout Itemize

\family sans
SCENE
\begin_inset space \hfill{}
\end_inset

M-z S-S
\begin_inset Newline newline
\end_inset


\family default
自動的には番号が付きません。自分で番号を付けてください。これは私がどうすればいいかが分からなかったためです。
\end_layout

\begin_layout Itemize

\family sans
AT_RISE:
\begin_inset space \hfill{}
\end_inset

M-z S-R
\begin_inset Newline newline
\end_inset


\family default
カーテンが上がるときの舞台と動きの設定を説明する Narrativeの特殊ケースです。
\end_layout

\begin_layout Itemize

\family sans
Speaker
\begin_inset space \hfill{}
\end_inset

M-z s
\begin_inset Newline newline
\end_inset


\family default
話し手（役者）の肩書き、すべて大文字で中央に置きます。
\end_layout

\begin_layout Itemize

\family sans
Parenthetical
\begin_inset space \hfill{}
\end_inset

M-z p
\begin_inset Newline newline
\end_inset


\family default
話し手への指示。括弧が自動的に挿入されます。画面上には左括弧 ( だけが表示されますが、印刷したものには右括弧も表示されています。この環境は 
\family sans
Dialogue
\family default
の中だけで使われます。 
\end_layout

\begin_layout Itemize

\family sans
Dialogue
\begin_inset space \hfill{}
\end_inset

M-z d
\begin_inset Newline newline
\end_inset


\family default
話し手が言うこと。
\end_layout

\begin_layout Itemize

\family sans
CURTAIN
\begin_inset space \hfill{}
\end_inset

M-z S-C
\begin_inset Newline newline
\end_inset


\family default
カーテンが降ります。
\end_layout

\begin_layout Itemize

\family sans
Title
\begin_inset space \hfill{}
\end_inset

M-z S-T
\end_layout

\begin_layout Itemize

\family sans
Author
\begin_inset space \hfill{}
\end_inset

M-z S-A
\end_layout

\begin_layout Itemize

\family sans
Right_Address
\begin_inset space \hfill{}
\end_inset

M-z r
\end_layout

\begin_layout Section
Dinbrief
\end_layout

\begin_layout Standard

\family sans
dinbrief
\family default
文書クラスはドイツの慣例に従って手紙を書くのに使います。テンプレートファイルは 
\family typewriter
.../lyx/share/templates
\family default
にあるので、それを出発点に使ってください。
\end_layout

\begin_layout Section
EGS学術誌
\family sans
（egs）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Martin Vermeer
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
概要
\end_layout

\begin_layout Standard
これは European Geophysical Societyの学術雑誌用のレイアウトファイルです。
\family typewriter
egs.cls
\family default
が必要で、これは EGS のwebサイト 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

www.copernicus.org
\end_layout

\end_inset

でダウンロードできます。
\end_layout

\begin_layout Subsection
新しいスタイル
\end_layout

\begin_layout Standard

\family sans
Right_address、Latex_Title、Affil、Journal、msnumber、FirstAuthor、Received、Accepted
\family default
、
\family sans
Offsets
\family default
。残念ながら現在のレイアウトファイルはほとんどモジュール化されていません。もっとさまざまな 
\family typewriter
std*.inc
\family default
ファイルを読み込むようにした方がいいと思われます。
\end_layout

\begin_layout Section
Elsevier学術誌
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Rod Pinna
\end_layout

\end_inset

文
\end_layout

\begin_layout Standard
Elsevier Science Publishers B.V.
 は出版している色々なジャーナルに論文を投稿するための標準的な LaTeX の文書クラス（
\family typewriter
elsart.cls
\family default
）を
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://authors.elsevier.com/
\end_layout

\end_inset

に用意しています。説明書、著者への注意などはクラスファイルとともに用意されています。LyX にはこの文書クラスを使うためのレイアウトとテンプレートファイルが含ま
れています。このパッケージのインストールのやり方は他の LaTeXパッケージと同じです。Elsevier の説明書を見てください。
\end_layout

\begin_layout Standard

\family typewriter
elsart.cls
\family default
を使うために、レイアウトファイル 
\family typewriter
elsart.layout
\family default
が用意されています。Elsevierのクラスファイルは主に標準的な 
\family typewriter
article
\family default
 クラスをもとにしていて通常の機能はそのまま使えます。また、AMSの環境に似た多くの数式環境を定義しています。これらのコマンドはすべて Elsevier
 の説明書に書いてあり、LyXで使うことができます。
\end_layout

\begin_layout Standard
Elsevier スタイルを使う一番簡単な方法は、LyXに含まれているテンプレートファイルを使うことでしょう。fancy headingsや geometry
 パッケージをオプションで使って、Elsevier自身がスタイルファイルで定義している要素を変えないで下さい。Elsevier が説明書で使うように求めているパ
ッケージ以外は使わないのが一番です。基本的に、Elsevier はできるだけクリーンな LaTeXファイルを求めています。彼らは投稿されたファイルのクラスファイ
ルを投稿された雑誌のクラスファイルに入れ替えます。つまり、文章を書くときにフォーマットに凝るなということです。凝ったとしても、発行されるときにはその効果は消えて
います。それ以外のこのレイアウトの使い方は標準の article クラスとほとんど同じです。Elsevierが何を許して、何を許さないのかの詳細は
 Elsevier の説明書を読んでください。
\end_layout

\begin_layout Section
Foils（別名FoilTEX）
\begin_inset CommandInset label
LatexCommand label
name "sec:foiltex"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Allan Rae
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
この節では オーバヘッドプロジェクタ用のスライドを作るのに LyXをどう使えばいいのかを説明しています。スライドを作るための文書クラスは2つあります。既定の
 slidesクラスと 
\family sans
Foil
\family default
TeX slidesクラスです。この節では後者のみを説明します。
\end_layout

\begin_layout Standard
もう一度、はっきりと言っておきます。
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\align center

\size large
\emph on
この節は
\emph default
 
\begin_inset Quotes eld
\end_inset


\family sans
slides (FoilTeX)
\family default

\begin_inset Quotes erd
\end_inset


\emph on
クラスのみを説明します。
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
もし、
\family sans
slides (default)
\family default
の説明を探しているのなら、セクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:slitex"

\end_inset

を見てください。もしあなたのコンピュータに 
\family sans
foils
\family default
クラス 
\family sans
(slides (FoilTeX))がインストールされていなければ、既定の slidesクラスを使わなければならないでしょう。けれどもそれは foilsほどよく
はありません。
\end_layout

\begin_layout Standard

\family sans
foils
\family default
クラスは LaTeXクラスファイル 
\family sans
foils.cls
\family default
のバージョン 2.1と使うように作られています。この LaTeXクラスファイルは、LaTeX2eに対応しています。
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
この文書クラスを使うには、いうまでもありませんが 
\family sans
Document
\begin_inset space ~
\end_inset

Layout
\family default
ダイアログの 
\family sans
\bar under
C
\bar default
lass
\family default
エントリから 
\family sans
slides (FoilTeX)
\family default
を選択する必要があります。また、このクラスに特有のいくつかの 
\family sans
Document
\begin_inset space ~
\end_inset

Layout
\family default
ダイアログの設定があります。
\end_layout

\begin_layout Itemize

\family sans
Document
\family default
ダイアログの 
\family sans
Sides
\family default
と 
\family sans
Columns
\family default
のオプションは変更しないでください。これらは 
\family sans
foils
\family default
クラスでは無視されます。
\end_layout

\begin_layout Itemize
既定のフォントサイズは 20ptです。オプションで 17pt、25pt、30ptが選べます。
\end_layout

\begin_layout Itemize
既定のフォントは 
\family sans
sans
\family default
 
\family sans
serif
\family default
です。ただし、すべての数式は通常のローマンフォントが使われます。
\end_layout

\begin_layout Itemize

\family sans
Foil
\family default
TeXがサポートする紙のサイズは A4、レターサイズ、それと 35mmスライド用のサイズです。A5、B5、legal、executiveペーパーサイズは使えませ
ん。
\end_layout

\begin_layout Itemize

\family sans
Float Placement
\family default
の設定は変えても無視されますので、変えないでください。すべてのフロートはテキストで定義された位置にあらわれます。
\end_layout

\begin_layout Itemize
このクラスでは 
\family sans
\bar under
P
\bar default
agestyle
\family default
の設定が少し違います。
\family sans
Foil
\family default
TeXではユーザが定義するロゴを含めて、フッタとへッダに色々な設定ができます。詳しくはセクション
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:foilfoot"

\end_inset

を見てください。タイトルページは他のページと扱いが違い、常にページ番号がつかず、また（ロゴが定義されていれば）ページの下の中心にロゴが表示されます。使うことので
きるページスタイルは次の通りです。
\end_layout

\begin_deeper
\begin_layout Labeling
\labelwidthstring MMMMMMM

\family sans
\series bold
empty
\family default
\series default
 最終的なアウトプットにページ番号も他のへッダ、フッタも印刷されません（もちろん脚注は印刷されます）。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMM

\family sans
\series bold
plain
\family default
\series default
 ページ番号が一番下の中心につきます。他のへッダ、フッタは表示されません。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMM

\series bold
foilheadings
\series default
 ページ番号が右下につきます。他のへッダ、フッタも表示されます。これが既定です。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMM

\series bold
fancy
\series default
 
\family sans
fancyheadings
\family default
パッケージを使えるようにします。ただし 
\family sans
Foil
\family default
TeXの作者はページレイアウトが変になる可能性があるので、
\family sans
fancyheadings
\family default
は使わないように言っています。
\end_layout

\end_deeper
\begin_layout Subsubsection
Extra Options
\end_layout

\begin_layout Standard
次のオプションは 
\family sans
Document
\family default
ダイアログの 
\family sans
Extra
\family default
ボックスで使うことができます。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
35mmSlide
\series default
 これは 縦7.33インチ、横11インチの用紙用にページレイアウトを行います。この縦横の比率は35mmスライドと同じで、このオプションを使えば35mmスライドが作
りやすくなります。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
headrule
\series default
 タイトルページを除くすべてのページのへッダの下に横線を入れます。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
footrule
\series default
 タイトルページを除くすべてのページのフッタの上に横線を入れます。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
dvips
\series default
 これは新しい 
\family sans
foils
\family default
の文章を作るごとに自動的に設定されます。このオプションは landscapeに設定されたスライドを回転させるのに dvipsドライバを使うように設定しています。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
landscape
\series default
 このオプションは用紙の寸法を landscapeページ用に変えるだけで回転はさせません。そのためこのオプションを使う場合は各ページを回転させる外部プログラムを
使うか、プリンタに landscapeの方向で給紙する必要があります。このオプションはまた 
\family sans
Foilhead
\family default
 と 
\family sans
Rotatefoilhead
\family default
環境の役割を入れ替えることに注意してください（これらの環境については次の節で説明します）。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
leqno
\series default
 数式番号を左側につけます。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMx

\series bold
fleqn
\series default
 数式を左に揃えます。
\end_layout

\begin_layout Subsection
サポートされる環境
\end_layout

\begin_layout Standard
他のクラスで標準的にサポートされている環境は、
\family sans
foils
\family default
クラスでもサポートされています。それ以外に 
\family sans
Foil
\family default
TeXが提供している環境と、いくつかの LyXで付け加えられた環境もサポートしています。次の環境は 
\family sans
foils
\family default
クラスでサポートされている環境の中で、他のクラスでもサポートされている環境です。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
Standard
\end_layout

\begin_layout Itemize

\family sans
Itemize
\end_layout

\begin_layout Itemize

\family sans
Enumerate
\end_layout

\begin_layout Itemize

\family sans
Description
\end_layout

\begin_layout Itemize

\family sans
List
\end_layout

\begin_layout Itemize

\family sans
LyX-Code
\end_layout

\begin_layout Itemize

\family sans
Verse
\end_layout

\begin_layout Itemize

\family sans
Quote
\end_layout

\begin_layout Itemize

\family sans
Quotation
\end_layout

\begin_layout Itemize

\family sans
Title
\end_layout

\begin_layout Itemize

\family sans
Author
\end_layout

\begin_layout Itemize

\family sans
Date
\end_layout

\begin_layout Itemize

\family sans
Abstract
\end_layout

\begin_layout Itemize

\family sans
Bibliography
\end_layout

\begin_layout Itemize

\family sans
Address
\end_layout

\begin_layout Itemize

\family sans
RightAddress
\end_layout

\begin_layout Itemize

\family sans
Caption
\end_layout

\begin_layout Itemize

\family sans
Comment
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
節の環境を除くと、すべての主な環境がサポートされているのがわかるでしょう。基本的には一枚のスライドに1つの節が（見出しも本文も）含まれるので、
\family sans
Foil
\family default
TeXは新しいスライドを始めるいくつかのコマンドを用意しています。それを以下に書いておきます。
\end_layout

\begin_layout Itemize

\family sans
Foilhead
\end_layout

\begin_layout Itemize

\family sans
Rotatefoilhead
\end_layout

\begin_layout Standard
LyXはこれらを少し変えた環境を用意しています。それらは、
\end_layout

\begin_layout Itemize

\family sans
ShortFoilhead
\end_layout

\begin_layout Itemize

\family sans
ShortRotatefoilhead
\end_layout

\begin_layout Standard
で、違いは次の節で説明します。
\end_layout

\begin_layout Standard
スライドはしばしばアイデアを説明したり、新しい定理を説明したりするのに使われるので、
\family sans
Foil
\family default
TeXはそれらを説明するのに便利な色々な環境を用意しています。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
Theorem
\end_layout

\begin_layout Itemize

\family sans
Lemma
\end_layout

\begin_layout Itemize

\family sans
Corollary
\end_layout

\begin_layout Itemize

\family sans
Proposition
\end_layout

\begin_layout Itemize

\family sans
Definition
\end_layout

\begin_layout Itemize

\family sans
Proof
\end_layout

\begin_layout Itemize

\family sans
Theorem*
\end_layout

\begin_layout Itemize

\family sans
Lemma*
\end_layout

\begin_layout Itemize

\family sans
Corollary*
\end_layout

\begin_layout Itemize

\family sans
Proposition*
\end_layout

\begin_layout Itemize

\family sans
Definition*
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
星印のついたバージョンは番号がつかず、星印のないバージョンは番号がつきます。それ以外に以下の LyXが追加した2つの箇条書きのための環境があります。
\end_layout

\begin_layout Itemize

\family sans
TickList
\end_layout

\begin_layout Itemize

\family sans
CrossList
\end_layout

\begin_layout Standard

\family sans
Foil
\family default
TeX には強力なヘッダとフッタ機能があります。これはプリアンブルで設定するのが一番いいのですが、文章中のどこででも設定できます。もし、文章中でこれらの設定を変
えたい場合には、スライドの一番上、つまり foilhead のすぐ後ろがいいでしょう。
\end_layout

\begin_layout Standard
このためには、次のコマンドが使えます[
\shape smallcaps
Martin Vermeer
\shape default
]:
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Itemize

\family sans
My
\begin_inset space ~
\end_inset

Logo
\end_layout

\begin_layout Itemize

\family sans
Restriction
\end_layout

\begin_layout Itemize

\family sans
Right
\begin_inset space ~
\end_inset

Footer
\end_layout

\begin_layout Itemize

\family sans
Right
\begin_inset space ~
\end_inset

Header
\end_layout

\begin_layout Itemize

\family sans
Left
\begin_inset space ~
\end_inset

Header
\end_layout

\begin_deeper
\begin_layout Standard
\begin_inset space ~
\end_inset


\end_layout

\end_deeper
\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
これ以外にも LyXで直接サポートはいませんが 
\family sans
Foil
\family default
TeXが用意しているいくつかのコマンドがあります。これらについてはセクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:unsuppfoils"

\end_inset

で説明します。
\end_layout

\begin_layout Subsection
一組のスライドを作る
\end_layout

\begin_layout Standard
この節は 色々な環境を使っての、一組のスライドの作り方を簡単に紹介します。例を見てみたい場合は 
\family typewriter
Foils.lyx
\family default
を見てみてください。
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator

\bar under
O
\bar default
pen
\family default
ダイアログの 
\family sans
Examples
\family default
ボタンから開くことができます。
\end_layout

\begin_layout Subsubsection
タイトルページ
\end_layout

\begin_layout Standard

\family sans
Title
\family default
、
\family sans
Author
\family default
、
\family sans
Date、Abstract
\family default
環境を使える他のクラスとは異なり、
\family sans
foils
\family default
は独立したタイトルページをつくります。もし 
\family sans
Date
\family default
環境を使わなかった場合には、LaTeXが今日の日付を挿入してくれます（アウトプットをつくった日付です）。
\end_layout

\begin_layout Subsubsection
新しいスライドを始める
\end_layout

\begin_layout Standard
前に書いたように、新しいスライドを始めるには4つの方法があります。ポートレイト（縦長）のスライドを始めるには 
\family sans
Foilhead
\family default
か を 
\family sans
ShortFoilhead
\family default
使わなければなりません。この2つの環境の違いはスライドのタイトルと本文の間の間隔です。
\end_layout

\begin_layout Standard
ランドスケープ方向（横長）のスライドをつくるには 
\family sans
Rotatefoilhead
\family default
か 
\family sans
ShortRotatefoilhead
\family default
環境を使います。この2つの環境の違いもタイトルと本文の間の間隔です。どちらの場合も Shortがついたバージョンはタイトルと本文の間が0.5インチ（約1.27cm）
短くなります。
\end_layout

\begin_layout Standard
ランドスケープのスライドを作る場合の一つの問題は、
\family typewriter
dvips
\family default
ドライバをPostScript®出力するのに使うことです。さもないとスライドは回転しません。ただし、
\family typewriter
dvips
\family default
ドライバを持っていなくてもプリンタの給紙方向を変えることで、ランドスケープのスライドをつくることができます。
\end_layout

\begin_layout Subsubsection
Theorem、Lemma、Proof、その他
\end_layout

\begin_layout Standard
LyXの小さなバグのために、これらの環境のうちで同じ環境を続けて使うことができません。2つの同じ環境の間には何か別のものを入れる必要があります。もしこれらの中の
環境で同じものを2つ続けて使うと、2つの環境がくっついて初めの環境が続く形になります。この問題を解決する方法は何かのテキストを2つの環境の間にいれる。または
 %だけの LaTeX環境をその2つの間に入れることです。これによって、ちゃんと2つの環境に別れるようになります。これの例が LyXディストリビューションに含ま
れる 
\family sans
Foils.lyx
\family default
に入っています。この問題が起るのは theoremに似た環境のなかで同じものを2つ続けて使う場合だけです。
\end_layout

\begin_layout Subsubsection
箇条書き
\end_layout

\begin_layout Standard
他のクラスにもある箇条書きのための環境をサポートしているだけでなく、2つの新しい箇条書きのスタイルも使えます。この新しいスタイルをここで説明しましょう。他の箇条
書きの環境について知りたければ
\emph on
ユーザーの手引き
\emph default
を見てください。itemize環境を使う場合にはセクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:ブリット"

\end_inset

も見た方がいいかも知れません。
\end_layout

\begin_layout Standard
2つの新しい箇条書きの環境は 
\family sans
TickList
\family default
と 
\family sans
CrossList
\family default
です。これらの環境は長所と短所を並べて書くような場合に便利です。
\family sans
TickList
\family default
は項目の頭にチェックをつけ、
\family sans
CrossList
\family default
は項目の頭に×印をつけます。これらの環境は 
\family sans
Itemize
\family default
環境のちょっとした応用でつくられています。ただしこれらの環境を使うためには 
\family typewriter
psnfss
\family default
パッケージがインストールされている必要があります。
\end_layout

\begin_layout Subsubsection
図と表
\end_layout

\begin_layout Standard

\family sans
Foil
\family default
TeXは図、表のフロートを定義し直して、本文中に入れられたところに図または表を入れます。ページの上方に入れたり、ユーザが指定した場所にいれたりはしません。実際フ
ロートの配置の設定を変えても、無視されるだけです。
\end_layout

\begin_layout Subsubsection
ページヘッダーとフッター
\begin_inset CommandInset label
LatexCommand label
name "sec:foilfoot"

\end_inset


\end_layout

\begin_layout Standard

\family sans
My
\begin_inset space ~
\end_inset

Logo
\family default
 と 
\family sans
Restriction
\family default
 は左のフッタを制御する2つのコマンドです。前者はスライドにグラフィックのロゴを含めるためのコマンドで、既定は「-Typeset by 
\family sans
Foil
\family default
TeX-」です。後者は聴衆の分類を表すのに使います。例えば Confidential（機密）などと書いておきます。既定では何も設定されていません。
\end_layout

\begin_layout Standard
残りのスライドの隅は 
\family sans
Right
\begin_inset space ~
\end_inset

Footer
\family default
 （既定はページ番号）、 
\family sans
Right
\begin_inset space ~
\end_inset

Header
\family default
 （右上）、
\family sans
Left
\begin_inset space ~
\end_inset

Header
\family default
 （左上）を使って文字を入れることができます。
\end_layout

\begin_layout Subsection
サポートされない 
\family sans
Foil
\family default
TeXの機能
\begin_inset CommandInset label
LatexCommand label
name "sec:unsuppfoils"

\end_inset


\end_layout

\begin_layout Standard
以下ででてくるコマンドは 
\family sans
LaTeX
\family default
環境の中で使うか、
\family sans
TeX
\family default
コマンドとしてマークする必要があります。
\end_layout

\begin_layout Subsubsection
長さ
\end_layout

\begin_layout Standard
すべての長さは 
\family typewriter

\backslash
setlength{
\family default
\emph on
lengthname
\family typewriter
\emph default
}{
\family default
\emph on
newlength
\family typewriter
\emph default
}
\family default
コマンドを使って調整できます。
\emph on
lengthname
\emph default
は変えたい長さの変数の名前で、
\emph on
newlength
\emph default
は長さの値です。すべての長さはインチ(in)、ミリメートル(mm)、ポイント(pt)、
\family typewriter

\backslash
textwidth
\family default
のように文章やフォントに対しての相対的なものを使うかをして長さの単位の指定をする必要があります。
\end_layout

\begin_layout Standard
スライドのタイトルと本文の間の距離は 
\family typewriter

\backslash
foilheadskip
\family default
を変えることで調整できます。例えば、すべてのスライドのタイトルを0.5インチ本文に近づけるには次のコマンドをプリアンブルに入れてください。
\family typewriter

\backslash
setlength{
\backslash
foilheadskip}{-0.5in}
\end_layout

\begin_layout Standard
フロートの回りのスペースは以下の長さを設定して調整することができます。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
abovefloatskip
\family default
 本文からフロートの上までの長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
abovecaptionskip
\family default
 フロートとキャプションの間の長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
belowcaptionskip
\family default
 キャプションとそれに続く本文の間の長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
captionwidth
\family default
 この長さを調整することでキャプションを周囲のテキストより短くすることができます。
\family typewriter

\backslash
textwidth
\family default
に対する相対的な長さで調整するのがいいでしょう。
\end_layout

\begin_layout Standard
タイトルページに関係する長さもあります。長いタイトルや複数の著者がいる場合に変えたくなるかも知れません。
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
abovetitleskip
\family default
 へッダからタイトルまでの長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
titleauthorskip
\family default
 
\family sans
Title
\family default
と 
\family sans
Author
\family default
環境の間の長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
authorauthorskip
\family default
 複数の著者の名前の間の長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
authordateskip
\family default
 
\family sans
Author
\family default
と 
\family sans
Date
\family default
の間の長さ
\end_layout

\begin_layout Labeling
\labelwidthstring MMMMMMMMMMM

\family typewriter

\backslash
dateabstractskip
\family default
 
\family sans
Dat
\family default
と 
\family sans
Abstract
\family default
の間の長さ
\end_layout

\begin_layout Standard
最後にすべての箇条書きの環境に影響するコマンドを紹介しておきます。
\family typewriter

\backslash
zerolistvertdimens
\family default
 を箇条書きの環境の内側に置くと、項目間のすべての縦方向のスペースが取り除かれます。これはコマンドで長さを表す変数ではないので、
\family typewriter

\backslash
setlength
\family default
を使う必要がないことに注意してください。
\end_layout

\begin_layout Subsubsection
へッダとフッタ
\begin_inset CommandInset label
LatexCommand label
name "sec:foilfoot"

\end_inset


\end_layout

\begin_layout Standard

\family typewriter

\backslash
LogoOn
\family default
と 
\family typewriter

\backslash
LogoOff
\family default
は 
\family typewriter
MyLogo
\family default
で定義したロゴを特定のページに入れるかどうかをコントロールします。
\family typewriter

\backslash
LogoOff
\family default
をプリアンブルに入れた場合は、すべてのスライドにロゴがつきません。特定のスライドにだけロゴをつけたくない場合には、そのスライドの foilheadのすぐ後ろに
 
\family typewriter

\backslash
LogoOff
\family default
を入れて、次の foilheadのすぐ後ろに 
\family typewriter

\backslash
LogoOn
\family default
を入れてください。
\end_layout

\begin_layout Standard

\family sans
Document
\family default
ダイアログで 
\family sans
fancy
\family default
ページスタイルを選んだ場合には、プリアンブルに 
\family typewriter

\backslash
let
\backslash
headwidth
\backslash
textwidth
\family default
を加える必要があります。これ加えることでランドスケープ（横長）のスライドをつくった場合でも、フッタとへッダは正しく配置されます。これは 
\family sans
fancyheadings
\family default
パッケージと 
\family sans
foils
\family default
クラスの間のページレイアウトの衝突を避けるためのものです。
\end_layout

\begin_layout Section
Hollywood（Hollywoodスペック・スクリプト）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Garst Reese
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
これはハリウッドの脚本を書くためのものです。ハリウッドの脚本のフォーマットは読者が内容に焦点を当てやすく、俳優が読みやすくつくられています。脚本の各々のページは
映画の１分でなければなりません。脚本に何も書かれていなければ、スクリーン上で何も見えず、何も聞こえないのです。全体を通して courier 12
 ptフォントを使わなければなりません。イタリックは使いません。
\end_layout

\begin_layout Subsection
特別の問題
\end_layout

\begin_layout Standard
話し手の行は文の途中で切ってはいけません。もし話し手の行が次のページに続く場合には、
\family sans
Speaker
\family default
の名前を繰り返し、そのあとに (Cont'd)とつけます。
\end_layout

\begin_layout Subsection
特別の機能
\end_layout

\begin_layout Standard

\family sans
Speaker
\family default
の名前はラベルとして挿入でき、それ以降はラベルを相互参照で参照して 
\family sans
Speaker
\family default
の名前を挿入できます。相互参照ダイアログには登場人物の現在の配役が表示されます。これを使って話し手の名前を注釈にも挿入できます。
\end_layout

\begin_layout Subsection
用紙サイズと余白
\end_layout

\begin_layout Standard
USレターサイズで、余白は左 1.6インチ、右 0.75インチ、上 0.5インチ、下 0.75インチ。
\end_layout

\begin_layout Subsection
環境
\end_layout

\begin_layout Standard
次の環境が使えます。右に書いてあるキーバインドを使うには、hollywood.bindを使ってください。
\end_layout

\begin_layout Itemize

\family sans
Standard
\begin_inset Newline newline
\end_inset


\family default
他の環境が働かない場合に使ってください。できるだけ使うのを避けてください。
\end_layout

\begin_layout Itemize

\family sans
FADE_IN
\family default
:
\begin_inset space \hfill{}
\end_inset


\family sans
M-z S-I
\family default

\begin_inset Newline newline
\end_inset

通常このあとに「Sallyは目を覚した」のようなものが続きます。
\end_layout

\begin_layout Itemize

\family sans
INT:
\begin_inset space \hfill{}
\end_inset

M-z i
\begin_inset Newline newline
\end_inset


\family default
新しい INTERIORカメラのセットアップを導入します。常にこの後には DAY、NIGHT、またはその他の必要な照明が定義されます。この行はすべて大文字で書き
ます。
\end_layout

\begin_layout Itemize

\family sans
EXT:
\begin_inset space \hfill{}
\end_inset

M-z e
\begin_inset Newline newline
\end_inset


\family default
EXTERIORカメラのセットアップを導入します。この行はすべて大文字です。
\end_layout

\begin_layout Itemize

\family sans
Speaker
\begin_inset space \hfill{}
\end_inset

M-z s
\begin_inset Newline newline
\end_inset


\family default
話す（劇中の）人物
\end_layout

\begin_layout Itemize

\family sans
Parenthetical
\begin_inset space \hfill{}
\end_inset

M-z p
\begin_inset Newline newline
\end_inset


\family default
話し手への指示。自動的に括弧()が挿入されます。ただし LyX上で表示されるのは左括弧( のみです。印刷物には右括弧も表示されています。
\end_layout

\begin_layout Itemize

\family sans
Dialogue
\begin_inset space \hfill{}
\end_inset

M-z d
\begin_inset Newline newline
\end_inset

Speaker
\family default
が言ったこと。
\end_layout

\begin_layout Itemize

\family sans
Transition
\begin_inset space \hfill{}
\end_inset

M-z t
\begin_inset Newline newline
\end_inset


\family default
カメラの動きの指示。CUT TO:等。
\end_layout

\begin_layout Itemize

\family sans
FADE OUT:
\begin_inset space \hfill{}
\end_inset

M-z S-I
\end_layout

\begin_layout Itemize

\family sans
Author
\begin_inset space \hfill{}
\end_inset

M-z S-A
\end_layout

\begin_layout Itemize

\family sans
Title
\begin_inset space \hfill{}
\end_inset

M-z S-T
\end_layout

\begin_layout Itemize

\family sans
Right_Address
\begin_inset space \hfill{}
\end_inset

M-z r
\end_layout

\begin_layout Subsection
脚本で使われる特別な用語
\end_layout

\begin_layout Itemize
(O.S) --- off screen
\end_layout

\begin_layout Itemize
(V.0) --- voice over
\end_layout

\begin_layout Itemize
b.g.
 --- background
\end_layout

\begin_layout Itemize
C.U.
 --- close-up
\end_layout

\begin_layout Itemize
PAN --- camera movement
\end_layout

\begin_layout Itemize
INSERT --- cut to close-up of
\end_layout

\begin_layout Section
ijmpd
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Panayotis Papasotiriou
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
概観
\end_layout

\begin_layout Standard
ijpmd パッケージは World Scientificが発行する 
\emph on
International Journal of Modern Physics D
\emph default
に電子投稿するためのマクロ集です。文書クラス名は 
\family typewriter
ws-ijmpd.cls
\family default
です。このファイルは、著者のための指針とともに 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.worldscinet.com/ijmpd/mkt/guidelines.shtml
\end_layout

\end_inset

からダウンロードできます。ijmpd パッケージは標準の article パッケージを改造したもので、ほとんどの機能は LyXでサポートされています。私は最近
 
\emph on
International Journal of Modern Physics D
\emph default
に投稿する論文を LyXで書き上げました。
\end_layout

\begin_layout Subsection
論文を書く
\end_layout

\begin_layout Standard
他のパッケージと同じく、論文を書くための一番簡単な方法はテンプレートから始めることです。
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator
New from
\family default
 
\family sans
\bar under
T
\bar default
emplate
\family default
をクリックしてから、
\family typewriter
ijmpd.lyx
\family default
テンプレートを選んでください。そうすると、ほとんどの原稿に共通な部分のみ含んだ、ほとんど何も書いていない文章が表れます。（鍵括弧<>で囲まれた）既存のテキストを
正しい情報に書き換えてください。以下のことは忘れないようにしてください。
\end_layout

\begin_layout Enumerate
LyXでフォントの大きさや文章のページスタイルを変えることはできません。ijmpdパッケージではそのような操作を禁じています。
\end_layout

\begin_layout Enumerate
ijmpdパッケージでは、文章の言語を変えないことが必要です。あなたの論文をプレビューする前に、babelパッケージが使われていないことを確かめてください。その
ためには、
\family sans
\bar under
E
\bar default
dit\SpecialChar \menuseparator

\bar under
P
\bar default
references
\family default
をクリックして、
\family sans
Language
\family default
 タブを選んでください（
\family sans
Lang Opts
\family default
 タブの下にあります）。それから 
\family sans
\bar under
U
\bar default
se babel
\family default
オプションを消して、
\family sans
\bar under
A
\bar default
pply
\family default
をクリックします（これをずっと使うなら 
\family sans
Save
\family default
 を選びます）。
\end_layout

\begin_layout Enumerate
Theorem と Proof という2つの新しい環境が使えます（何に使うかは明らかでしょう）。
\end_layout

\begin_layout Enumerate
付録を論文に加えることができます。LyXは付録を始めるために、 Appendix という特別な環境を用意しています。付録の中には、通常の節、サブ節、サブサブ節を
含めることができます。
\end_layout

\begin_layout Enumerate
ijmpdパッケージでは、表の「見出し」の扱いは LyXと大きく異なっています。そのために、LyXでつくった表は正しく印刷されますが、表の見出しは無視されます。
表の見出しが必要な場合には、テーブルフロート全体を別の texファイルにして、それを LyXの文章に（
\family sans
\bar under
I
\bar default
nsert\SpecialChar \menuseparator
Inclu
\bar under
d
\bar default
e file
\family default
を使って）読み込んでください。ijmpdでのどのようにテーブルフロートをつくるかについては 
\family typewriter
ws-ijmpd.tex
\family default
というファイルを見てください。ijmpdパッケージに含まれています。
\end_layout

\begin_layout Subsection
投稿のための準備
\end_layout

\begin_layout Standard
論文を投稿する前に、LyXの文章を LaTeX ファイルとして保存して（
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator

\bar under
E
\bar default
xport\SpecialChar \menuseparator

\bar under
L
\bar default
ateX
\family default
）、その LaTeX ファイルに次のような変更を加える必要があります。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
documentclass
\family default
 コマンドのより前のコメント行を消す。
\end_layout

\begin_layout Enumerate

\family typewriter

\backslash
makeatletter
\family default
 と 
\family typewriter

\backslash
makeatother
\family default
コマンドの間にあるすべてのものを消す。ただし、あなたが自分自身で LaTeX プリアンブルに加えたものは残しておいてください。
\end_layout

\begin_layout Standard
変更を加えた 
\family typewriter
.tex
\family default
ファイルを保存して、必要な回数だけ LaTeX にかけてください。 こうして得られた 
\family typewriter
.dvi
\family default
ファイルもチェックした方がいいでしょう。
\end_layout

\begin_layout Subsection
ERTの使用
\end_layout

\begin_layout Standard
オプションで ERTの使用を使用できますが、それはページの見た目に影響する 3つのコマンドに集約されています。
\family typewriter
ijmpd.lyx
\family default
 テンプレートを使って論文を書き始めた場合には、必要な ERT はすでに、テンプレートに書かれていて通常はそれを消す必要はありません。一番初めの
 ERT を奇数、偶数ページのヘッダに書く情報に書き換えるだけです（著者の名前と論文のタイトルです）。この ERT は 
\family typewriter

\backslash
markboth{Authors' Names}{Short Paper's Title}
\family default
 という形になってなければなりません。
\end_layout

\begin_layout Section
iopart
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Uwe Stöhr
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
外観
\end_layout

\begin_layout Standard
iopartパッケージは、Institute of Physics（イギリス物理学会）が発行する学術誌へ送る電子原稿を作成するのに使用する文書クラスを提供します
。iopartクラスを使用した論文作成方法の著者向け説明書は、ウェブサイト
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

ftp://ftp.iop.org/pub/journals/latex2e
\end_layout

\end_inset

からiopackageとともにダウンロード可能です。
\end_layout

\begin_layout Subsection
論文を書く
\end_layout

\begin_layout Standard
論文を書くもっとも簡単な方法は、LyXの用例ファイルフォルダにある
\emph on
IOP-article.lyx
\emph default
を土台にすることです。このファイルを開き、新しい名前で保存して、書き始めてください。用例ファイルは、特定の環境の使用法についても説明しています。もっとも重要な助
言として、以下の点にご注意ください。
\end_layout

\begin_layout Itemize
文書がPDF・PS・DVIにコンパイルできるようにするためには、文書設定の
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
数式オプション
\end_layout

\end_inset

で、二つの
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
AMS mathパッケージを使う
\end_layout

\end_inset

オプションが有効になっていないことを確認してください！
\end_layout

\begin_layout Itemize
どのタイトル環境を使うかが、論文の種類を定義しますので、タイトルには以下の環境のうちのいずれかを使用してください。
\end_layout

\begin_deeper
\begin_layout Itemize
論文用にはタイトル
\end_layout

\begin_layout Itemize
Review用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Review
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Topical review用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Topical
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Comment用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Comment
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Note用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
注釈
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
論文用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Paper
\end_layout

\end_inset

（タイトルと同じ）
\end_layout

\begin_layout Itemize
Preliminary communication用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Prelim
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
Rapid communication用には
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Rapid
\end_layout

\end_inset


\end_layout

\begin_layout Itemize
編集者へのLetterには
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
書簡
\end_layout

\end_inset


\end_layout

\end_deeper
\begin_layout Itemize
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Letter
\end_layout

\end_inset

以外のタイトル環境は、短縮タイトルをつけることもできます。
\end_layout

\begin_layout Itemize
LyXでは直接にサポートされていませんが、一般的なタイトル環境として
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
Article
\end_layout

\end_inset

があります。文書が他のタイトル型に合わない場合には、TeXコードでこれを指定することができます。
\end_layout

\begin_layout Standard
特別な表や数式組版に関するヒントなど詳しい情報については、IOP著者ガイドラインを参照してください。
\end_layout

\begin_layout Section
Kluwer
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Panayotis Papasotiriou
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
Kluwerパッケージは、Kluwer Academic Publishersによってつくられた、同社が発行する学術雑誌に電子投稿するためのマクロ集です。同社が
発行する学術雑誌のうちで、（少なくとも私の専門内では）もっともよく知られているものは 
\emph on
Astrophysics and Space Science
\emph default
と 
\emph on
Solar Physics
\emph default
ですが、他にも多くの学術雑誌を発行しています（
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.wkap.nl/jrnllist.htm/JRNLHOME
\end_layout

\end_inset

に完全なリストがあります）。Kluwerパッケージは 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.wkap.nl/kaphtml.htm/STYLEFILES
\end_layout

\end_inset

からダウンロードできます。完全なユーザーの手引きもそのパッケージの中に含まれています（別々にダウンロードすることも可能です）。
\end_layout

\begin_layout Standard
LyXはこのパケージの多くの機能をサポートしていますが、すべてではありません。しかし、ERTが必要となるのはいくつかの「変わった」コマンドだけになりました（
\begin_inset CommandInset ref
LatexCommand ref
reference "subsec:kluwer_peculiarities"

\end_inset

を見てください）。最近私は LyX を使って何の問題もなく、
\emph on
Astrophysics and Space Science
\emph default
に投稿する論文を書くことができました。
\end_layout

\begin_layout Subsection
論文を書く
\end_layout

\begin_layout Standard
論文を書く一番簡単な方法は、Kluwer のテンプレートファイルを使うことです。Click on 
\family sans
File\SpecialChar \menuseparator
New from template
\family default
 をクリックして、
\family typewriter
kluwer.lyx
\family default
 テンプレートを選んでください。これは、通常必要とされるフィールドに短い使い方が書かれただけの（ほとんど）何も書かれていない文章ファイルです。他のテンプレートを
同じように、書いてあるテキストを（<>括弧も含めて）消して、自分の情報を書いていってください。
\end_layout

\begin_layout Subsection
投稿のための準備
\end_layout

\begin_layout Standard
AASTeXパッケージと同様に、論文を Kluwerの学術誌に投稿する前には次のような後処理をする必要があります。
\end_layout

\begin_layout Enumerate

\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator

\bar under
E
\bar default
xport\SpecialChar \menuseparator

\bar under
L
\bar default
ateX
\family default
とクリックして、LaTeXファイルとして保存する。
\end_layout

\begin_layout Enumerate
保存した .texファイルをテキストエディタを使って、次のように変える。
\end_layout

\begin_deeper
\begin_layout Enumerate

\family typewriter

\backslash
documentclass
\family default
コマンドより前にあるコメント行を消去する。
\end_layout

\begin_layout Enumerate
自分で LaTeX プリアンブルに指定したものをのぞいて、
\family typewriter

\backslash
makeatletter
\family default
から 
\family typewriter

\backslash
makeatother
\family default
の間のものをコマンド自身も含めて消去する。
\end_layout

\begin_layout Standard
変更した .tex ファイルを保存する。
\end_layout

\end_deeper
\begin_layout Enumerate
保存した .tex ファイルに LaTeXを必要な回数（通常は3回）走らせる。
\end_layout

\begin_layout Enumerate
できた .dviファイルを 
\family sans
xdvi
\family default
などを使って開き、変なところがないかチェックする（自分自身で間違いをしていない限り大丈夫なはずです）。
\end_layout

\begin_layout Subsection
Kluwerパッケージの「風変わり」な特徴
\begin_inset CommandInset label
LatexCommand label
name "subsec:kluwer_peculiarities"

\end_inset


\end_layout

\begin_layout Standard
Kluwerパッケージは次のような「風変わりな」特徴があります。
\end_layout

\begin_layout Enumerate
複数の論文を1つの LaTeX ファイルへ入れることができます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
こうなっていた方がいいという理由は、私には思いつきません。
\end_layout

\end_inset

。各々の論文は、article環境に含まれていなければなりません。たとえ1つの論文しか LaTeXファイルに含めない場合にでも、article環境に入れなければ
なりません。したがって各々の論文は 
\family typewriter

\backslash
begin{article}
\family default
で始まり、
\family typewriter

\backslash
end{article}
\family default
で終わります。この環境を LyXで実装することは可能でしたが、実装しませんでした。あまり美しくなく、また初心者を混乱させると思ったからです。したがって、これらの
命令（
\family typewriter

\backslash
begin{article}
\family default
と
\family typewriter

\backslash
end{article}
\family default
）を直接本文中に入力して、LaTeXコードとしてマークする必要があります（ERTです）。
\end_layout

\begin_layout Enumerate
論文のはじめに入れる情報（タイトル、サブタイトル、著者名、所属など）は openingとよばれる環境に入れる必要があります。これは LyXでは実装されていません
。したがってタイトル、サブタイトルなどは 2つの ERTの行（
\family typewriter

\backslash
begin{opening}
\family default
 と 
\family typewriter

\backslash
end{opening}
\family default
）の間に入れる必要があります。
\end_layout

\begin_layout Enumerate
パッケージのユーザーズ取扱説明書によると、参考文献の項目は 
\family typewriter

\backslash
protect
\backslash
citeauthoryear{
\family default
\emph on
author(s)
\family typewriter
\emph default
}{
\family default
\emph on
year
\family typewriter
\emph default
} と書かなければいけません。
\end_layout

\begin_layout Standard

\family typewriter
kluwer.lyx
\family default
 テンプレートは、これらの変わった点を考慮して作ってあります。新しい論文をこのテンプレートを使って書きはじめる場合には、なにも特別なことをする必要はありません。
ただ次のことに気をつけてください。
\end_layout

\begin_layout Enumerate
テンプレートに含まれる ERT を消さないでください。
\end_layout

\begin_layout Enumerate
新しい参考文献の項目をつくる場合は、テンプレートに含まれる参考文献の項目の例をコピーして編集してください。
\end_layout

\begin_layout Section
Koma-Script
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Bernd Rellermeyer
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
LyXの文書クラス 
\emph on
article (koma-script)、report (koma-script)、book
\emph default
 
\emph on
(koma-script)、letter
\emph default
 
\emph on
(koma-script)
\emph default
は、LaTeXの文書クラス 
\family typewriter
scrartcl.cls、scrreprt.cls、scrbook.cls、scrlettr.cls
\family default
に対応しています。以下ではこれを Koma-Scriptファミリーと呼ぶことにします。これらの文書クラスは、ヨーロッパの活字印刷の慣例にいくつもの点でよりよく合
致するように標準の文書クラス 
\family typewriter
article.cls、report.cls、book.cls、letter.cls
\family default
を置き換えるものです。
\end_layout

\begin_layout Itemize
標準の文字サイズは 
\emph on
article (koma-script)、report (koma-script)、book (koma-script)
\emph default
で11pt、
\emph on
letter (koma-script)
\emph default
で12ptです。
\end_layout

\begin_layout Itemize
見出し、description環境のラベル、
\emph on
letter (koma-script)
\emph default
文書クラスのいくつかの要素はボルド sans serifフォントが使われます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
古い cmフォントのボルド sans serifフォントと新しい ecフォントのボルド sans serifフォントの間には大きな違いがあり、特に見出しに使った
場合に違いが目立ちます。比較してみると ec ボルド sans serifフォントの方が細く見えます。ecフォントを使っている場合でもcmフォントの場合と同じよ
うな見た目にするには 
\shape smallcaps
Walter Schmidt
\shape default
 によって書かれた 
\family typewriter
cmsd.sty
\family default
という LaTeXパッケージを使うことができます。
\end_layout

\end_inset

。章の見出しの番号付は節見出しと同じように行われます。つまり頭に Chapter\SpecialChar \ldots{}
という行がつきません。またいくつかのオプションを使って、見出しの外観を変えること
ができます（LyXでは 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument
\family default
ダイアログの 
\family sans
E
\bar under
x
\bar default
tra
\family default
 
\family sans
Options
\family default
フィールドにオプションを入れます）。詳しいドイツ語でのオプションの説明が Koma-Scriptの取扱説明書 
\emph on
scrguide
\emph default
にあります。
\end_layout

\begin_layout Itemize
印刷部分をデザインする主なオプションは、
\family sans
BCOR
\family default
と 
\family sans
DIV
\family default
です（LyXでは 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument
\family default
ダイアログの 
\family sans
E
\bar under
x
\bar default
tra
\family default
 
\family sans
Options
\family default
フィールドにオプションを入れます）。これらのオプションは 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument
\family default
ダイアログのオプションと同様に、はっきりと余白を変えることができます。詳しいドイツ語でのこれらのオプションと他の印刷部分に関するオプションの説明が
 Koma-Scriptの取扱説明書 
\emph on
scrguide
\emph default
にあります。
\end_layout

\begin_layout Itemize
Koma-Scriptファミリの LaTeX文書クラスは、いくつかの追加的なコマンドを定義しています。それらの中で LyXで意味があるものについては対応する段落
環境をつくることで実装しています。
\end_layout

\begin_layout Standard
詳しいドイツ語での Koma-Scriptファミリの文書クラスの説明が Koma-Scriptの取扱説明書 
\emph on
scrguide
\emph default
にあります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
英語へ翻訳した 
\emph on
screnggu
\emph default
もありますが、完全ではありません。
\end_layout

\end_inset

。以下の節では LyXに関係する面だけを説明することにします。
\end_layout

\begin_layout Subsection
article (koma-script), report (koma-script), and book (koma-script)
\end_layout

\begin_layout Standard
文書クラス 
\emph on
article (koma-script)
\emph default
、
\emph on
report (koma-script)
\emph default
、
\emph on
book
\emph default
 
\emph on
(koma-script)
\emph default
は、各々レイアウトファイル 
\family typewriter
scrartcl.layout
\family default
、
\family typewriter
scrreprt.layout
\family default
、
\family typewriter
scrbook.layout
\family default
で実装されています。これらは標準的な文書クラス 
\emph on
article
\emph default
、
\emph on
report
\emph default
、
\emph on
book
\emph default
にあるすべての段落環境を少し変えた形ですべて持っています。例外は LyX特有の 
\family sans
List
\family default
環境で、これは同じ機能をもつ新しい 
\family sans
Labeling
\family default
環境で代替されます。この 
\family sans
Labeling
\family default
環境以外にもいくつもの新しい段落環境が加えられています。これらは 
\emph on
letter (koma-script)
\emph default
には含まれていないのに注意してください。
\end_layout

\begin_layout Itemize

\family sans
Addpart、Addchap、Addsec: これらは Part*、Chapter*、Section*と同等のものですが目次にその項目が挿入されます。Addp
art と Addchapは
\family default
 
\emph on
article (koma-script)
\family sans
\emph default
には含まれません。
\end_layout

\begin_layout Itemize

\family sans
Addchap*
\family default
, 
\family sans
Addsec*
\family default
: これらは 
\family sans
Addchap
\family default
と 
\family sans
Addsec
\family default
とまったく同じように働きますが、ランニングへッダを消します。
\family sans
Addchap*は
\family default
 
\emph on
article (koma-script)
\family sans
\emph default
には含まれません
\family default

\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
book (koma-script)
\emph default
と 
\emph on
report (koma-script)
\emph default
には 
\family typewriter

\backslash
addpart*
\family default
コマンドもあります。しかし、これは 
\family sans
Part*
\family default
と同じものなので、LyXでは実装されていません。
\end_layout

\end_inset


\family sans
。
\end_layout

\begin_layout Itemize

\family sans
Minisec
\family default
: 次に続く段落のすぐ上に普通の文字サイズで文章の構造を変えない形で見出しをつけます。
\end_layout

\begin_layout Itemize

\family sans
Captionabove
\family default
と 
\family sans
Captionbelow
\family default
はキャプションの要素の上または下に配置するための特別のキャプションでスペースの配置を変えてあります（正しい組版のルールに従うなら、つねにキャプションは表の上に置
きます）。また 
\family typewriter
tablecaptionsabove
\family default
 というクラスオプションを使うと、表には 
\family sans
captionabove
\family default
を 図には 
\family sans
captionbelow
\family default
を使うようになります。これを使うには少なくとも Koma-Script version 2.8q が必要です。
\end_layout

\begin_layout Itemize

\family sans
Dictum
\family default
: これを使うと章の初めに格言を置くことができます。オプションで 
\family sans
Insert\SpecialChar \menuseparator
Short
\begin_inset space ~
\end_inset

Title
\family default
 を使うと、その中に格言の著者を入れることができます。格言の著者の間は線で区切られます。これを使うには少なくとも Koma-Script version
 2.8q が必要です。
\family sans
Dictum
\family default
は 
\emph on
article (koma-script)
\emph default
には含まれません。
\end_layout

\begin_layout Standard
以下のタイプは標準的なタイプ 
\family sans
Title、Author
\family default
、
\family sans
Date
\family default
とともに文章のタイトル部分を作るのに使います。これらは一番初めの普通の段落よりも前に置かれる必要があります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
対応する LaTeXコマンドが 
\family typewriter

\backslash
maketitle
\family default
コマンドよりも前にこなければなりません。
\end_layout

\end_inset

。これらの中のあるタイプが2度以上使われた場合は、後のものが前のものを上書きします。つまり最後に使ったものだけが有効です。しかし、異なるタイプ、例えば
 
\family sans
Titleと Author
\family default
と 
\family sans
Date
\family default
の順番を変えてもタイプセットされた文章には何の影響も与えません。
\end_layout

\begin_layout Itemize

\family sans
Subject
\family default
: 通常のタイトル(
\family sans
Title
\family default
, 
\family sans
Author
\family default
, 
\family sans
Date
\family default
)の上に文章の主題のための真ん中に置かれた段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
Publishers
\family default
: 通常のタイトル(
\family sans
Title
\family default
, 
\family sans
Author
\family default
, 
\family sans
Date
\family default
)の下に出版者の名前を入れる中心揃された段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
Dedication
\family default
: 
\emph on
report (koma-script)
\emph default
と 
\emph on
book (koma-script)
\emph default
ではタイトルページの次に独立したページを献辞のためにつくります。
\emph on
article (koma-script)
\emph default
 の場合は通常のタイトル(
\family sans
Title
\family default
, 
\family sans
Author
\family default
, 
\family sans
Date
\family default
)の下に献辞のための中心揃した段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
Titlehead
\family default
: 通常のタイトル(
\family sans
Title
\family default
, 
\family sans
Author
\family default
, 
\family sans
Date
\family default
)の上に文章のへッドを入れるための左詰めの段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
Uppertitleback
\family default
: 
\emph on
report (koma-script)
\emph default
や 
\emph on
book (koma-script)
\emph default
で両面印刷をする場合、タイトルページの裏のページの一番上に左詰め段落をつくります。片面印刷の場合や、
\emph on
article (koma-script)
\emph default
では何の効果もありません。
\end_layout

\begin_layout Itemize

\family sans
Lowertitleback
\family default
: 
\emph on
report (koma-script)
\emph default
や 
\emph on
book (koma-script)
\emph default
で両面印刷をする場合、タイトルページの裏のページの一番下に左詰め段落をつくります。片面印刷の場合や、
\emph on
article (koma-script)
\emph default
では何の効果もありません。
\end_layout

\begin_layout Itemize

\family sans
Extratitle
\family default
: 段落を含む実際の文章より前に、文章の整形を行わない特別の「汚い」ページをつくります。
\end_layout

\begin_layout Standard
文書クラス 
\emph on
article (koma-script)、report (koma-script)、book (koma-script)
\emph default
の レイアウトファイルは 
\family typewriter
scrmacros.inc
\family default
というファイルを読み込みます。このファイルの中にあなたの新しいクラスを定義することができます。s
\family typewriter
crmacros.inc
\family default
を自分用のレイアウトディレクトリにコピーして編集してください。
\end_layout

\begin_layout Subsection
letter (koma-script)
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
文書クラス 
\emph on
letter (koma-script)
\emph default
は、レイアウトファイル 
\family typewriter
scrlettr.layout
\family default
で実装されています。これは標準的な文書クラス 
\emph on
letter
\emph default
にあるすべての環境を少し変えた形で含んでいますが、LyXに特有の 
\family sans
LyX-Code
\family default
、
\family sans
Comment
\family default
、
\family sans
List
\family default
タイプは新しい 
\family sans
Labeling
\family default
タイプを代わりに使ってください。それ以外にも標準的な文書クラスの場合と違い、
\family sans
LaTeX
\family default
、
\family sans
Quotation
\family default
、
\family sans
Quote
\family default
、
\family sans
Verse
\family default
を含んでいます。またそれ以外にも多くの手紙特有の環境が付け加えられています。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
この文書クラスで作られた手紙の色々な部分は、多くの LaTeXコマンドで変えることができます（LyXでするには 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator
LaTeX
\family default
 
\family sans
Preamble
\family default
選んで下さい）
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
例えば普通の名前と住所の入った手紙のへッダをつけるにはプリアンブルに次のようなコマンドを入れます。
\end_layout

\begin_layout LyX-Code

\backslash
firsthead{
\backslash
parbox[b]{
\backslash
textwidth}
\end_layout

\begin_layout LyX-Code
{
\backslash
ignorespaces 
\backslash
fromname
\backslash

\backslash
 
\backslash
ignorespaces 
\backslash
fromaddress}} 
\end_layout

\begin_layout LyX-Code

\backslash
nexthead{
\backslash
parbox[b]{
\backslash
textwidth}
\end_layout

\begin_layout LyX-Code
{
\backslash
ignorespaces 
\backslash
fromname 
\backslash
hfill 
\backslash
ignorespaces 
\backslash
pagename
\backslash
 
\backslash
thepage}}
\end_layout

\end_inset

。このような LaTeXコマンドの詳しいドイツ語の説明は Koma-Scriptの取扱説明書 
\emph on
scrguide
\emph default
に書いてあります。これを参照して自分用の手紙のレイアウトを作ることができます。
\end_layout

\begin_layout Standard

\family sans
Letter
\family default
環境と 
\family sans
Opening
\family default
環境は手紙の始めを定義する環境で、すべての手紙に使わなければなりません。これらの環境を強調するために、LyXでは左余白にそれぞれ 
\shape italic
L
\shape default
と 
\shape italic
O
\shape default
という文字が表示されます。一つのファイルにいくつもの手紙を書くのが可能です。
\family sans
Opening
\family default
環境は同じ住所を使って新しい手紙を始め、
\family sans
Letter
\family default
環境は新しい住所を作ります。
\family sans
Closing
\family default
、
\family sans
PS
\family default
、
\family sans
CC
\family default
、
\family sans
Encl
\family default
は通常の段落環境で一つの同じ手紙の中で何回でも使うことができます。
\end_layout

\begin_layout Itemize

\family sans
Letter: 住所のための段落をつくり、暗黙に手紙の始まりを定義します。
\end_layout

\begin_layout Itemize

\family sans
Opening
\family default
: 敬称のための段落をつくり、暗黙に新しい手紙を始めます。
\end_layout

\begin_layout Itemize

\family sans
Closing
\family default
: 結語のための段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
PS
\family default
: 追伸のための段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
CC
\family default
: 配布先のリストのための段落をつくります。
\end_layout

\begin_layout Itemize

\family sans
Encl
\family default
: 同封した物を書くための段落をつくります。
\end_layout

\begin_layout Standard

\family sans
Name
\family default
、
\family sans
Signature
\family default
、
\family sans
Address
\family default
、
\family sans
Telephone
\family default
、
\family sans
Place
\family default
、
\family sans
Backaddress
\family default
、
\family sans
Specialmail
\family default
、
\family sans
Location
\family default
、
\family sans
Title
\family default
、
\family sans
Subject
\family default
といった環境は情報を入力するための環境で、どのような情報を入れるかのラベルがついていて、文書クラスによって処理されます
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
上で述べた 
\family sans
Letter
\family default
や 
\family sans
Opening
\family default
がこれらと同じ入力タイプではないのが不合理に見えるかもしれません。しかし、この2つの環境の特別の役割のために、私はこれらを左余白にマークのある普通の段落環境とし
て実装しました。それと私の感覚では、
\family sans
Opening
\family default
環境と 
\family sans
Closing
\family default
環境が同じように見える方がいいと思います。
\end_layout

\end_inset

。これらの環境は対応する 
\family sans
Opening
\family default
環境の前に置く必要があります。
\end_layout

\begin_layout Standard
これらの環境を WYSIWYGの形で実装するのは意味がありません。なぜならつくられた手紙の外観はどの環境を使っているかだけではなく、他の要素にも影響されるからで
す。例えば 
\family sans
Signature
\family default
環境は 
\family sans
Closing
\family default
環境が同じ手紙に使われたときのみ最終的な手紙にあらわれます。
\family sans
Telephone
\family default
環境の値は通常手紙のどこにもあらわれません。前に脚注の中で示したやり方で手紙のへッダを変えるときに使われるかもしれません。
\end_layout

\begin_layout Standard
このような入力タイプの環境は、空の段落として使うことができます。これは 
\family sans
Signature
\family default
環境の場合に特に有効です。
\family sans
Signature
\family default
環境が使われていない場合には、
\family sans
Name
\family default
環境の値が署名として使われます。空の 
\family sans
Signature
\family default
環境がある場合には、署名がつきません。
\end_layout

\begin_layout Standard
入力タイプを使うことで手紙のテンプレートもつくることができます。住所、名前などのいつも使う情報だけは書いておき、日付などの変わっていく情報については空の入力タイ
プの環境を入れておけばいいのです。
\end_layout

\begin_layout Itemize

\family sans
Signature
\family default
: 送り手の署名。通常は 
\family sans
Closing
\family default
環境の下にあらわれる。もし 
\family sans
Signature
\family default
環境が無ければ、
\family sans
Name
\family default
環境の値が代わりに使われます。
\end_layout

\begin_layout Itemize

\family sans
Address
\family default
: 送り手の住所。通常はレターへッドの送り手の名前の下に中央揃の段落で表示されます。
\end_layout

\begin_layout Itemize

\family sans
Telephone
\family default
: 送り手の電話番号。LaTeX変数 
\family typewriter

\backslash
telephonenum
\family default
にこれの値が代入されるだけです。
\end_layout

\begin_layout Itemize

\family sans
Place
\family default
: 手紙を書いた場所。
\end_layout

\begin_layout Itemize

\family sans
Date
\family default
: 手紙を書いた日付。
\family sans
Place
\family default
と 
\family sans
Date
\family default
は送り手の住所の下に場所と日付を右詰めの形で挿入します。もし空の 
\family sans
Date
\family default
環境が使われた場合は、
\family sans
Place
\family default
の値に関係なく場所も日付も表示されません。もし 
\family sans
Date
\family default
環境が無かった場合には、ファイルが LaTeXで処理された日付が代入されます。
\end_layout

\begin_layout Itemize

\family sans
Backaddress
\family default
: 送り手の返送する場合の住所。送り手の住所の上に小さな sans serifフォントで表示されます。
\end_layout

\begin_layout Itemize

\family sans
Specialmail
\family default
: 特別な手紙の情報。普通は住所の上、返送用の住所の下に下線つきで表示されます。
\end_layout

\begin_layout Itemize

\family sans
Location
\family default
: 追加的な情報。普通は住所の下の右側に表示されます。
\end_layout

\begin_layout Itemize

\family sans
Title
\family default
: 手紙の題名。表題の上に大きな太い sans serifフォントで表示されます。
\end_layout

\begin_layout Itemize

\family sans
Subject
\family default
: 手紙の表題。
\family sans
Opening
\family default
環境の上に太字で表示されます。
\end_layout

\begin_layout Standard

\family sans
Yourref
\family default
、
\family sans
Yourmail
\family default
、
\family sans
Myref
\family default
、
\family sans
Customer
\family default
、
\family sans
Invoice
\family default
といったタイプは、
\family sans
Title
\family default
行の上にビジネス用の手紙のような 
\begin_inset Quotes eld
\end_inset

Your ref.
\begin_inset Quotes erd
\end_inset

、
\begin_inset Quotes eld
\end_inset

Your letter of
\begin_inset Quotes erd
\end_inset

、
\begin_inset Quotes eld
\end_inset

Our ref.
\begin_inset Quotes erd
\end_inset

、
\begin_inset Quotes eld
\end_inset

Customer no.
\begin_inset Quotes erd
\end_inset

、
\begin_inset Quotes eld
\end_inset

Invoice no.
\begin_inset Quotes erd
\end_inset

、
\begin_inset Quotes eld
\end_inset

Date
\begin_inset Quotes erd
\end_inset

といったフィールドを含む行をつくります。日付には 
\family sans
Date
\family default
の値が使われます。このようなビジネス用のタイプが使われた場合、
\family sans
Place
\family default
の値は手紙にあらわれずに、LaTeX変数 
\family typewriter

\backslash
fromplace
\family default
がセットさせるだけになります。通常の住所フィールドの下の右揃での場所と日付の出力は抑制されます。これらのビジネス用のタイプはラベルを持った入力タイプとして実装さ
れていて、対応する 
\family sans
Opening
\family default
環境より前に置く必要があります。
\end_layout

\begin_layout Itemize

\family sans
Yourref
\family default
: Your ref.
\end_layout

\begin_layout Itemize

\family sans
Yourmail
\family default
: Your letter of.
\end_layout

\begin_layout Itemize

\family sans
Myref
\family default
: Our ref.
\end_layout

\begin_layout Itemize

\family sans
Customer
\family default
: Customer no.
\end_layout

\begin_layout Itemize

\family sans
Invoice
\family default
: Invoice no.
\end_layout

\begin_layout Subsection
新しい letter class: letter (koma-script v.2)
\end_layout

\begin_layout Standard
Koma-Script バージョン 2.8は新しい レタークラス 
\family typewriter
scrlttr2
\family default
を導入して、今まで使われてきた 
\family typewriter
scrlettr
\family default
はサポートされなくなりました。これは、LaTeX の側で、全く新しいインターフェイスを持ち、今までのクラスと互換性を持ちません。そのために LyX
 は新旧二つのクラスをサポートしています。ただし、できるだけ新しいクラスを使ってください。
\end_layout

\begin_layout Standard
このクラスは 
\emph on
letter (koma-script)
\emph default
の機能はすべて持っていて、また新しい機能も付け加えられています。基本的な要素は 
\family sans
Address
\family default
（受取人の住所、古いレイアウトの 
\family sans
Letter
\family default
と同じ）、
\family sans
Opening
\family default
、
\family sans
Closing
\family default
です。
\family sans
NextAddress
\family default
は新しい手紙を始めます（つまり、一つの文章で複数の手紙を書くことができます）。新しい要素は送り手の 
\family sans
E-Mail
\family default
、
\family sans
URL
\family default
、
\family sans
Fax
\family default
、
\family sans
Bank
\family default
、それとヘッダに（
\family sans
Insert\SpecialChar \menuseparator
Graphics
\family default
を使って）ロゴを入れることができます。
\end_layout

\begin_layout Standard
一番大きな改良点は、ほとんどすべてのニーズを満たすように手紙のレイアウトが設定可能になったことでしょう。これはプリアンブル（
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator
Preamble
\family default
\SpecialChar \ldots{}
）かクラスオプションとして特別のスタイルファイル（レタークラスオプション、拡張子は 
\family typewriter
*.lco
\family default
）を読み込んで設定します
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
KOMAパッケージにはいくつかの既定の *.lco ファイルが含まれています。例えば、
\family typewriter
DIN.lco
\family default
はドイツの組版ルールにそったもので、
\family typewriter
KOMAold.lco
\family default
は古い クラスの既定の
\family typewriter
scrlettr
\family default
レイアウトです。
\family typewriter
KOMAold
\family default
クラスオプションをつけるには、
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument\SpecialChar \menuseparator
Extra Options
\family default
フィールドに 
\family typewriter
KOMAold
\family default
を挿入してください。
\end_layout

\end_inset

。使い方の例として LyXに含まれる 
\emph on
koma-letter2
\emph default
テンプレートを見てください。詳しい説明は Koma-Script の取扱説明書（
\emph on
scrguide
\emph default
）を見てください。
\end_layout

\begin_layout Subsection
問題点
\end_layout

\begin_layout Standard
Koma-Script文書クラスを LyXで表示するさいに、LyXの内部構造がいくつかの問題を引き起こします。
\end_layout

\begin_layout Itemize

\family sans
Chapter
\family default
環境の章番号が章の題名と同じ行ではなく、その上の行に表示されます。これはレイアウトファイルの中の 
\family sans
Counter_Chapter
\family default
ラベルタイプに対する LyXの振る舞いのためです。
\end_layout

\begin_layout Itemize

\family sans
Addchap
\family default
と 
\family sans
Addsec
\family default
でつけた見出しは本当の LaTeXファイルの目次には挿入されますが、LyXの目次（
\family sans
\bar under
V
\bar default
iew\SpecialChar \menuseparator

\bar under
T
\bar default
able
\begin_inset space ~
\end_inset

of
\begin_inset space ~
\end_inset

Contents
\family default
）には挿入されません。
\end_layout

\begin_layout Itemize

\emph on
letter
\emph default
文書クラスでの段落は段落の間に間隔を開けることによって分けられていて、字下げは使いません。これが通常の振る舞いで、そのために特別な LaTeXコマンドは必要あり
ません。しかし 
\family sans
\bar under
L
\bar default
ayout\SpecialChar \menuseparator

\bar under
D
\bar default
ocument
\family default
ダイアログでは 
\family sans
\bar under
I
\bar default
ndent
\family default
ボタンが押された状態になっています。これは 
\family sans
S
\bar under
k
\bar default
ip
\family default
は段落間に間を開ける LaTeXコマンドを挿入するボタンですが、この文書クラスの場合、特別な LaTeXコマンドを挿入する必要がないからです。
\end_layout

\begin_layout Section
Latex8（IEEE学会論文）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Allan Rae
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
このクラスは IEEEがスポンサーになっているカンファレンスに投稿するためのものです。したがって、このクラスを使うには IEEEの Authors
 Kitを手に入れることを強くお薦めします。
\family sans
latex.sty
\family default
パッケージと それに付随する bibliographyスタイルファイルはそのキットに含まれています。Authors Kitは通常初めの投稿が受理されたときに
 e-mailで送られてきます。その中にはフォーマットに関する制限等の役に立つ情報が色々書いてあります。以下ではあなたがこのキットを手にいれて、読んでいるものと
して話を進めていきます。
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
[AR\SpecialChar \@.
 more to come]未完成
\end_layout

\begin_layout Subsection
サポートされている環境
\end_layout

\begin_layout Itemize

\family sans
Standard
\end_layout

\begin_layout Itemize

\family sans
Title
\end_layout

\begin_layout Itemize

\family sans
Author
\end_layout

\begin_layout Itemize

\family sans
E-mail
\end_layout

\begin_layout Itemize

\family sans
Affiliation
\end_layout

\begin_layout Itemize

\family sans
Abstract
\end_layout

\begin_layout Itemize

\family sans
Section
\end_layout

\begin_layout Itemize

\family sans
SubSection
\end_layout

\begin_layout Itemize

\family sans
Caption
\end_layout

\begin_layout Subsection
画面と印刷したものの違い
\end_layout

\begin_layout Standard
主に節番号の表示の仕方のために、画面上と印刷したものの間には小さな違いがあります。画面上では節番号に続くピリオドが表示されません。印刷したものにはちゃんと表示さ
れるので心配しないでください。
\end_layout

\begin_layout Section
Memoir
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Jürgen Spitzmüller
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
概観
\end_layout

\begin_layout Standard
Memoir は非常に強力で着実に改良されている文書クラスです。フィクションとノンフィクションの文学作品用にデザインされています。このクラスの目的は、ユーザーが
文章の組版に対して最大限にコントロールできることです。Memoir は標準の book クラスをベースにしていますが、article クラスをまねることもできま
す（やり方は以下で説明します）。
\end_layout

\begin_layout Standard
Memoir の開発者である Peter Wilson は LaTeX の世界で多くの便利なパッケージの作者として知られています。それらのほとんどは
 Memoir に含まれています。そのために、目次、付録、章のデザインなどを簡単にレイアウトすることができます。ただし、LyX はそれらすべての機能をサポートし
ているわけではありません。いくつかのものは将来のバージョンでサポートされるでしょうが
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
提案があれば 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

lyx-devel@lists.lyx.org
\end_layout

\end_inset

までぜひおくって下さい。
\end_layout

\end_inset

、LyX のフレームワークによる制限のために多くのものはサポートされないでしょう。もちろん、LaTeX コマンド（ERT
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
詳しくはセクション
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:LaTeXコードを挿入する"

\end_inset

を見てください。
\end_layout

\end_inset

）を直接入力することによって、すべての機能を使うことは可能です。その節では、LyX でサポートされている機能だけについて簡単に見ていくことにします。詳しい説明や
、LyX で直接サポートされていない機能については、Memoir クラスの詳しい取扱説明書
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

CTAN:/macros/latex/memoir/memman.pdf
\end_layout

\end_inset


\end_layout

\end_inset

を見てください。この取扱説明書はこのクラスのユーザーの手引きであるだけでなく、よい組版とはどういうものかという総合的な解説やよい組版のすばらしい例を含んでいます
。
\end_layout

\begin_layout Subsection
基本的な機能と制限
\end_layout

\begin_layout Standard
Memoir は標準の book クラスのすべての機能を基本的にサポートしています。しかし、以下のようないくつかの違いがあります。
\end_layout

\begin_layout Description
フォントサイズ: Memoir の方がより広い範囲のフォントサイズが使えます。9、10、11、12、14、17
\end_layout

\begin_layout Description
ページスタイル: fancyhdr パッケージと Memoir の間の一つのコマンドの衝突のため（2つのパッケージが一つのコマンドを同じ名前で定義しているために
、LaTeX を混乱させるのです）、手の込んだページスタイルは使えません。そのかわりに、Memoir はいくつものページスタイルを用意しています（
\family sans
Layout\SpecialChar \menuseparator
Document\SpecialChar \menuseparator
Page
\begin_inset space ~
\end_inset

Style
\family default
 を見てください）。それらのページスタイルを章題ページに使いたい場合は、
\family typewriter

\backslash
chapterstyle
\family default
 コマンドを本文かプリアンブルに記述する必要があります（つまり、
\family typewriter

\backslash
chapterstyle{companion}
\family default
 のようなコマンドです）。
\end_layout

\begin_layout Description
節分け: 標準的なクラスでは節分けコマンド（chapter、 section、 subsection等）は一つのオプションをとることができます。このオプションで
目次とヘッダーの表示用の題名を指定できます（題名が長い場合などに使います）。LyX では、chapterや sectionの始めのところで 
\family sans
Insert\SpecialChar \menuseparator
Short
\begin_inset space ~
\end_inset

Title
\family default
を使って指定できます。Memoir は2つめのオプションを取ることができ、目次用の題名とヘッダー用の題名を異なるものにできます。つまり、本文中の題名、目次用の題
名、ヘッダー用の題名の3種類の題名を使うことができるのです。残念ながら LyXは2つのオプションを取ることをサポートしていません。しかし、この制限は次のようにし
て回避できます。一つめと二つめの項の間に ERTモード（
\family sans
C-l
\family default
）で一組の括弧を入れればいいのです。つまり、Short Title インセットに 
\emph on
<目次用の題名>
\emph default
 
\family typewriter
][
\family default
 
\emph on
<ヘッダ用の題名>
\emph default
 と入力すればいいのです（ 
\family typewriter
][
\family default
 は TeXモードです）。 
\end_layout

\begin_layout Description
目次/図、表のリスト: 標準のクラス（とそれ以外の多くのクラス）では、目次、図のリスト、表のリストは自動的に新しいページから始まります。Memoir
 はこれらのクラスとは異なり、新しいページで始めたいなら自分でページの区切りを入れる必要があります。
\end_layout

\begin_layout Description
タイトルページ: 理由はわからないのですが、Memoir はタイトルページにページ番号をつけます（標準のクラスでは、タイトルページのスタイルは「empty」、つ
まりページ番号はつきません）。タイトルページにページ番号を付けたくない場合は、プリアンブルに 
\family typewriter

\backslash
aliaspagestyle{title}{empty}
\family default
と入力してください。
\end_layout

\begin_layout Description
Article: クラスオプションに 
\emph on
article
\emph default
 をつけると（
\family sans
Layout\SpecialChar \menuseparator
Document\SpecialChar \menuseparator
Extra
\begin_inset space ~
\end_inset

Options
\family default
 を選んで入力します）、article スタイルをまねることができます。つまり、（脚注、図、表等の）カウンターは新しい章に入ってもリセットされません。また新しい
章は新しいページからはじまりません（ただし、本当の article クラスとは違って、新しいページから始めることもできます）。しかし、parts
 は bookクラスと同様に新しいページからはじまります。
\end_layout

\begin_layout Description
Oldfontcommands: 既定では Memoir は LaTeX バージョン 2.09 で使われていた古いフォントコマンド（つまり、
\family typewriter

\backslash
rm
\family default
 や 
\family typewriter

\backslash
it
\family default
 ）を使うことを許しません。そのようなコマンドが表れた場合は、エラーが発生して LaTeX が止まります。クラスオプション 
\emph on
oldfontcommands
\emph default
 を使うと、警告が出るだけになります（少なくとも LaTeX は止まりません）。多くのパッケージ、特に BibTeX のスタイルファイルはまだ古いフォントコマン
ドを使っているために、我々は既定でこのオプションを使うことに決めました。
\end_layout

\begin_layout Subsection
追加された機能
\end_layout

\begin_layout Standard
LyXでサポートされる機能（今のところそれほど多くはありません）を簡単に説明しましょう。詳しくは Memoir の取扱説明書
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

CTAN:/macros/latex/memoir/memman.pdf
\end_layout

\end_inset

。
\end_layout

\end_inset

を見てください。
\end_layout

\begin_layout Description
Abstract: なぜ abstract が追加された機能なのか不思議かもしれませんが、標準の Bookクラスには abstract は無いのです。しかし、M
emoir にはあります。文章中のどこにでも、また何回でも abstract を使うことができます。
\end_layout

\begin_layout Description
Chapterprecis: 純文学を読んでいて、これを見たことがあるかも知れません。章の内容が簡単にタイトルの下と目次に書いてあるものがあります（つまり、「我
々のヒーローがトロヤに到着する。彼は友人を失うが、新たな友人を得る。」というようなものです）。これが Chapterprecis です。したがって、章の下でのみ
意味を持ちます。
\end_layout

\begin_layout Description
Epigraph: epigraphは章の始めに書かれた、標語やモットーです。epigraph 環境はそのような標語をタイプセットする方法を用意します。標語自身
（テキスト）とその著者（ソース）が短い線で分けられます。この環境はテキストとソースという 2つのオプションを必要とするので、LyXをごまかす必要があります。この
場合は、（TeXモードで）2つのオプションの間に括弧を入れます。
\emph on
<標語>
\emph default
 
\family typewriter
}{
\family default
 
\emph on
<標語の著者>
\emph default
 としますが、この中の 
\family typewriter
}{
\family default
 が TeXモードでの入力です。
\end_layout

\begin_layout Description
Poemtitle: Memoir は（複雑で抽象的なものも含めて）詩をタイプセットするための多くの機能を持っています。LyXでは、その中のいくつかしかサポート
していません。その一つが poemtitle です。これは詩のための中央におかれたタイトルで、目次にも含められます（verse が詩のための標準的な環境です。M
emoir はverseを拡張した環境を持っていますが、これを使うためには ERT が必要です。この環境は verse環境の中に入れ子にする必要があるのですが、
LyXではそれがサポートされていないからです）。
\end_layout

\begin_layout Description
Poemtitle*: poemtitle と同じですが、目次には加えられません。
\end_layout

\begin_layout Section
Article（mwart）・book（mwbk）・report（mwrep）
\begin_inset OptArg
status collapsed

\begin_layout Plain Layout

\family typewriter
mw
\family default
クラス
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Tomasz Luczak
\end_layout

\end_inset

文
\end_layout

\begin_layout Standard
LyXの文書クラス 
\emph on
article (mwart)
\emph default
、
\emph on
report (mwrep)、book
\emph default
 
\emph on
(mwbk)
\emph default
 はそれぞれ LaTeX の文書クラス 
\family typewriter
mwart.cls
\family default
、
\family typewriter
mwrep.cls、mwbk.cls
\family default
に対応しています。これらは、標準的な 
\family typewriter
article.cls
\family default
、
\family typewriter
report.cls、book.cls
\family default
を代替するものでいくつかの点でポーランド語の組版ルールによりよくしたがっています。
\end_layout

\begin_layout Standard
基本的な違いは、次の点です。
\end_layout

\begin_layout Itemize
番号の付かない見出し（
\family sans
Section*
\family default
のようなアステリスクがついたもの）も目次に加えられます。
\end_layout

\begin_layout Itemize
ページスタイルの追加。
\end_layout

\begin_deeper
\begin_layout Description
uheadings 線で本文と分けられたヘッダ
\end_layout

\begin_layout Description
myheadings カスタムヘッダ、ヘッダの内容は 
\family typewriter

\backslash
markright
\family default
と 
\family typewriter

\backslash
markboth
\family default
コマンドで指定します
\end_layout

\begin_layout Description
myuheadings 線で本文と分けられたカスタムヘッダ
\end_layout

\begin_layout Description
outer ページ番号がページの外側に付きます
\end_layout

\end_deeper
\begin_layout Itemize
オプション
\end_layout

\begin_deeper
\begin_layout Description
rmheadings serif のタイトル --- 既定
\end_layout

\begin_layout Description
sfheadings sans serif のタイトル
\end_layout

\begin_layout Description
authortitle タイトルページにまず著者名、その次にタイトルが配置される --- 既定
\end_layout

\begin_layout Description
titleauthor タイトルページにまずタイトル、その次に著者名が配置される
\end_layout

\begin_layout Description
withmarginpar 余白のための場所をページ上で確保
\end_layout

\end_deeper
\begin_layout Section
Paper
\end_layout

\begin_layout Standard

\family sans
paper
\family default
文書クラスは標準的な 
\family sans
article
\family default
クラスの代わりとなるものです。これは 
\family sans
article
\family default
クラスと同じような機能を提供しますが、節が sans serifになり ヘッディング等が変わっているこちらのレイアウトの方が気に入るかも知れません。
\end_layout

\begin_layout Section
RevTeX4
\end_layout

\begin_layout Standard
by 
\noun on
Amir Karger
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\noindent

\family sans
Revtex
\family default
 テキストクラスは American Physical Sociey
\family sans
のRevtex 4.0(the 
\begin_inset Formula $\beta$
\end_inset

 release of May, 1999)クラスと使います。
\end_layout

\begin_layout Standard
LyXは RevTeX 3.1と使う 
\family sans
Revtex
\family default
テキストクラス持っています。v3.1は LaTeX 2.09で動くもので時代遅れになっています。LyXは LaTeX2eで動いているので、これを LyXでサポートす
るのは大変でした。RevTeX 4.0からは、より LaTeX2eでうまく動くようにデザインされているので、LyXで 
\family sans
RevTeX
\family default
テキストクラスを使うのはずっと簡単になりました。
\end_layout

\begin_layout Standard
ここでの説明は RevTeX 4.0の説明書への追加として考えてください。したがって特有の RevTeXマクロを説明せず、また必要な場合にプリアンブルにどうすれば
コマンドを入れればいいかを知っているものとして説明していきます。
\end_layout

\begin_layout Subsection
インストール
\end_layout

\begin_layout Standard
まず、RevTeX 4の READMEに説明しているやり方で RevTeX 4をインストールする必要があります。このパッケージ自体はThe RevTeX
 4 Web Site 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://publish.aps.org/revtex4/
\end_layout

\end_inset

から手にいれることができます。LaTeXが見つけることのできる場所にインストールしてください。そして、インストールしたのとは異なる任意のディレクトリで短い
 RevTeX 4の文章を LaTeXでコンパイルできるかどうかを確かめてください。この後、LyXを再設定するとクラスファイルを見つけ、RevTeX4テキストク
ラスが使えるようになるはずです。
\end_layout

\begin_layout Standard
おそらく使い始める一番簡単な方法は RevTeX 4の文章を 
\family typewriter
reLyX
\family default
を使ってインポートするか、またはテンプレートディレクトリにある 
\family sans
Revtex
\begin_inset space ~
\end_inset

4
\family default
テンプレートを使うことでしょう。
\end_layout

\begin_layout Subsection
プリアンブルに関すること
\end_layout

\begin_layout Standard

\family typewriter

\backslash
documentclass
\family default
に与える preprintや apsのような追加的なオプションは、
\family sans
Document
\begin_inset space ~
\end_inset

Layoutダイアログの E
\bar under
x
\bar default
tra
\begin_inset space ~
\end_inset

Options
\family default
フィールドに入れます。RevTeXでは少なくとも一つのオプションが必要なことに注意してください。
\end_layout

\begin_layout Standard
それ以外の
\family typewriter

\backslash
draft
\family default
等のようにプリアンブルに入れるものは、
\family sans
Latex
\begin_inset space ~
\end_inset

Preamble
\family default
ダイアログに入れてください。
\end_layout

\begin_layout Subsection
レイアウト
\end_layout

\begin_layout Standard
レイアウトは基本的に RevTeX4.0のコマンドに対応しています。例えば Emailレイアウトは 
\family typewriter

\backslash
email{}
\family default
に対応しています。少なくとも RevTeX 4.0 Betaでは、
\family sans
Address
\family default
と 
\family sans
Affiliation
\family default
はまったく同じものなので、両方を使うことはないことに注意してください
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
LyXには両方が含まれています。そのために 
\family typewriter

\backslash
address
\family default
と 
\family typewriter

\backslash
affiliation
\family default
の両方を 
\family typewriter
reLyX
\family default
が翻訳できます。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsection
重要な注意
\end_layout

\begin_layout Standard
RevTeX 4には独特な面があり、これが LyXを混乱させバグを引き起こします。
\end_layout

\begin_layout Standard
RevTeXでは、
\family typewriter

\backslash
thanks
\family default
コマンドは 
\family typewriter

\backslash
author
\family default
環境の外側で使います。LyXでこれと同じ働きをするのは別の Thanksレイアウトです。したがって
\family sans
、Author
\family default
レイアウトに脚注を書かないでください。ムチャクチャになる可能性があります。詳しくは RevTeX 4の説明書を見てください。
\end_layout

\begin_layout Standard
また 
\family sans
Author
\begin_inset space ~
\end_inset

Email
\family default
、
\family sans
Author
\begin_inset space ~
\end_inset

URL、Thanks
\family default
レイアウトは 
\family sans
Author
\family default
レイアウトと対応する 
\family sans
Address
\family default
（または同等の 
\family sans
Affiliation
\family default
）レイアウトの間に置かなければなりません。もし 
\family sans
Thanks
\family default
を 
\family sans
Address
\family default
の後ろへ置くと、LaTeXはコンパイルに失敗します。
\end_layout

\begin_layout Subsection
問題点
\end_layout

\begin_layout Standard
このレイアウトの主な問題点は Emailや Titleのようなレイアウトに追加的な引数を使うことができないことです。（これはこのレイアウトだけの問題ではありませ
ん。例えば、Sectionレイアウトに追加的な引数を使うことができません）。これはあなたがファイルを LaTeXファイルに変換した後（これは APSに投稿するた
めに変換する必要があります）、テキストエディタを使ってオプションの引数を加える（例えばへッダにランニングタイトルを加える）必要があるということです。これらのレイ
アウトがないということは 
\family typewriter

\backslash
altaffiliation
\family default
（またそれと同等な 
\family typewriter

\backslash
altaddress
\family default
）を使えなくするので、手で書き加える必要があります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\emph on
Note from JMarc:
\emph default
 実際、LyX 1.3.0 はいくつかの形の追加オプションをサポートしています。しかし、このレイアウトはこの機能を使うようにまだアップデートされてないのです。
\end_layout

\end_inset

。
\end_layout

\begin_layout Section
Springer学術誌（
\family sans
svjour）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Martin Vermeer
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
説明
\end_layout

\begin_layout Standard
これは Springer Verlagのいくつかの学術雑誌のためのレイアウトファイルです。
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.springer.de/author/tex/help-journals.html
\end_layout

\end_inset

に必要なクラスファイル（LaTeX2e用になりました）とそれに対応する雑誌の一覧があります。このレイアウトファイルはモジュール方式になっています。すべてのジャー
ナルに共通な部分は 
\family typewriter
svjour.inc
\family default
にまとめてあり、各々の雑誌のレイアウトファイル（例えば、
\family typewriter
svjog.layout
\family default
は Journal of Geodesy のためのレイアウトファイルです）にそれが読み込まれます。
\end_layout

\begin_layout Standard
したがって、クラスファイルがサポートする他の Springer の雑誌用のレイアウトファイルをつくるには、
\family typewriter
svjog.layout
\family default
に含まれるアウトラインにしたがうと、あなた自身の 
\family typewriter
sv
\family default
<myjournal>
\family typewriter
.layout
\family default
を簡単に作れます。
\end_layout

\begin_layout Standard
これは Journal of Geodesyに対してしかちゃんとテストしていません。
\family typewriter
svjour
\family default
 と 
\family typewriter
svjog
\family default
 は標準的な LyX ディストリビューションに含まれています。関連するクラスファイルを（Springerからダウンロードして）正しいディレクトリにイントールして
、LaTeXがそれらのファイルを探せるように設定し（teTeXの場合は texhashを走らせます）、LyXを再設定してください。これで動くはずです。
\end_layout

\begin_layout Subsection
新しい環境
\end_layout

\begin_layout Standard
多くの定理型の環境 --- 
\family sans
Claim、Conjecture、
\family default
 
\family sans
\SpecialChar \ldots{}
Theorem
\family default
。
\end_layout

\begin_layout Standard

\family sans
Headnote、Dedication、Subtitle、Running_LaTeX_Title、Author_Running、Institute、Mail、O
ffprints、Keywords、Acknowledgements、Acknowledgement
\family default
。詳しくは Springerのクラスファイルの説明書を読んでください。
\end_layout

\begin_layout Subsection
サポートしているジャーナル
\end_layout

\begin_layout Itemize

\emph on
Journal of Geodesy
\emph default
: 
\family typewriter
svjog.layout
\family default
 --- Martin Vermeer
\end_layout

\begin_layout Itemize

\emph on
Probability Theory and Related Fields
\emph default
: 
\family typewriter
svprobth.layout
\family default
 --- Jean-Marc Lasgouttes
\end_layout

\begin_layout Standard
あなた自身のレイアウトファイルをつくってください。難しくはありません。
\end_layout

\begin_layout Subsection
Credits
\end_layout

\begin_layout Standard
これらのファイルは、以前の 
\family typewriter
ejour2.layout
\family default
をもとにしています。
\family typewriter
ejour2.layout
\family default
は Springerの LaTeX 2.09用のスタイルファイルを使った素人細工のようなレイアウトファイルです。これらのファイルはすでにありません。Jean-Ma
rc Lasgouttesのおかげで LyXのレイアウトファイルのメカニズムをよりよく理解することができました。
\end_layout

\begin_layout Subsection
バグ
\end_layout

\begin_layout Standard
多分あります。以前の 
\family typewriter
ejour2
\family default
よりは少なくなっているとは思いますが。
\end_layout

\begin_layout Standard
制限事項：定理型の環境の番号は表示されません。#が表示されるだけです。
\end_layout

\begin_layout Section
Slides（別名
\noun on
Sli
\noun default
TeX）
\begin_inset CommandInset label
LatexCommand label
name "sec:slitex"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
John Weiss
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
この節では、LyXでどのようにオーバーへッドプロジェクタ用のスライドをつくるかを説明します。そのための文書クラスには、既定の slideクラスと
 
\family sans
Foil
\family default
TeX slideクラスの2つがあります。この節は既定の slideクラスを説明します。
\end_layout

\begin_layout Standard
間違えないようにもう一度はっきりと言っておきます。
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\align center

\size large
この節は文書クラス 
\begin_inset Quotes eld
\end_inset


\family sans
slides (default)
\family default

\begin_inset Quotes erd
\end_inset

 だけを説明しています。
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard

\family sans
slides (FoilTeX)
\family default
の説明を探しているなら、セクション
\begin_inset space ~
\end_inset


\begin_inset CommandInset ref
LatexCommand ref
reference "sec:foiltex"

\end_inset

を見てください。
\family sans
slides (FoilTeX)
\family default
はこの節で説明している既定の 
\family sans
slides
\family default
クラスよりもよいもののようです
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
\SpecialChar \ldots{}
と
\family sans
FoilTeX
\family default
の支持者からは聞いています。けれども私は使ったことがないので、本当かどうか確かめようがありません。
\end_layout

\end_inset

。
\end_layout

\begin_layout Standard
このクラスは古い SLITeXパッケージを LaTeX2eで改良したものです。すべての LaTeX2eディストリビューションがこのクラス（これから単に
 
\family sans
slides
\family default
と言うことにします）を持っています。前に言ったように、オーバーへッドプロジェクタ用のスライドをつくるためには 
\family sans
foils
\family default
というクラスもあり、よりよいパッケージのようですが、オーバーレイをつくるといったような、
\family sans
slides
\family default
だけができることもあります。詳しくは以下を読んでください。
\end_layout

\begin_layout Subsection
はじめに
\begin_inset CommandInset label
LatexCommand label
name "sec:slidesetup"

\end_inset


\end_layout

\begin_layout Standard
この文書クラスを使うにはあたりまえですが、まず初めに 
\family sans
Document
\family default
ダイアログの 
\family sans
\bar under
C
\bar default
lass
\family default
エントリから 
\family sans
slides (default)
\family default
を選ばなければなりません。このクラスについて知っておいた方がいいことがいくつかあります。
\end_layout

\begin_layout Itemize

\family sans
Document
\family default
ダイアログの 
\family sans
Sides
\family default
と 
\family sans
Columns
\family default
のオプションは変えないでください。これらのオプションは 
\family sans
slides
\family default
クラスではサポートされていません。
\end_layout

\begin_layout Itemize
このクラスの 
\family sans
Document
\family default
ダイアログの 
\family sans
\bar under
P
\bar default
agestyle
\family default
の振る舞いは、他のクラスと少し違っています。選択肢とそれの説明を書いておきます。
\end_layout

\begin_deeper
\begin_layout Description

\family sans
plain 最終的な出力ではページ番号が右下につきます。
\end_layout

\begin_layout Description

\family sans
headings plainと似ていますが、それ以外にあなたの指定したタイムマーカを印刷します。これが既定です。
\end_layout

\begin_layout Description

\family sans
empty 最終的な印刷物にはページ番号も、タイムマーカも位置を揃えるための目印も印刷されません。
\end_layout

\end_deeper
\begin_layout Itemize

\family sans
slides
\family default
クラスは 
\family typewriter
clock
\family default
という追加的なオプションを持っています。これを使うには 
\family sans
Document
\family default
ダイアログの 
\family sans
E
\bar under
x
\bar default
tra Option
\family default
ボックスに 
\family typewriter
clock
\family default
と入力してください。
\end_layout

\begin_deeper
\begin_layout Standard
このオプションを使うことでタイムマーカを 
\family sans
Note
\family default
sに加えることができます。詳しくはセクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:slideNote"

\end_inset

を見てください。
\end_layout

\end_deeper
\begin_layout Standard
自動的に文章を 
\family sans
slides
\family default
クラスを使うようにするには、テンプレートファイル 
\family typewriter
slides.lyx
\family default
を使うこともできます。
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator
New from
\family default
 
\family sans
\bar under
t
\bar default
emplate
\family default
を使ってください。このテンプレートファイルにはこのクラスで使われる特別な段落環境も含まれています。それを次に説明しましょう。
\end_layout

\begin_layout Subsection
段落環境
\end_layout

\begin_layout Subsubsection

\family sans
サポートされている環境
\end_layout

\begin_layout Standard
新しく 
\family sans
slides
\family default
クラスで文章を書き始めてまず気が付くことは、フォントの大きさと形でしょう。これは 
\family sans
Sans
\family default
フォントの 
\family sans
Largest
\family default
サイズと同じフォントです。このフォントが印刷には使われます。これをスライドを作っているのだという目印にして下さい。印刷したスライドにはもっと大きな文字を使うこと
もできますが、そのかわり書くことのできる量は少なくなります。もちろん、より大きいスクリーンフォントは WYSIWYGではありません。分かるようにしてあるだけです
。
\end_layout

\begin_layout Standard
次に気が付くことは、段落環境プルダウンボックス（ツールバーの左端です）の内容が変わっていることでしょう。いつも見慣れた環境の多くは無くなっていて、5つの新しい環
境が入っています。これは 
\family sans
slides
\family default
クラスがそれらの環境しかサポートしていないためです。
\end_layout

\begin_layout Itemize

\family sans
Standard
\end_layout

\begin_layout Itemize

\family sans
Itemize
\end_layout

\begin_layout Itemize

\family sans
Enumerate
\end_layout

\begin_layout Itemize

\family sans
Description
\end_layout

\begin_layout Itemize

\family sans
List
\end_layout

\begin_layout Itemize

\family sans
Quotation
\end_layout

\begin_layout Itemize

\family sans
Quote
\end_layout

\begin_layout Itemize

\family sans
Verse
\end_layout

\begin_layout Itemize

\family sans
Caption
\end_layout

\begin_layout Itemize

\family sans
LyX-Code
\end_layout

\begin_layout Itemize

\family sans
Comment
\end_layout

\begin_layout Standard
これ以外の標準的な環境、例えば節見出し用の環境などは 
\family sans
slides
\family default
クラスでは使えません。
\end_layout

\begin_layout Standard
一方、次の新しい環境があります。
\end_layout

\begin_layout Itemize

\family sans
Slide
\end_layout

\begin_layout Itemize

\family sans
Overlay
\end_layout

\begin_layout Itemize

\family sans
Note
\end_layout

\begin_layout Itemize

\family sans
InvisibleText
\end_layout

\begin_layout Itemize

\family sans
VisibleText
\end_layout

\begin_layout Standard
これらの5つは、LyXの機能のために少し使い方に癖があります。LyXでは空の段落環境に他の段落を入れることはできません。それ自体はなかなかよいデザインなのですが
、これはスライドを始めるのに普通の文しか使えないことを意味します。これを扱うために、ちょっとした LaTeXマジックが必要になります。
\end_layout

\begin_layout Subsubsection
新しい環境の振る舞い
\begin_inset CommandInset label
LatexCommand label
name "sec:slideQuirk"

\end_inset


\end_layout

\begin_layout Standard
5つの新しい環境すべてに LyXの制約から来る少し変な癖があります。前に指摘したように、LyXは空の環境のなかに別の環境を入れるのを禁じています。これを回避する
ために、
\family sans
Slide
\family default
環境は
\emph on
ユーザーの手引き
\emph default
で述べられているような段落環境ではありません。
\end_layout

\begin_layout Standard

\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
は「疑似環境」だと考えてください。それらは節の見出しやキャプションのように見えますが、実際は（必要なら前の段落環境を終わって）新しい段落環境を開始します。同様に
、
\family sans
InvisibleText
\family default
と 
\family sans
VisibleText
\family default
は「疑似コマンド」だと考えてください。この2つは何らかのことを行います。
\end_layout

\begin_layout Standard

\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
、
\family sans
InvisibleText、VisibleText
\family default
の5つの環境に共通の機能は長いラベルです。このラベルに続くテキスト --- 通常の段落環境なら段落の内容にあたります ---は、
\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
、
\family sans
InvisibleText、VisibleText
\family default
にとってまったく無関係で、LyXは完全にそれを無視します。実際これらの5つの環境は、完全に中身がからのままにしておけるのです。
\end_layout

\begin_layout Standard
長いラベルの後にテキストを入れる必要がないからと言っても、テキストを入れたい場合にはどうしたらいいでしょう。例えばこのスライドについての短い説明等をいれる場合で
す。このような場合は、いつもと同じように説明を入力して 
\family sans
Return
\family default
を押すだけです。
\end_layout

\begin_layout Standard
もしテキスト以外のものを入れようとした場合には、LyXの別の制約に直面します。自然が真空を憎むように、LyXは古い環境に何かを置くまで新しい環境を古い環境のなか
には入れることができません。次のようにしてください。
\end_layout

\begin_layout Itemize
新しい 
\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
、
\family sans
InvisibleText、VisibleText
\family default
に入れるテキストを入力してください。
\end_layout

\begin_layout Itemize
段落の先頭に移動します。
\end_layout

\begin_layout Itemize
次に 
\family sans
Return
\family default
を押します。
\end_layout

\begin_layout Itemize
最後にこの新しいからの段落を 
\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
、
\family sans
InvisibleText、VisibleText
\family default
に変えます。
\end_layout

\begin_layout Standard
将来の LyXではこんなややこしいことをしなくてもよくなることを祈っているのですが\SpecialChar \ldots{}
。
\end_layout

\begin_layout Subsection

\family sans
Slide
\family default
、
\family sans
Overlay、Noteで発表用のスライドを作る
\end_layout

\begin_layout Subsubsection

\family sans
Slide
\family default
環境を使う
\end_layout

\begin_layout Standard
この節はどうやれば実際のスライドを作ることができるのかを説明していると思っている人がいるかもしれません。ここでは 
\family sans
slides
\family default
クラスがどのように発表用の準備をするのに使うことができるのかを説明しているだけです。内容は自分で考えてください。
\end_layout

\begin_layout Standard

\family sans
まず Slide
\family default
環境を選んで、新しいスライドを作ることを LyXに知らせてください。この環境（疑似環境）のラベルが下線に続く NewSlideという青い文字であらわれます。この
ラベルに続くテキスト、環境が新しいスライドに入ります。簡単でしょう。
\end_layout

\begin_layout Standard
スライドは LyXの中で強制的にページを終えなければならない多分唯一の環境です（これは 
\family sans
Paragraph Layout
\family default
ダイアログで設定できます）。必要な内容を入れたら、スライドを終わってください。一枚のスライドに入りきらない内容の場合は、次の新しいスライドにまわされます。しかし
これはしない方がいいでしょう。ページ番号がその新しいスライドにはつかないからです。そのうえ、一枚に収まらないスライドは 
\family sans
Overlay
\family default
を使う場合にうまく行かないかもしれません。
\end_layout

\begin_layout Standard

\family sans
Overlay
\family default
と 
\family sans
Note
\family default
環境も 
\family sans
Slide
\family default
環境と同じように動きます。これらの環境を選ぶと、線とそれに続くラベル、NewOverlay:または NewNote:が表示されます。ただし色は青でなくピンクにな
り、線も違うものが使われます。ラベルのフォントもこれら3つの環境で異なるものが使われます。
\end_layout

\begin_layout Standard

\family sans
Slide
\family default
と同じように内容が1枚のシートに収まらない場合は、新しいシートにまわされます。しかし、これは避けたほうがいいでしょう。
\family sans
Note
\family default
や 
\family sans
Overlay
\family default
の目的を台無しにしてしまいます。
\end_layout

\begin_layout Subsubsection

\family sans
Overlayを Slideといっしょに使う
\end_layout

\begin_layout Standard

\family sans
Overlay
\family default
の基本的な機能は重ね合わせて使うスライドを作ることです。例えば、発表でまず図を見せてそれからテキストを見せたいような場合があるでしょう。一つの方法は見せたくない
部分を紙で隠してしまうことですが、これはいつもうまく行くとは限りません。グラフにグラフを重ねる場合などは、見せたくない方を紙で隠すことはできません。別々のスライ
ドをきっちり重なるように作るのは難しいものです。このような場合は 
\family sans
Overlay
\family default
環境を使うことで作業を簡単にすることができます。
\end_layout

\begin_layout Standard
各々の 
\family sans
Overlay
\family default
のページ番号はそれの親スライドのページ番号をもらい、それに -a、-bなどを続けます。もちろん、
\family sans
Slide
\family default
も 
\family sans
Overlay
\family default
もちゃんと1枚のスライドに収まるようになってなければなりません。
\family sans
Overlay
\family default
は 
\family sans
Slide
\family default
の一部であると考えた方がいいでしょう。実際、LyXでは 
\family sans
Overlay
\family default
のラベルを 
\family sans
Slide
\family default
のラベルよりも短くすることでこれを目に見える形で表しています。最後ですが、印刷した場合には親スライドと 
\family sans
Overlay
\family default
の4隅にマークがついているのがわかるでしょう。これは2枚のシートを重ねるのが便利なようについているのです。
\end_layout

\begin_layout Standard
2つのスライドを重ね合わせる場合の一番の問題は、2枚のスライドの内容の配置でしょう。どれだけのスペースを2番目のスライドの図のために残しておくべきか、1枚目のス
ライドの段落が2枚目のスライドの図とテキストの間に入るようにはどのようにしたらいいかという問題です。これを解決するいい方法が 
\family sans
InvisibleText
\family default
と 
\family sans
VisibleText
\family default
を使うことです。
\end_layout

\begin_layout Standard

\family sans
InvisibleText
\family default
と 
\family sans
VisibleText
\family default
 はコマンドのような段落環境で、その名前の通りそれに続くテキストを各々見えなくしたり、見えるようにします。セクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:slideQuirk"

\end_inset

で書いておいたように、この2つの環境の中には何も入れることができません。
\family sans
InvisibleText
\family default
を挿入すると、その位置に <Invisible Text Follows>と書いた青いラベルが行の真ん中に表示されます。このラベルに続く文章は、その文章分のスペ
ースは空くのですが何も印刷されません。これは 
\family sans
Slide
\family default
でも 
\family sans
Overlay
\family default
でも同じです。
\end_layout

\begin_layout Standard

\family sans
VisibleText
\family default
の場合は、挿入した位置に <Visible Text Follows>と書いた緑のラベルが行の中央にあらわれます。そして、このラベル以降の文章は普通に印刷されま
す。新しい 
\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
を始めると自動的に 
\family sans
InvisibleText
\family default
は終わります。そのために 
\family sans
Slide
\family default
の最後で次のスライド用に 
\family sans
VisibleText
\family default
を使う必要はありません。
\end_layout

\begin_layout Standard
これで 
\family sans
Slide
\family default
と 
\family sans
Overlay
\family default
の上で 
\family sans
InvisibleText
\family default
と 
\family sans
VisibleText
\family default
を使って重ね合わせることのできるシートを作る方法が分かったでしょう。
\end_layout

\begin_layout Enumerate
メインのスライド、重ね合わせるものに関わらず表示するものをすべて含んだスライドを作ります。
\end_layout

\begin_layout Enumerate

\family sans
Overlay
\family default
のみで表示される図、段落の前に 
\family sans
InvisibleText
\family default
環境を挿入し、
\family sans
Overlay
\family default
のみのものが終わったところに 
\family sans
VisibleText
\family default
環境を挿入します。
\end_layout

\begin_layout Enumerate

\family sans
Slide
\family default
のすぐ後から、
\family sans
Overlay
\family default
を始めます。
\end_layout

\begin_layout Enumerate
この 
\family sans
Slide
\family default
の中身を 
\family sans
Overlay
\family default
にコピーします。
\end_layout

\begin_layout Enumerate

\family sans
Overlay
\family default
の 
\family sans
InvisibleText
\family default
を 
\family sans
VisibleText
\family default
に入れ替え、
\family sans
VisibleText
\family default
を 
\family sans
InvisibleText
\family default
に入れ替えます。
\end_layout

\begin_layout Standard
これで出来上がりです。重ね合わせるシートができました。
\end_layout

\begin_layout Standard
ただし、LyXの 
\family sans
slides
\family default
クラスのデザインによる問題があります。段落の途中を見えなくしたり、見えない段落の途中だけを見えるようにしたりはできないのです。それをするためには、LaTeXコー
ドを文章に埋め込む必要があります
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
コマンドは
\end_layout

\begin_layout Itemize

\family typewriter
{
\backslash
invisible \SpecialChar \ldots{}
 }
\end_layout

\begin_layout Itemize

\family typewriter
{
\backslash
visible \SpecialChar \ldots{}
 }
\end_layout

\begin_layout Plain Layout
で TeXとしてマークする必要があります。見え方を変えたいテキストを括弧の中の（
\family typewriter

\backslash
invisible
\family default
または 
\family typewriter

\backslash
visible
\family default
コマンドの後ろへ）入れてください。TeXとしてマークする方法を知らない場合はユーザーの手引きを見てください。
\end_layout

\end_inset

。
\end_layout

\begin_layout Subsubsection

\family sans
Note
\family default
を 
\family sans
Slide
\family default
といっしょに使う
\begin_inset CommandInset label
LatexCommand label
name "sec:slideNote"

\end_inset


\end_layout

\begin_layout Standard

\family sans
Overlay
\family default
と同じように 
\family sans
Note
\family default
にも元になる親スライドがあります。
\family sans
Note
\family default
の見出しは 
\family sans
Slide
\family default
より短く、はでな赤紫色をしていてすぐに気が付くようになっています。そのうえ、印刷した 
\family sans
Note
\family default
には親スライドのページ番号に 
\begin_inset Quotes eld
\end_inset


\family typewriter
-
\family default
1
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset


\family typewriter
-
\family default
2
\begin_inset Quotes erd
\end_inset

, 
\begin_inset Quotes eld
\end_inset


\family typewriter
-
\family default
3
\begin_inset Quotes erd
\end_inset

等がくっついたページ番号がつきます。1つの 
\family sans
Slide
\family default
には 
\family sans
Slide
\family default
と 
\family sans
Overlay
\family default
のようにいくつものノートをつけることができます。これは長い説明をシートに収まるように分けるのに便利です。
\end_layout

\begin_layout Standard

\family sans
Note
\family default
の目的はその 
\family sans
Slide
\family default
について、話したいことを何でも書いておくことです。また、特定の 
\family sans
Slide
\family default
についてのメモとして使うこともできます。その場合はタイムマーカを使いたくなるかもしれません。今のところ、LyXの 
\family sans
slides
\family default
クラスは 
\noun on
Sli
\noun default
TeX の機能であるタイムマーカをサポートしていません。使いたい場合は LaTeXコードを書く必要があります。
\end_layout

\begin_layout Standard
タイムマーカを使うには、追加的なクラスオプション 
\family typewriter
clock
\family default
を設定する必要があります（セクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:slidesetup"

\end_inset

を見てください）。このオプションはタイムマーカ機能を起動して、すべての 
\family sans
Note
\family default
の左下にタイムマーカを印刷します。タイムマーカの記述には 
\family typewriter

\backslash
settime{}
\family default
と 
\family typewriter

\backslash
addtime{}
\family default
という LaTeXコマンドを使います。この2つのコマンドの引数は秒で計られた時間です。
\family typewriter

\backslash
settime{}
\family default
はタイムマーカを与えられた時間にセットします。
\family typewriter

\backslash
addtime{}
\family default
は指定された量だけタイムマーカを増やします。タイムマーカと 
\family sans
Note
\family default
sをこのように使うと、特定のスライドにどのくらいの時間を使うことができるのかを思い出すことができます。
\end_layout

\begin_layout Standard
最後に一つの機能の説明をしておきましょう。印刷するときは 
\family sans
Slide
\family default
sと 
\family sans
Overlay
\family default
sは OHPシートに、
\family sans
Note
\family default
sは普通の紙に印刷したいでしょう。しかし、
\family sans
Note
\family default
は親スライドのすぐ後に印刷されます。どうしたらいいのでしょう。
\end_layout

\begin_layout Standard
幸いなことに、印刷をコントロールする2つの LaTeXコマンドがあります。2つともプリアンブルに記述する必要があるコマンドです。
\family typewriter

\backslash
onlyslides{
\backslash
slides}
\family default
は 
\family sans
Slide
\family default
と 
\family sans
Overlay
\family default
のみを印刷します。そして 
\family typewriter

\backslash
onlynotes{
\backslash
notes}
\family default
は 
\family sans
Note
\family default
のみを印刷します。この2つのコマンドを両方ともプリアンブルに書いてコメントアウトしておくといいでしょう。最終的に印刷するときになってどちらかのコメントをはずせば
いいのです。私は 
\family typewriter

\backslash
onlyslides{
\backslash
slides}
\family default
のコメントをはずして *-slide.psという名前のファイルに出力し、それからまたコメントマークをつけて今度は 
\family typewriter

\backslash
onlynotes{
\backslash
notes
\family default
}の方のコメントをはずして 
\family typewriter
*-notes.ps
\family default
という名前のファイルに出力して、それらのファイルをプリンタに送るという方法を使っています。
\end_layout

\begin_layout Standard
これ以外にも別の引数を 
\family typewriter

\backslash
onlyslides{}
\family default
、
\family typewriter

\backslash
onlynotes{}
\family default
コマンドに与えることもできます。詳しくは何かいい LaTeXの本を見てください。
\end_layout

\begin_layout Subsection

\family sans
slides
\family default
クラスのテンプレートファイル
\end_layout

\begin_layout Standard

\family sans
slides
\family default
クラス用のテンプレートファイル 
\family typewriter
slides.lyx
\family default
が用意してあります。
\family sans
\bar under
F
\bar default
ile\SpecialChar \menuseparator
New
\begin_inset space ~
\end_inset

from
\begin_inset space ~
\end_inset


\bar under
T
\bar default
emplate
\family default
 から選んでください。このテンプレートは 
\family sans
Slide
\family default
、
\family sans
Overlay
\family default
、
\family sans
Note
\family default
の例になっています。また 
\family sans
Slide
\family default
と 
\family sans
Overlay
\family default
には、
\family sans
InvisibleText
\family default
と 
\family sans
VisibleText
\family default
の例も含まれています。そしてプリアンブルは次のようになっています。
\end_layout

\begin_layout LyX-Code
% Uncomment to print out only slides and overlays
\end_layout

\begin_layout LyX-Code
%
\end_layout

\begin_layout LyX-Code
%
\backslash
onlyslides{
\backslash
slides}
\begin_inset Newline newline
\end_inset

 
\end_layout

\begin_layout LyX-Code
% Uncomment to print out only notes
\end_layout

\begin_layout LyX-Code
%
\end_layout

\begin_layout LyX-Code
%
\backslash
onlynotes{
\backslash
notes}
\end_layout

\begin_layout Standard
最後に一言いっておくと、私は LaTeX2eの SLITeX emulationクラス（標準的な LaTeX2eクラスの一つです）をサポートするためにこのクラス
を作りました。他にもスライドの準備をする 
\family sans
Foils
\family default
（セクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:foiltex"

\end_inset

を見てください）や 
\family typewriter
seminar
\family default
（まだ LyXではサポートしていません
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
あなたがやってみませんか。
\end_layout

\end_inset

）などのLaTeX2eパッケージがあります。私はそれらを使ったことがないので分かりません。自分で試してみて、どのクラスを使うのかを決めてください。
\end_layout

\begin_layout Chapter
ソフトウェアを追加する必要がある LyX機能
\end_layout

\begin_layout Section
TeXチェック
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Asger Alstrup
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
chktex
\end_layout

\end_inset

プログラムが導入されていると
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
LaTeX頒布版としてMiKTeXを使用している場合には、
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
chktex
\end_layout

\end_inset

はまだ利用可能ではありません。
\end_layout

\end_inset

、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
ツール
\end_layout

\end_inset

メニューの下に、
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
TeX構文チェック
\end_layout

\end_inset


\family default
という項目が表示されます。
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout

\family typewriter
chktex
\end_layout

\end_inset

はCTAN
\begin_inset CommandInset href
LatexCommand href
target "http://www.ctan.org/tex-archive/help/Catalogue/entries/chktex.html"

\end_inset

から入手することができます。
\end_layout

\begin_layout Standard

\family sans
ChkTeX
\family default
パッケージは、LaTeXのいくつかの構成物が直感的でなく、すぐに忘れてしまうのに欲求不満を感じていた
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Jens T.
 Berger Thielemann
\end_layout

\end_inset

によって書かれたプログラムです。このプログラムはLaTeXファイルの上を走り、ファイルの整合性をチェックして、いくつかのよくあるエラーを見つけ出します。別の技術
的な言い方をすると、これはLaTeX用の
\family typewriter
Lint
\family default
です。
\end_layout

\begin_layout Standard
ところでLyXは正しいLaTeXファイルをつくるのに、なぜLaTeXの文法チェッカーがLyXに必要なのでしょう。それは
\family typewriter
Lint
\family default
がCプログラムの文法チェックをするだけでなくタイプエラーに対応するため意味もチェックするように、
\family sans
ChkTeX
\family default
は文法上のエラーだけでなく、よくある写植上のエラーも見つけてくれるからです。次の例を見てください。このようなエラーを見つけてくれます。
\end_layout

\begin_layout Itemize
省略記号の検出：
\begin_inset Newline newline
\end_inset

...のかわりに\SpecialChar \ldots{}
 を使ってください。
\end_layout

\begin_layout Itemize
括弧の前または後ろのスペースがない：
\begin_inset Newline newline
\end_inset

( wrong spacing )
\end_layout

\begin_layout Itemize
よくある省略形の後ろのスペースを正規のスペースにする：
\begin_inset Newline newline
\end_inset

e.
 g.
 is too wide spacing.
\end_layout

\begin_layout Itemize
文章が大文字で終わっているときに、文の終りのスペースに直す：
\begin_inset Newline newline
\end_inset

This is a TEST.
 And this is wrong spacing.
\end_layout

\begin_layout Itemize
ラベルやそれに似たコマンドの前のスペース：
\begin_inset Newline newline
\end_inset

ラベルとテキストの間にスペースがある場合、ラベルが別のページに行ってしまう可能性があります。 
\begin_inset CommandInset label
LatexCommand label
name "sec:chktex"

\end_inset


\begin_inset Foot
status collapsed

\begin_layout Plain Layout
この脚注は別のページに行く可能性があります。
\end_layout

\end_inset

そうなるとラベルと本文が離れすぎてしまいます。
\end_layout

\begin_layout Itemize
レファレンスの前にハードスペースのかわりにスペース：
\begin_inset Newline newline
\end_inset

運が悪ければ、レファレンスされたテキストとレファレンス番号の間で行が変わります。セクション 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:chktex"

\end_inset

を見てください。
\end_layout

\begin_layout Itemize
掛け算に 
\begin_inset Formula $\times$
\end_inset

のかわりに xが使われている：
\begin_inset Newline newline
\end_inset

2x2は 
\begin_inset Formula $2\times2$
\end_inset

より安っぽく見えるでしょう。
\end_layout

\begin_layout Standard
これ以外にも色々な間違いを探してくれます。文章を仕上げるのに非常に価値のあるツールです。スペルチェックが終わって、文章の微調整をする前にはかならず使った方がいい
でしょう。
\end_layout

\begin_layout Subsection
使いかた
\end_layout

\begin_layout Standard
プログラムをインストールしたら、
\family sans
ツール\SpecialChar \menuseparator
TeX構文チェック
\family default
を選ぶだけです。そうすると書いている文章のLaTeXファイルが生成され、
\family sans
ChkTeX
\family default
がそのLaTeXファイルをチェックします。
\family sans
ChkTeX
\family default
からの警告があった場合は、エラーボックスが LyXの文章中に挿入されます。エラーボックスは間違いのある場所の近くに挿入され、メニューアイテムの
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
移動\SpecialChar \menuseparator
エラー
\end_layout

\end_inset

、または既定の
\family typewriter
cua
\family default
バインドファイルを使っている場合は
\family sans
C-g
\family default
で簡単にエラーの場所を見つけることができます。エラーボックスを開けるにはマウスでクリックするか、
\family typewriter
cua
\family default
バインドの場合は
\family sans
C-i
\family default
、
\family typewriter
emacs
\family default
バインドの場合は
\family sans
C-o
\family default
のショートカットキーを使います。警告を読んで、間違いを直してください。警告の意味が分からない場合は無視しても大丈夫です。画面上の文章と
\family sans
ChkTeX
\family default
が扱う文章の間にギャップがあるために変な警告がでる場合があるのです。
\end_layout

\begin_layout Standard
この文章自体が
\family sans
ChkTeX
\family default
の機能を確かめるよい材料になります。
\family sans
ChkTeX
\family default
をこの文章に走らせてみると、些細なことで多くの警告がでるのがわかるでしょう。しかし、これはコンピュータが敏感すぎるだけで、ほとんどが気にすることはない誤警報です
。
\end_layout

\begin_layout Subsection
微調整のしかた
\end_layout

\begin_layout Standard
しばしば、
\family sans
ChkTeX
\family default
は無駄な警告を出しすぎると感じることがあります。そういう場合は
\family sans
ChkTeX
\family default
が出す警告の種類を調整することができます。またひどい状況の場合の別の選択は、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar \menuseparator
すべてのエラーボックスを削除
\end_layout

\end_inset

を使ってすべての警告を消してしまうことです。
\end_layout

\begin_layout Standard

\family sans
ChkTeX
\family default
は非常に多くの面を調整できるのですが、それですべての問題が解決するとは思わないでください。LyXは
\family sans
ChkTeX
\family default
の出力
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\family sans
ChkTeX
\family default
の出力は 
\family sans
ChkTeX
\family default
を走らせたすぐ後で 
\family sans
Edit\SpecialChar \menuseparator
View
\begin_inset space ~
\end_inset

LaTeX
\begin_inset space ~
\end_inset

Log
\family default
を使えば見ることができます。
\end_layout

\end_inset

から内部の構造と一致する行番号を得ることができるようなある種の特別なLaTeXファイルを生成するのですが、それでもいくつかの警告は正しい位置にあらわれません。こ
れを解消するには2つの方法があります。
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
設定
\end_layout

\end_inset

（
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
出力\SpecialChar \menuseparator
LaTeX
\end_layout

\end_inset

タブ）の
\family sans
ChkTeX
\family default
を起動するコマンドラインを調整するか、グローバルな
\family sans
ChkTeX
\family default
の設定ファイル（通常は
\begin_inset Flex CharStyle:Code
status collapsed

\begin_layout Plain Layout
/usr/local/share/chktexrc
\end_layout

\end_inset

です）を調整します。どの警告がコマンドラインから有効、無効にできるかは以下の節を見てください。
\end_layout

\begin_layout Itemize
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ファイル\SpecialChar \menuseparator
エクスポート\SpecialChar \menuseparator
LaTeX
\end_layout

\end_inset

を使って文章をLaTeXファイルに変換して、それに
\family typewriter
chktex
\family default
を走らせます。この方法では警告に対応する場所を LyXの画面上で見つけるのがすこし面倒ですが、可能でしょう。
\end_layout

\begin_layout Standard

\family sans
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
設定
\end_layout

\end_inset


\family default
で警告を有効、無効にするやり方を説明しましょう。メッセージを無効にするには、
\family typewriter
-n#
\family default
を使い、有効にするには
\family typewriter
-w#
\family default
を使ってください。以下でイタリックで書いてあるメッセージは既定で無効になっています。既定の設定は "
\family typewriter
chktex -n1 -n3 -n6 -n9 -n22 -n25 -n30 -n38
\family default
"です。
\end_layout

\begin_layout Standard
メッセージを有効、無効にする以外の
\family typewriter
chktex
\family default
のオプションを使わないでください。LyXがそれ以外のいくつかのコマンドラインパラメータを特定の方法で使って 
\family typewriter
chktex
\family default
と通信しているからです。
\end_layout

\begin_layout Enumerate

\size small
\emph on
Command terminated with space.
\end_layout

\begin_layout Enumerate

\size small
Non-breaking space (
\begin_inset Quotes eld
\end_inset


\family typewriter
~
\family default

\begin_inset Quotes erd
\end_inset

) should have been used.
\end_layout

\begin_layout Enumerate

\size small
\emph on
You should enclose the previous parenthesis with 
\begin_inset Quotes eld
\end_inset


\family typewriter
{}
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
Italic correction (
\begin_inset Quotes eld
\end_inset


\family typewriter

\backslash
/
\family default

\begin_inset Quotes erd
\end_inset

) found in non-italic buffer.
\end_layout

\begin_layout Enumerate

\size small
Italic correction (
\begin_inset Quotes eld
\end_inset


\family typewriter

\backslash
/
\family default

\begin_inset Quotes erd
\end_inset

) found more than once.
\end_layout

\begin_layout Enumerate

\size small
\emph on
No italic correction (
\begin_inset Quotes eld
\end_inset


\family typewriter

\backslash
/
\family default

\begin_inset Quotes erd
\end_inset

) found.
\end_layout

\begin_layout Enumerate

\size small
Accent command 
\begin_inset Quotes eld
\end_inset


\family typewriter
cmd
\family default

\begin_inset Quotes erd
\end_inset

 needs use of 
\begin_inset Quotes eld
\end_inset


\family typewriter
cmd
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
Wrong length of dash may have been used.
\end_layout

\begin_layout Enumerate

\size small
\emph on
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

 expected, found 
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
Solo 
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

 found.
\end_layout

\begin_layout Enumerate

\size small
You should use 
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

 to achieve an ellipsis.
\end_layout

\begin_layout Enumerate

\size small
Inter-word spacing (
\begin_inset Quotes eld
\end_inset


\family typewriter

\backslash

\family default
 
\begin_inset Quotes eld
\end_inset

) should perhaps be used.
\end_layout

\begin_layout Enumerate

\size small
Inter-sentence spacing (
\begin_inset Quotes eld
\end_inset


\family typewriter

\backslash
@
\family default

\begin_inset Quotes erd
\end_inset

) should perhaps be used.
\end_layout

\begin_layout Enumerate

\size small
Could not find argument for command.
\end_layout

\begin_layout Enumerate

\size small
No match found for 
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
Math mode still on at end of LaTeX file.
\end_layout

\begin_layout Enumerate

\size small
Number of 
\begin_inset Quotes eld
\end_inset


\family typewriter
char
\family default

\begin_inset Quotes erd
\end_inset

 doesn't match the number of 
\begin_inset Quotes eld
\end_inset


\family typewriter
char
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
You should use either 
\family typewriter

\begin_inset Quotes eld
\end_inset


\family default
 or 
\family typewriter

\begin_inset Quotes erd
\end_inset


\family default
 as an alternative to 
\begin_inset Quotes eld
\end_inset


\family typewriter
"
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
You should use "
\family typewriter
'
\family default
" (ASCII 39) instead of "" (ASCII 180).
\end_layout

\begin_layout Enumerate

\size small
User-specified pattern found.
\end_layout

\begin_layout Enumerate

\size small
This command might not be intended.
\end_layout

\begin_layout Enumerate

\size small
\emph on
Comment displayed.
\end_layout

\begin_layout Enumerate

\size small
Either 
\family typewriter
''
\backslash
,'
\family default
 or 
\family typewriter
'
\backslash
,''
\family default
 will look better.
\end_layout

\begin_layout Enumerate

\size small
Delete this space to maintain correct page references.
\end_layout

\begin_layout Enumerate

\size small
\emph on
You might wish to put this between a pair of 
\begin_inset Quotes eld
\end_inset


\family typewriter
{}
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Enumerate

\size small
You ought to remove spaces in front of punctuation.
\end_layout

\begin_layout Enumerate

\size small
Could not execute LaTeX command.
\end_layout

\begin_layout Enumerate

\size small
Don't use 
\family typewriter

\backslash
/
\family default
 in front of small punctuation.
\end_layout

\begin_layout Enumerate

\family typewriter
\size small
$
\backslash
times$
\family default
 may look prettier here.
\end_layout

\begin_layout Enumerate

\size small
\emph on
Multiple spaces detected in output.
\end_layout

\begin_layout Enumerate

\size small
This text may be ignored.
\end_layout

\begin_layout Enumerate

\size small
Use 
\family typewriter

\begin_inset Quotes eld
\end_inset


\family default
 to begin quotation, not 
\family typewriter
'
\family default
.
\end_layout

\begin_layout Enumerate

\size small
Use 
\family typewriter
'
\family default
 to end quotation, not 
\family typewriter

\begin_inset Quotes eld
\end_inset


\family default
.
\end_layout

\begin_layout Enumerate

\size small
Don't mix quotes.
\end_layout

\begin_layout Enumerate

\size small
You should perhaps use 
\begin_inset Quotes eld
\end_inset


\family typewriter
cmd
\family default

\begin_inset Quotes erd
\end_inset

 instead.
\end_layout

\begin_layout Enumerate

\size small
You should put a space in front of/after parenthesis.
\end_layout

\begin_layout Enumerate

\size small
You should avoid spaces in front of/after parenthesis.
\end_layout

\begin_layout Enumerate

\size small
\emph on
You should not use punctuation in front of/after quotes.
\end_layout

\begin_layout Enumerate

\size small
Double space found.
\end_layout

\begin_layout Enumerate

\size small
You should put punctuation outside inner/inside display math mode.
\end_layout

\begin_layout Enumerate

\size small
You ought to not use primitive TeX in LaTeX code.
\end_layout

\begin_layout Enumerate

\size small
You should remove spaces in front of 
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset


\end_layout

\begin_layout Enumerate

\size small
\begin_inset Quotes eld
\end_inset


\family typewriter
%s
\family default

\begin_inset Quotes erd
\end_inset

 is normally not followed by 
\begin_inset Quotes eld
\end_inset


\family typewriter
%c
\family default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
将来的にはLyXにこのツール（それとよく似たツール
\family typewriter
lacheck
\family default
）のためのより使いやすいインターフェイスを用意できればと考えています。しかし今の状態でもまったく役に立たないということはないでしょう。ある程度の長さの文章に使っ
てみてください。きっとびっくりしますよ。
\end_layout

\begin_layout Section
LyXでのバージョン管理
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Lars Bullik Bjønnes
\end_layout

\end_inset

文　
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Pavel Sanda
\end_layout

\end_inset

改訂
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
私の友人がLyXをグループプロジェクトに使おうとしましたが、LyXがバージョン管理またはファイルロック機能を持っていないためにLyXを使うのをあきらめました。こ
れが私がLyXでRCS（将来的にはCVSやSCCSも）をサポートしようと考えた理由です。LyXは今ではもっとも基本的なRCSコマンドをサポートしています。もしあ
なたがより複雑なことをしたい場合はxterm上で自分で行う必要があります。
\end_layout

\begin_layout Standard
LyXのバージョン管理機能を使う前にrcsintro（manファイルです。
\family typewriter
man rcsintro
\family default
で読めます）を読んでください。このファイルには基本的なRCSの機能のすべてが説明してあります。特にRCSディレクトリに関するコメントと、マスターRCSファイル（
\family typewriter
,v
\family default
 で終わっているファイルです）の概念に気をつけてください。
\end_layout

\begin_layout Standard
LyXの実装にあたってはGNU RCSパッケージの最新のバージョンを使うことを想定しています。古いバージョンを使っている場合は動くかどうか保証できません。
\end_layout

\begin_layout Subsection
LyXでのRCSコマンド
\end_layout

\begin_layout Standard
以下の節ではLyXでサポートされているRCSコマンドを説明します。それらのコマンドは
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ファイル\SpecialChar \menuseparator
バージョン管理
\end_layout

\end_inset

の下位メニューにあります。
\end_layout

\begin_layout Subsubsection

\family sans
登録
\end_layout

\begin_layout Standard
あなたの書いている文章がバージョン管理の下にないならば、これがメニューにあらわれる唯一の項目です。もし文章がバージョン管理の下にあるならば、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
登録
\end_layout

\end_inset

は灰色になって使えなくなっています。
\end_layout

\begin_layout Standard
このコマンドはあなたの文章をRCSに登録します。このコマンドを実行すると対話的にその文章の最初の説明を入れるように頼んできます。そしてその文章はRead-Onl
yモードになり、変更を加えるためには
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
チェックアウトして編集
\end_layout

\end_inset

を実行する必要があります。バージョン管理の管理下にある文章はミニバッファのファイル名の後ろに [RCS:<version> <locker>]が付きます。
\end_layout

\begin_layout Standard
このコマンドは次のRCSコマンドを実行します：
\family typewriter
ci -q -u -i -t-"<initial description>" <file-name>
\end_layout

\begin_layout Standard
スイッチについて知りたければ 
\family typewriter
man ci
\family default
を読んでください。
\end_layout

\begin_layout Subsubsection

\family sans
変更をチェックインする
\end_layout

\begin_layout Standard
ファイルの編集が終わると、その変更をチェックインします。これを実行すると変更についての説明を求められ、それは履歴ログに記録されます。そしてバージョンナンバーは上
がり、変更がマスターRCSファイルに反映され、その文章はアンロックされ Read-Onlyモードになります。
\end_layout

\begin_layout Standard
RCS command: 
\family typewriter
ci -q -u -m"<description>" <file-name>
\end_layout

\begin_layout Subsubsection

\family sans
チェックアウトして編集
\end_layout

\begin_layout Standard
このコマンドは文章をロックして編集できるようにします。そして文章をあなただけが読み書きできるようにします。しばらく文章を編集して、それが終わったらチェックインし
てください。文章がロックされるとステータスラインが変わります。
\end_layout

\begin_layout Standard
RCS command: 
\family typewriter
co -q -l <file-name>
\end_layout

\begin_layout Subsubsection

\family sans
保存されたバージョンに戻す
\end_layout

\begin_layout Standard
このコマンドは最後のチェックイン以降のすべての変更を破棄します。変更を破棄する前には警告がでます。
\end_layout

\begin_layout Standard
RCS command: 
\family typewriter
co -f -u<version> <file-name>
\end_layout

\begin_layout Subsubsection

\family sans
最後のチェックインを取り消す
\end_layout

\begin_layout Standard
これは最後のチェックインがなされなかったようにします。LyXに読み込まれる文章は変わりませんが、マスターRCSファイルから最後のチェックインの変更が取り除かれま
す。
\end_layout

\begin_layout Standard
RCS command: 
\family typewriter
rcs -o<version> <file-name>
\end_layout

\begin_layout Subsubsection

\family sans
履歴を表示
\end_layout

\begin_layout Standard
RCSドキュメントの完全なヒストリーが表示されます。これは 
\family typewriter
rlog <file-name>
\family default
の出力を表示しています。詳しくは 
\family typewriter
rlog
\family default
の manページを見てください。
\end_layout

\begin_layout Section
文芸的プログラミング（Literate Programming）
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Kayvan Sylvan
\end_layout

\end_inset

（kayvan@sylvan.com）改訂　
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Edmar Wienskoski Jr.
\end_layout

\end_inset

（edmar-w-jr@technologist.com）原文
\end_layout

\begin_layout Subsection
はじめに
\end_layout

\begin_layout Standard
この節の目的は、どのようにLyXを文芸的プログラミング（literate programming）に使うかを説明することです。ここではあなたがこのプログラミング
テクニックを使っていて、tanglingやweavingが何を意味するかを知っているものとして説明します。知らない場合は以下の節にあるウェブリンクをたどってくだ
さい。古い開発の歴史から、最新のツールに関するものまで様々な文章があります。
\end_layout

\begin_layout Standard
またあなたがLyXにもなれていて、
\family typewriter
LyXの設定や
\family default
Xリソースファイルを書き換えることができることも前提にしています。そうでない場合はLyXの他の取扱説明書で調べてください。
\end_layout

\begin_layout Subsection
文芸的プログラミング
\end_layout

\begin_layout Standard
文芸的プログラミング FAQからの抜粋です。
\end_layout

\begin_layout Quotation
文芸的プログラミングは、人間が読むのに適した形でのドキュメントとソースの組合わせです。実際、文芸的プログラムは楽しい読み物でなければならず、またそうするように勧
められています。一般に文芸的プログラムでは、同じファイルの中でドキュメントとソースが結合しています。そして文芸的プログラム用のツールが、そのファイルを読むことの
できるドキュメントとコンパイルできるソースをつくるように解析します。文芸的プログラミングの WEBスタイルは D.E.
 Knuthが彼の TeXタイプセットソフトウエアを開発中に作ったものです。
\end_layout

\begin_layout Standard
他のエキスパートがいうには、
\end_layout

\begin_layout Quotation
文芸的プログラミングはコメントを多くするのとどう違うのでしょう?
\end_layout

\begin_layout Quotation
3つの際立った違いがあります。重要な順にあげていくと、
\end_layout

\begin_deeper
\begin_layout Itemize
推敲の順序が柔軟
\end_layout

\begin_layout Itemize
自動的なブラウズのサポート
\end_layout

\begin_layout Itemize
ドキュメントのタイプセット、特に図と数式
\end_layout

\end_deeper
\begin_layout Standard
興味がわいてきたでしょう。次の節に進みましょう。
\end_layout

\begin_layout Subsubsection
参考文献
\end_layout

\begin_layout Standard
完全な文芸的プログラミング FAQは
\end_layout

\begin_layout Quote
Literate Programming FAQ 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://shelob.ce.ttu.edu/daves/lpfaq/faq.html
\end_layout

\end_inset


\end_layout

\begin_layout Standard
にあります。
\end_layout

\begin_layout Standard
このFAQには23（二十三です）の異なった文芸的プログラミング用のツールがのっています。いくつかのツールはあるプログラミング言語に特化したものですが、一般的に使
えるものもあります。私はいくつかの理由からNOWEBを選びました。
\end_layout

\begin_layout Itemize
ドキュメントを LaTeXと htmlで出力できる。
\end_layout

\begin_layout Itemize
開放的な構造を持っている。つまり、新しいフィルタを加えたり、自分が必要な特別な処理を行える。
\end_layout

\begin_layout Itemize
すでに利用可能なよく選ばれたフィルタがある。（htmlはその一つです）。
\end_layout

\begin_layout Itemize
フリーである。
\end_layout

\begin_layout Standard
Nowebのウェブページは次のところです。
\end_layout

\begin_layout Quote
Noweb home page 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.cs.virginia.edu/~nr/noweb/
\end_layout

\end_inset


\end_layout

\begin_layout Standard
ここから色々な興味深いリンクが張られていて、またいくつかの文芸的プログラミングの例もあります。
\end_layout

\begin_layout Subsection
LyXと文芸的プログラミング
\end_layout

\begin_layout Standard
LyXは文芸的プログラミングをサポートするために、汎用のLyXのコンバータメカニズムを使っています。したがって、LyXのコンバータの設定を変えることによってNo
web以外の文芸プログラミングのツールを使うことができます。
\end_layout

\begin_layout Subsubsection
ドキュメントとコードの生成（weavingとtangling）
\end_layout

\begin_layout Paragraph
文書クラスの選択
\end_layout

\begin_layout Standard
NowebとLyXのインストールに成功すると次の3つの新しい文書クラスが利用できるようになります。
\end_layout

\begin_layout Itemize
Article (Noweb)
\end_layout

\begin_layout Itemize
Book (Noweb)
\end_layout

\begin_layout Itemize
Report (Noweb)
\end_layout

\begin_layout Standard
文芸的プログラムをつくる場合にはこの中から文書クラスを選んでください。
\end_layout

\begin_layout Standard
文芸的プログラムはこれらのクラスに限定されないことに注意してください。他のスタイル（例えばletter）から新しいクラスをつくることも、Article
 (AMS)等のクラスのバリエーションと組み合わせて作ることもできます。この3つのクラスでカバーできない特別なことがしたい場合には、LyXの開発者用のメーリング
リスト（lyx-devel@lists.lyx.org）に連絡してください。新しいエントリを加えるようにするか、どうすれば自分でできるかをお教えします
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
実に簡単です。4行入ったファイルをつくって、自動設定を走らせるだけです。
\end_layout

\end_inset

。またNoweb以外の文芸プログラム用のツールを使う場合も、新しい文書クラスをつくる必要があります。
\end_layout

\begin_layout Paragraph
コードの入力
\end_layout

\begin_layout Standard
LyXでコードを入力するにはSCRAP
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
Nowebでの名前はChunkです。歴史的な理由から、別の文芸プログラムツールNuwebで使われているscrapという名前を使っています。私がNowebに乗り換
える前に長年使っていたツールです。
\end_layout

\end_inset

環境を使ってください。Nowebは次のように scrapを区切ります。
\end_layout

\begin_layout LyX-Code
<<My scrap>>=
\end_layout

\begin_layout LyX-Code
  code
\end_layout

\begin_layout LyX-Code
  more code
\end_layout

\begin_layout LyX-Code
  even more code
\end_layout

\begin_layout LyX-Code
  @
\end_layout

\begin_layout Standard
問題は<<と@の間にあるものを完全にそのままの形で扱わなければならないことです。つまりLyXはこの間に書かれたものへのどんな変更も禁止しなくてははなりません。こ
れはScrapと呼ぶ特別なレイアウトで扱われます。この環境は通常の段落のようですが、自由に空白を入れることができます。
\end_layout

\begin_layout Standard
Scrap段落環境の欠点は、連続したコードの段落の間に空行がソースコードにも印刷したドキュメントにも入ることです。これを回避するためには、Scrap環境の中の改
行には(ctrl-return)を使ってください。上の例では次のようにします
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
印刷したバージョンを読んでいる場合にはこの例と上の例の違いが分かりません。
\end_layout

\end_inset

。
\end_layout

\begin_layout LyX-Code
<<My scrap>>=
\begin_inset Newline newline
\end_inset

  code
\begin_inset Newline newline
\end_inset

  more code
\begin_inset Newline newline
\end_inset

  even more code
\begin_inset Newline newline
\end_inset

  @
\end_layout

\begin_layout Standard
この環境はうまく働きます。不便な点は普通のリターンのかわりにctrl-returnを使わなければならないことです
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これは改善しなければならない点でしょう。
\end_layout

\end_inset

。
\end_layout

\begin_layout Standard
また、Scrapの中に Noweb の %def を使うことができます。これを使うことで Nowebのidentifierの相互参照に項目を加えることができます
。次の例を見てください。
\end_layout

\begin_layout LyX-Code
<<My scrap>>=
\begin_inset Newline newline
\end_inset

  def some_function(args):
\begin_inset Newline newline
\end_inset

    "This is the doc string for this function."
\begin_inset Newline newline
\end_inset

    print "My args: ", args
\end_layout

\begin_layout LyX-Code
@ %def some_function
\end_layout

\begin_layout Standard
これをどのように使って、その結果相互参照がどうなるかは
\emph on
LIBDIR/examples/listerrors.lyx
\emph default
の中の文芸pythonプログラムを見るとよくわかります。
\end_layout

\begin_layout Paragraph
ドキュメントの生成
\end_layout

\begin_layout Standard
新しい文章ファイルを正しい文書クラスでつくり、その中にコードとテキストも入れました。これをどうやって印刷したらいいのでしょう。簡単です。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar \menuseparator
DVI
\end_layout

\end_inset

等を選ぶだけです。普通の文章の場合と同じで、特別なことは必要ありません。
\end_layout

\begin_layout Standard
LyXの内部で何が起っているかを説明しておきましょう。
\end_layout

\begin_layout Enumerate
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar \menuseparator
DVI
\end_layout

\end_inset

が選ばれると、LaTeXファイルがつくられます。
\end_layout

\begin_deeper
\begin_layout Standard
ドキュメントが文芸プログラミング用のクラスであった場合には、拡張子に（
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
設定
\end_layout

\end_inset

パネルで設定した）文芸プログラム用のものがつけられます。それ以外は .texが拡張子に使われます。
\end_layout

\end_deeper
\begin_layout Enumerate
違いがファイル名だけなのに注意してください。LyXによる特別な処理は必要ありません。Scrap環境でコードを入力するのだけがポイントです。
\end_layout

\begin_layout Enumerate
ドキュメントが文芸プログラムクラスなら、LyXは内部の LyX から Noweb のコンバータを使い、それからNowebからLaTeXのコンバータ
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
これらのコンバータは、
\family sans
\bar under
E
\bar default
dit\SpecialChar \menuseparator

\bar under
P
\bar default
references
\family default
 パネルの Conversion タブで設定できます。
\end_layout

\end_inset

を使って LaTeX ファイルを生成します。
\end_layout

\begin_deeper
\begin_layout Standard
それ以外の場合はこのステップを飛ばします。
\end_layout

\end_deeper
\begin_layout Enumerate
最後にLaTeXが実行され、普通の文章と同じ後処理が行われます。
\end_layout

\begin_layout Standard
様々なコンバータから走らせるコマンドを変えることによって、特定の文芸プログラム用のソフトウエアにしばられないようになっています。
\end_layout

\begin_layout Paragraph
コードの生成
\end_layout

\begin_layout Standard
ビルドメニューが選ばれた場合や、それに対応するツールバーのボタンが押された場合、上のステップ1と同様にLaTeXファイルが生成されます。それからLyXは
\family typewriter
Noweb->Program
\family default
のコンバータを起動します。通常は、このコンバータは（他のコンバータと同じように）2つの部分からできています。
\end_layout

\begin_layout Enumerate
コンバータプログラム。このプログラムは、一つのフォーマットから他のフォーマットへの変換を行います（この場合は、Nowebフォーマットからプログラムの疑似フォーマ
ットへ変換します）。
\end_layout

\begin_layout Enumerate
エラーログパーサー。これはエラーメッセージをLyXが理解できる形へ書き直します。これによって、LyXはファイルバッファの正しい位置へエラーボックスを配置すること
ができます。
\end_layout

\begin_layout Standard
はじめのパートのために、「変換子」設定で、
\begin_inset Quotes eld
\end_inset


\family typewriter
build-script$$i
\family default

\begin_inset Quotes erd
\end_inset

と指定します。これは基本的に、LyXが
\family typewriter
build-script
\family default
（プログラムかスクリプト名）を（一般にはLyXの一時ファイル用のディレクトリにつくられる）Nowebファイルの名前とともに起動することを意味しています。
\end_layout

\begin_layout Standard
以下にbuild-scriptの一例を書いておきます。パスが通っているディレクトリに置いて使います。
\end_layout

\begin_layout LyX-Code
#!/bin/sh
\end_layout

\begin_layout LyX-Code
#
\end_layout

\begin_layout LyX-Code
notangle -Rbuild-script $1 | env NOWEB_SOURCE=$1 sh
\end_layout

\begin_layout Standard
コンバータの設定の次の部分はFlagsです。これを
\begin_inset Quotes eld
\end_inset


\family typewriter
originaldir,parselog=listerrors
\family default

\begin_inset Quotes erd
\end_inset

と指定してください。これで、
\family typewriter
build-script
\family default
が出すすべてのエラーを listerrors プログラムに渡します。
\end_layout

\begin_layout Standard
コンバータコードがlisterrorsプログラムを探す順序は、はじめに
\emph on
MYLYXDIR/scripts
\emph default
、次に
\emph on
LIBDIR/scripts
\emph default
、最後にパスです。
\end_layout

\begin_layout Paragraph
文章中でのプログラムの構築操作の説明
\end_layout

\begin_layout Standard
LyXとNowebの統合の最後の部分は、
\begin_inset Quotes eld
\end_inset

build-script
\begin_inset Quotes erd
\end_inset

 scrapです。一般に、あなたのプログラムの構築操作の説明それ自身をscrapに入れて文章中に含めなければなりません。上の例のnoweb用のbuild-scr
iptでは、scrapを見つけるのにnotangleコマンドを使い、shを使って起動します。
\end_layout

\begin_layout Standard
以下に典型的なscrapがどのようなものかを書いておきます。
\end_layout

\begin_layout LyX-Code
<<build-script>>=
\begin_inset Newline newline
\end_inset

#!/bin/sh
\begin_inset Newline newline
\end_inset


\begin_inset Newline newline
\end_inset

if [ -z "${NOWEB_SOURCE}" ]
\begin_inset Newline newline
\end_inset

then
\begin_inset Newline newline
\end_inset

  NOWEB_SOURCE=myfile.nw
\begin_inset Newline newline
\end_inset

fi
\begin_inset Newline newline
\end_inset

[...
 code to extract files ...]
\begin_inset Newline newline
\end_inset

[...
 code to compile files ...]
\begin_inset Newline newline
\end_inset

@
\end_layout

\begin_layout Standard

\emph on
LIBDIR/examples/listerrors.lyx
\emph default
と
\emph on
LIBDIR/examples/Literate.lyx
\emph default
を見てください。この2つのファイルには異なる実装のlisterrorsプログラムが含まれていて、これまで説明してきた各々の部分が全体としてどのようになるかをわか
ってもらうための例です。また、
\emph on
LIBDIR/examples/noweb2lyx.lyx
\emph default
も見てください。面白いことに、これらの3つのファイルは、Python、C、Perlが各々使われていて、LyXの文芸プログラミングのサポートがプログラム言語に依存
しないことを示しています。
\end_layout

\begin_layout Subsubsection
LyXの設定
\end_layout

\begin_layout Standard
すべての文芸プログラムのための設定は、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar \menuseparator
設定
\end_layout

\end_inset

パネルの「変換子」タブですることができます。重要な部分を見ておきましょう。
\end_layout

\begin_layout Description
the
\begin_inset space ~
\end_inset


\begin_inset Quotes eld
\end_inset

literate
\begin_inset Quotes erd
\end_inset


\begin_inset space ~
\end_inset

format 書式タブで設定します。ここで、Noweb特有の設定を行います。
\family sans
GUI名
\family default
を
\family typewriter
NoWeb
\family default
に、拡張子を
\family typewriter
.nw
\family default
に設定してください。これによって、LyXに変換プロセスの第一段階でつくられるファイルに
\family typewriter
.nw
\family default
という拡張子をつけることを指示します。
\end_layout

\begin_layout Description
the
\begin_inset space ~
\end_inset


\family sans
Program
\family default

\begin_inset space ~
\end_inset

format これは空にしてください。この項目のただひとつの目的は変換の最終的なフォーマットを指定することです（これが設定されていると、このフォーマットからの変
換を行えます）。
\end_layout

\begin_layout Description

\family sans
NoWeb
\family default
->
\family sans
LaTeX
\family default
 このコンバータは、weavingの段階を行います。Nowebの場合は、
\begin_inset Quotes eld
\end_inset


\family typewriter
noweave -delay -index $$i > $$o
\family default

\begin_inset Quotes erd
\end_inset

に設定してください。
\end_layout

\begin_layout Description

\family sans
NoWeb
\family default
->
\family sans
Program
\family default
 これは、tanglingを行います。以前に説明したように、
\family typewriter
build-script $$i
\family default
 と設定して、 Flags に 
\begin_inset Quotes eld
\end_inset


\family typewriter
originaldir,parselog=listerrors
\family default

\begin_inset Quotes erd
\end_inset

 を入れてください。
\end_layout

\begin_layout Subsubsection
デバッグ機能の拡張
\end_layout

\begin_layout Standard
ddd/gdbまたは他のデバッガで使えるserver-goto-file-rowという関数が新たにLyXサーバに実装されました。
\end_layout

\begin_layout Standard
ddd/gdbでデバッグしているとき、一つのキーストロークで現在実行している位置でテキストエディタを起動できます。既定のdddの設定ではShift-Ctrl-V
になっています。この設定はdddで
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
ツール\SpecialChar \menuseparator
設定\SpecialChar \menuseparator
ファイル書式
\end_layout

\end_inset

ウインドウを表示して、
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
編集プログラム
\end_layout

\end_inset

エントリを変えると変えることができます。
\end_layout

\begin_layout Standard
新しいLyXサーバの関数と、このdddの機能を使うために
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
編集プログラム
\end_layout

\end_inset

を次のように設定してください。
\end_layout

\begin_layout LyX-Code
echo "LYXCMD:monitor:server-goto-file-row:@FILE@ @LINE@" >~/.lyxpipe.in
\end_layout

\begin_layout Standard
こうしておくとdddを使っていてプログラムの編集したい場所があったとき、（dddのウインドウで）Shift-Ctrl-Vを押すだけでdddはLyXサーバに情報を
送り、LyXは同じファイルを表示し、カーソルはdddが示した場所へあらわれます。これでもうデバッグの最中に推測しながらスクロールして場所を探す必要がなくなります
。
\end_layout

\begin_layout Standard
この機能が動くにはLyXサーバが利用可能でなければなりません（既定ではLyXサーバーは使えないようになっています）。LyXサーバを使えるようにするには、
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
設定
\end_layout

\end_inset


\family default
（
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
パス
\end_layout

\end_inset


\family default
タブ）の
\family sans

\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout

\family sans
LyXサーバーパイプ
\family default
に
\end_layout

\end_inset


\family default

\begin_inset Quotes eld
\end_inset


\family typewriter
/home/<your-home-directory>/.lyx/lyxpipe
\family default

\begin_inset Quotes erd
\end_inset

 のようにパスを指定してください。
\end_layout

\begin_layout Standard
詳しくは『
\emph on
取扱説明書カスタマイズ篇
\emph default
』のLyXサーバの説明を読んでください。
\end_layout

\begin_layout Subsubsection
ツールバーの拡張
\end_layout

\begin_layout Standard
ツールバーに加えることのできる6つの新しいボタンがあります。そのうちの5つのボタンは段落環境へのショートカットです。
\family sans
Standard
\family default
、
\family sans
Section
\family default
、
\family sans
LaTeX
\family default
、
\family sans
LyX-Code
\family default
、
\family sans
Scrap
\family default
環境用のボタンを用意しています。最後の一つはファイルメニューの Build Programエントリへのショートカットです。
\end_layout

\begin_layout Standard
LyXはツールバーで使うためのいくつものボタンを用意しています。私のツールバーはこの6つのショートカットに
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar \menuseparator
更新\SpecialChar \menuseparator
DVI
\end_layout

\end_inset

と
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
表示\SpecialChar \menuseparator
DVI
\end_layout

\end_inset

を組み合わせたものになっています。
\end_layout

\begin_layout LyX-Code
Toolbar
\end_layout

\begin_layout LyX-Code
  Layouts
\end_layout

\begin_layout LyX-Code
  Icon "layout Standard"
\end_layout

\begin_layout LyX-Code
  Icon "layout Section"
\end_layout

\begin_layout LyX-Code
  Icon "layout LaTeX"
\end_layout

\begin_layout LyX-Code
  Icon "layout LyX-Code"
\end_layout

\begin_layout LyX-Code
  Icon "layout Scrap"
\end_layout

\begin_layout LyX-Code
  Separator
\end_layout

\begin_layout LyX-Code
  Icon "buffer-view"
\end_layout

\begin_layout LyX-Code
  Icon "buffer-typeset"
\end_layout

\begin_layout LyX-Code
  Icon "build-program"
\end_layout

\begin_layout LyX-Code
  Separator
\end_layout

\begin_layout LyX-Code
.
\end_layout

\begin_layout LyX-Code
.
\end_layout

\begin_layout LyX-Code
.
\end_layout

\begin_layout LyX-Code
End
\end_layout

\begin_layout Subsubsection
色を変える
\end_layout

\begin_layout Standard
LyXではいくつもの色を
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
設定
\end_layout

\end_inset

で変えることができます。まず変えたいと思うのはLaTeXフォントカラーでしょう。既定では赤になっていますが、ScrapはLaTeXフォントを使い、文芸的プログラ
ミングでは多くのScrapがあるためにそれらがすべて赤では疲れてしまいます。
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
操作性\SpecialChar \menuseparator
色
\end_layout

\end_inset

タブでこの色を変えることができます。
\end_layout

\begin_layout Standard
次にすることは画面の改行文字を見えなくすることです。改行文字の色を背景の色と同じにすることで改行文字を見えなくできます。私は改行文字を背景の色に似ているが少し違
う色にすることを勧めます。こうすると、改行文字があるのはわかりますが、じゃまにならないでしょう。
\end_layout

\begin_layout Chapter
LaTeXの達人の秘密
\begin_inset CommandInset label
LatexCommand label
name "cha:secrets"

\end_inset


\end_layout

\begin_layout Standard
LyXは強力な道具ですが、TeX/LaTeXでできることをすべてサポートしているわけではありません。しかし、ツールバーのTeXボタンを押したり、LaTeXプリア
ンブルに追加するのをためらわなければ、多くのTeXやLaTeXのトリックを使うことができます。この節ではそのようなトリック、ヒント、アイデアを紹介します。まず家
で、あまり重要でない文章で試してください。自分の博士論文でまず試そうとは考えない方がいいでしょう。
\end_layout

\begin_layout Standard
この節で紹介するものの多くは、通常のLaTeXディストリビューションにはあまり入っていないファイルを使います。teTeXを使っている場合には、ほとんどのファイル
は含まれていますが、それでもいくつかは近くのCTANアーカイブからダウンロードする必要があります。しばしば、同じことをするのにいくつもの方法があったり、同じこと
をするいくつものLaTeXファイルがあります。ここで紹介しているのは、いくつもの方法を比べてその中で我々が推薦するものではなく、単にあることをある特定のファイル
でできるということの紹介です。
\end_layout

\begin_layout Section
多段組み
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Lars Gullik Bjønnes
\end_layout

\end_inset

文
\end_layout

\begin_layout Subsection
目的
\end_layout

\begin_layout Standard
この章
\begin_inset Foot
status collapsed

\begin_layout Plain Layout
編集者註：もともとの章は
\family typewriter
multicol
\family default
パッケージの使い方を説明した見事な章でした。ただし、この取扱説明書にそのまま載せるには長すぎました。そのために重要な節のみを選んであります。もとの章（ほとんど物
語です）は
\family typewriter
examples/multicol.lyx
\family default
にあります。
\end_layout

\end_inset

の目的は、LyXの文章でどのようにLaTeXパッケージ
\family typewriter
multicol
\family default
を使うことができるのかを説明することです。LyXは
\family typewriter
multicol
\family default
パッケージをサポートしていないので、ちょっとしたトリックが必要です。この節を読むとどのようなトリックか明らかになるはずです。
\end_layout

\begin_layout Subsection
制限事項
\end_layout

\begin_layout Standard

\family typewriter
multicol
\family default
パッケージでは同じページ内で一段組みと多段組みを切り替えることができます。脚注も（ほとんどの場合）正しく扱われますが、カラムの下ではなくページの下におかれます。
しかし、LaTeXのフロートメカニズムは現在の実装では部分的に使うことができなくなっています。今のところこの環境の範囲では、ページ幅のフロートしか使えません。
\end_layout

\begin_layout Subsection
例
\end_layout

\begin_layout Subsubsection
二段組み
\end_layout

\begin_layout Standard
二段組みを使いたい場合には、二段組みのレイアウトを始めたい場所にLaTeXモードで
\family typewriter

\backslash
begin{multicols}{2}
\family default
を挿入してください。そして二段組みを終わりたい場所に
\family typewriter

\backslash
end{multicols}
\family default
を入れます。次の例を見てください。
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent

\series bold
\size small
The Adventure of the Empty House
\series default

\begin_inset Newline newline
\end_inset

by 
\noun on
Sir Arthur Conan Doyle
\end_layout

\begin_layout Standard

\size small
It was in the spring of the year 1894 that all London was interested, and
 the fashionable world dismayed, by the murder of the Honourable Ronald
 Adair under most unusual and inexplicable circumstances.
 The public has already learned those particulars of the crime which came
 out in the police investigation, but a good deal was suppressed upon that
 occasion, since the case for the prosecution was so overwhelmingly strong
 that it was not necessary to bring forward all the facts.
 Only now, at the end of nearly ten years, am I allowed to supply those
 missing links which make up the whole of that remarkable chain.
 The crime was of interest in itself, but that interest was as nothing to
 me compared to the inconceivable sequel, which afforded me the greatest
 shock and surprise of any event in my adventurous life.
 Even now, after this long interval, I find myself thrilling as I think
 of it, and feeling once more that sudden flood of joy, amazement, and increduli
ty which utterly submerged my mind.
 Let me say to that public, which has shown some interest in those glimpses
 which I have occasionally given them of the thoughts and actions of a very
 remarkable man, that they are not to blame me if I have not shared my knowledge
 with them, for I should have considered it my first duty to do so, had
 I not been barred by a positive prohibition from his own lips, which was
 only withdrawn upon the third of last month.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
多段組み
\end_layout

\begin_layout Standard
二段以上の多段組みをする場合も同じようにできます。
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{multicols}{3}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size footnotesize
It can be imagined that my close intimacy with Sherlock Holmes had interested
 me deeply in crime, and that after his disappearance I never failed to
 read with care the various problems which came before the public.
 And I even attempted, more than once, for my own private satisfaction,
 to employ his methods in their solution, though with indifferent success.
 There was none, however, which appealed to me like this tragedy of Ronald
 Adair.
 As I read the evidence at the inquest, which led up to a verdict of willful
 murder against some person or persons unknown, I realized more clearly
 than I had ever done the loss which the community had sustained by the
 death of Sherlock Holmes.
 There were points about this strange business which would, I was sure,
 have specially appealed to him, and the efforts of the police would have
 been supplemented, or more probably anticipated, by the trained observation
 and the alert mind of the first criminal agent in Europe.
 All day, as I drove upon my round, I turned over the case in my mind and
 found no explanation which appeared to me to be adequate.
 At the risk of telling a twice-told tale, I will recapitulate the facts
 as they were known to the public at the conclusion of the inquest.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
三段組み以上も可能ですが、読みにくくなり実用的ではないでしょう。
\end_layout

\begin_layout Subsubsection
カラムの中のカラム
\end_layout

\begin_layout Standard
カラムの中にカラムを入れることもできます。
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size footnotesize
The Honourable Ronald Adair was the second son of the Earl of Maynooth,
 at that time governor of one of the Australian colonies.
 Adair's mother had returned from Australia to undergo the operation for
 cataract, and she, her son Ronald, and her daughter Hilda were living together
 at 427 Park Lane.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
begin{multicols}{2}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size footnotesize
The youth moved in the best society--had, so far as was known, no enemies
 and no particular vices.
 He had been engaged to Miss Edith Woodley, of Carstairs, but the engagement
 had been broken off by mutual consent some months before, and there was
 no sign that it had left any very profound feeling behind it.
 For the rest {sic} the man's life moved in a narrow and conventional circle,
 for his habits were quiet and his nature unemotional.
 Yet it was upon this easy-going young aristocrat that death came, in most
 strange and unexpected form, between the hours of ten and eleven-twenty
 on the night of March 30, 1894.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\size footnotesize
Ronald Adair was fond of cards--playing continually, but never for such
 stakes as would hurt him.
 He was a member of the Baldwin, the Cavendish, and the Bagatelle card clubs.
 It was shown that, after dinner on the day of his death, he had played
 a rubber of whist at the latter club.
 He had also played there in the afternoon.

\size default
 
\size footnotesize
The evidence of those who had played with him-- Mr.
 Murray, Sir John Hardy, and Colonel Moran--showed that the game was whist,
 and that there was a fairly equal fall of the cards.
 Adair might have lost five pounds, but not more.
 His fortune was a considerable one, and such a loss could not in any way
 affect him.
 He had played nearly every day at one club or other, but he was a cautious
 player, and usually rose a winner.
 It came out in evidence that, in partnership with Colonel Moran, he had
 actually won as much as four hundred and twenty pounds in a sitting, some
 weeks before, from Godfrey Milner and Lord Balmoral.
 So much for his recent history as it came out at the inquest.
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
end{multicols}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
より複雑な形でカラムの中にカラムを入れる例や、へッダのスペース、縦のカラムを分ける線の入れ方などの例は、ファイル 
\family typewriter
examples/multicol.lyx
\family default
を読んでください。
\end_layout

\begin_layout Section
箇条書き（連番）段落環境での番号振り
\begin_inset OptArg
status collapsed

\begin_layout Plain Layout
箇条書き（連番）の番号振り
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
John Weiss
\end_layout

\end_inset

文
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
既定での
\begin_inset Flex CharStyle:MenuItem
status collapsed

\begin_layout Plain Layout
箇条書き（連番）
\end_layout

\end_inset

段落環境での番号の付け方はアラビア数字で始まり、アルファベットの大文字で終わります。違う番号の付け方をしたい場合にはどうしたらいいのでしょうか。次の例を見てくだ
さい。
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumi}{
\backslash
Roman{enumi}.}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumii}{
\backslash
Alph{enumii}.}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumiii}{
\backslash
arabic{enumiii}.}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumiv}{
\backslash
alph{enumiv}.)}
\end_layout

\begin_layout Standard
これは番号の付け方をまず大文字のローマ数字、次に大文字のアルファベット、アラビア数字、小文字のアルファベットにします。
\end_layout

\begin_layout Standard
前の例にはもう少しおまけがついていて、番号の後に点が入ります。例えば初めのレベルのレベルは
\begin_inset Quotes eld
\end_inset

I.
\begin_inset Quotes erd
\end_inset

のようになります。読みやすいように、番号の付け方を説明するのに<
\begin_inset Quotes eld
\end_inset

I.
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes erd
\end_inset

A.
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes erd
\end_inset

1.
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes eld
\end_inset

a.)
\begin_inset Quotes erd
\end_inset

>のような表示方法を使うことにしましょう。
\end_layout

\begin_layout Standard
例を見て分かるように、各々のネストのレベルにラベルコマンド
\family typewriter

\backslash
labelenumi
\family default
 \SpecialChar \ldots{}
 
\family typewriter

\backslash
labelenumiv
\family default
とカウンタ
\family typewriter
enumi
\family default
 \SpecialChar \ldots{}
 
\family typewriter
enumiv
\family default
があります。使うことのできる番号印刷用のコマンドは 
\family typewriter

\backslash
arabic{}
\family default
、
\family typewriter

\backslash
roman{}
\family default
、
\family typewriter

\backslash
Roman{}
\family default
、
\family typewriter

\backslash
alph{}
\family default
、
\family typewriter

\backslash
Alph{}
\family default
の5つでカウンタを一つ引数として取ります。これらの前または後ろに好きな文字を加えることができます。ただしスペースを加える必要はありません。
\end_layout

\begin_layout Standard
これらの機能を使った例をお見せしましょう。
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumi}{
\backslash
#
\backslash
Alph{enumi}
\backslash
#}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumii}{
\backslash
Alph{enumi}.
\backslash
arabic{enumii}}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumiii}{
\backslash
alph{enumiii}+}
\end_layout

\begin_layout LyX-Code

\backslash
renewcommand{
\backslash
labelenumiv}{(
\backslash
roman{enumiv})}
\end_layout

\begin_layout Standard
この例は番号の付け方を <
\begin_inset Quotes eld
\end_inset

#A#
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes erd
\end_inset

A.1
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes erd
\end_inset

a+
\begin_inset Quotes erd
\end_inset

,
\begin_inset space ~
\end_inset


\begin_inset Quotes eld
\end_inset

(i)
\begin_inset Quotes erd
\end_inset

>のようにします。
\end_layout

\begin_layout Section
Dropped Capitals
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Mike Ressler
\end_layout

\end_inset

文
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\noindent
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
newfont{
\backslash
tmpfont}{cmr17 scaled 2500}{
\backslash
tmpfont T}
\backslash
vspace*{-8.4ex}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
hangindent=3.3em 
\backslash
hangafter=-3
\end_layout

\end_inset

 hose of you who like the style of old books probably also like 
\begin_inset Quotes eld
\end_inset

dropped capitals
\begin_inset Quotes erd
\end_inset

---those large capital letters which begin each new chapter or section.
 
\end_layout

\begin_layout Standard
昔の本のスタイルが好きならこの例のように、dropped capitalsも多分好きでしょう。これは新しい章、または節が大きな大文字で始まるものです。これをLy
X/LaTeXで実現するのは（少しはplain TeXを知る必要はありますが）簡単ですが、この節の初めのTeXモードを見てもらうと分かるように多くの仕事と繰り返
しが必要になります。
\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
verb+
\backslash
bigdrop{-1em}{3}{ptmri}{T}+
\end_layout

\end_inset

こちらの方が簡単でしょう。CTANにある
\family typewriter
dropcaps
\family default
（またはより新しい
\family typewriter
dropping
\family default
）パッケージを使えば簡単にこのような文字をあなたの文章に入れることができます。このパッケージは teTeXに含まれていないのでこの文章の中でお見せできませんが、
この段落を新しい文章にコピーして、先頭の
\family typewriter

\backslash
verb
\family default
と+を取り除き、プリアンブルに
\family typewriter

\backslash
usepackage{dropcaps}
\family default
を加えると、Times Roman ItalicのTが3行文の高さで余白に1emでた形で印刷されます（TeXが探せるディレクトリに
\family typewriter
dropcaps.sty
\family default
があることを確認してください）。最初の引数は字下げの量です。この例では負ですから余白に突き出します。2番目の引数は行数で表した文字の高さです。3番目の引数はフォ
ント名です。tfmファイルも持つ物なら何でも動きます（
\family typewriter
.../texmf/fonts/tfm
\family default
ディレクトリで色々探してみてください）。私が気に入っているは
\family typewriter
yinit
\family default
で、これはdropped capital用に特にデザインされたドイツ文字のフォントです。4番目の引数が使う文字です。
\family typewriter
dropping
\family default
パッケージは
\family typewriter

\backslash
bigdrop
\family default
コマンド以外にも少し簡単な
\family typewriter

\backslash
dropping
\family default
コマンドも持っています。
\end_layout

\begin_layout Section
標準的でない形の段落
\end_layout

\begin_layout Standard
\begin_inset Flex CharStyle:Noun
status collapsed

\begin_layout Plain Layout
Mike Ressler
\end_layout

\end_inset

文
\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
begin{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
newdimen
\backslash
varunit 
\end_layout

\begin_layout Plain Layout


\backslash
setlength{
\backslash
varunit}{4.5in}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\noindent
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
parshape 19 0.45
\backslash
varunit 0.332
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.40
\backslash
varunit 0.300
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.35
\backslash
varunit 0.293
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.30
\backslash
varunit 0.300
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.25
\backslash
varunit 0.317
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.20
\backslash
varunit 0.342
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.15
\backslash
varunit 0.373
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.10
\backslash
varunit 0.410
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.05
\backslash
varunit 0.453
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.00
\backslash
varunit 0.500
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.05
\backslash
varunit 0.453
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.10
\backslash
varunit 0.410
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.15
\backslash
varunit 0.373
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.20
\backslash
varunit 0.342
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.25
\backslash
varunit 0.317
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.30
\backslash
varunit 0.300
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.35
\backslash
varunit 0.293
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.40
\backslash
varunit 0.300
\backslash
varunit
\end_layout

\begin_layout Plain Layout

0.45
\backslash
varunit 0.332
\backslash
varunit
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset

長方形の段落の形を変えたい場合があるでしょう。そういう場合は楽しいTeXコマンド
\family typewriter

\backslash
parshape
\family default
を使いましょう。この例で分かるように適当に行の長さを設定することで好きな形の段落が作れます。馬鹿げているように見えるかもしれませんが、dropped
 capitalを最終調整したり、長方形ではない図のまわりを文章で囲ったりするのにこのような手作業が必要なのです。
\end_layout

\begin_layout Standard
\begin_inset VSpace bigskip
\end_inset

文法は
\family typewriter

\backslash
parshape numlines #1indent #1length #2indent #2length \SpecialChar \ldots{}
 #nindent #nlength
\family default
 です。
\family typewriter
numlines
\family default
は段落をつくる行数です。その段落の本文がこれより短い場合はそこで終わり、長い場合には最後の行の定義がそれ以後も使われます。
\family typewriter
#nindent
\family default
と
\family typewriter
#nlength
\family default
エントリは左余白からの字下げの量と、字下げされたところからの行の長さを指定します。この形は現在の段落にだけ適応されて、次の段落では通常の形にリセットされます。
\end_layout

\begin_layout Standard
\begin_inset ERT
status collapsed

\begin_layout Plain Layout


\backslash
end{sloppypar}
\end_layout

\end_inset


\end_layout

\begin_layout Section
まとめ
\end_layout

\begin_layout Standard
見てきたように、この節には有用な例も馬鹿げた例も入っています。たとえば、最後の節のように段落の形を変えることが必要な人がそれほどいるとは思えませんが、重要な点は
、TeXやLaTeXでどのようにすればいいかを理解する気があれば、ほとんどすべてをLyXの中でできるということです。TeXは、すばらしく強力な組版システムであり
、LyXはそれをバックエンドとして使用しているので、そのすべての力があなたの前に利用可能なのです。Happy LyXing!
\end_layout

\end_body
\end_document
