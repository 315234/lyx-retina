2001-06-07  Juergen Vigna  <jug@sad.it>

	* text.C (BreakAgain): subst spaces with tabs.

	* paragraph.C (deleteInsetsLyXText): set recursive on deleteLyXText.
	(resizeInsetsLyXText): set force on resizeLyXText.

2001-06-05  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* gettext.h (gettext_init): 
	(locale_init): use a real definition instead of a macro

2001-06-02  John Levon  <moz@compsoc.man.ac.uk>

	* Bufferview_pimpl.C:
	* LColor.h:
	* LColor.C: further lcolor tidies

2001-06-05  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* BufferView_pimpl.C (updateScrollbar): simplify.

	* BufferView2.C: don't include insets/insetinfo.h, change
	prototype for insertInset and call the Pimpl version. let
	updateInset call Pimpl version.

	* BufferView.h: move inset_slept to BufferView::Pimpl, move
	gotoInset to BufferView::Pimpl

2001-06-01  Juergen Vigna  <jug@sad.it>

	* lyxfunc.C (Dispatch): LFUN_PREFIX don't call the update if we're
	inside a LockingInset (is the update needed at all?).

2001-05-31  Juergen Vigna  <jug@sad.it>

	* BufferView_pimpl.C (Dispatch): we need a new instanze of cursor
	here not the old one otherwise how should we compare it afterwards
	if it's the same!

2001-06-01  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxfont.C: 
	* tabular.C:
	* tabular-old.C: 
	* FontInfo.C: bring C functions into global namespace when
	necessary

2001-05-30  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LString.h: make sure config.h has been loaded before LString.h.

	* lyxlex_pimpl.C (EatLine): comment out annoying debug messages
	(one for each char read by EatLine!).

	* lyx_main.C (init): constify lyxdir. Lowercase the name of some
	variables. 

2001-06-01  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* paragraph.C (BreakParagraph): set the inset_owner in the new par
	to the same as the par we break from

2001-05-31  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* commandtags.h: add LFUN_INSET_WIDE_FLOAT

	* MenuBackend.C (expand): also create menu entries for wide
	versions of the floats.

	* LyXAction.C (init): add entry for LFUN_INSET_WIDE_FLOAT

	* BufferView_pimpl.C (Dispatch): implement LFUN_INSET_WIDE_FLOAT

	* Makefile.am (lyx_DEPENDENCIES): adjust for change in
	frontends/Makefile.am

	* text2.C: adjust
	* text.C: adjust
	

	* tabular.C (getTokenValue): add std::

	* tabular-old.C (getTokenValue): add std::
	(getTokenValue): ditto
	(getTokenValue): ditto

	* screen.C (ToggleSelection): adjust

	* lyxtext.h: put selection cursors inside a Selection struct.

	* lyxfunc.C (moveCursorUpdate): adjust

	* lyxfont.C (latexWriteStartChanges): add std::

	* lyxfind.C: adjust

	* font.h: delete with(char const *, LyXFont const &)

	* buffer.C (parseSingleLyXformat2Token): use contains instead of strstr

	* FontInfo.C (getFontname): add std::

	* BufferView_pimpl.C (resizeCurrentBuffer): adjust
	(workAreaButtonPress): adjust
	(tripleClick): adjust
	(update): adjust
	(moveCursorUpdate): adjust
	(Dispatch): adjust

	* BufferView2.C (gotoInset): adjust

2001-05-30  Juergen Vigna  <jug@sad.it>

	* spellchecker.C (USE_ORIGINAL_MANAGER_FUNCS): as it seems only I use
	to check pspell I add this as default as I now have new pspell
	libraries and they seem to use this.

2001-05-30  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* text2.C (CutSelection): make the cursor valid before the call to
	ClearSelection.

2001-05-29  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* kbsequence.C (parse): de-uglify a bit the parsing code, which
	relied on 0 terminated strings and other horrors. Bug found due to
	the new assert in lyxstring!

	* lyx_main.C (defaultKeyBindings): add bindings the cursor-related
	KP_ keys.

2001-05-29  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* lyx_main.C (defaultKeyBindings): move self-insert KP_ bindings
	to latinkeys.bind.

	* lyxfunc.C (processKeySym): change method of getting to the
	self-insert char.

	* BufferView(2).[Ch]: move hfill, protectedBlank, newline,
	menuSeparator, endOfSentenceDot, ldots, hypenationPoint and menuUndo
	* BufferView_pimpl.[Ch]: here as private methods.

2001-05-28  Juergen Vigna  <jug@sad.it>

	* text.C (SetHeightOfRow): added the update() call again as it is
	needed to initialize inset dimensions!

2001-05-16  Juergen Vigna  <jug@sad.it>

	* text2.C (SetCharFont): Add new function with BufferView * and
	bool toggleall parameters for setting insets internal fonts.
	(SetFont): Freeze the undo as we may change fonts in Insets and
	all this change should be inside only one Undo!

	* bufferview_funcs.C (ToggleAndShow): fixed this functions for
	setting font's in insets as for them we have the SetFont function!

2001-05-15  Juergen Vigna  <jug@sad.it>

	* text2.C (ClearSelection): to be sure we REALLY don't have any
	selection anymore!

	* tabular.C (TeXCellPreamble): fixed the left border problem for
	multicolumn cells.

2001-05-27  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (deplog): Make sure that the main .tex file is in the
	dependancy file

2001-05-23  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* lyx_main.C (defaultKeyBindings): set KP_enter to point at
	LFUN_BREAKPARAGRAPH.

	* LyXAction.C (init): remove external name for LFUN_LAYOUTNO, set
	help test to "internal only", similar for LFUN_INSERT_URL

	* BufferView_pimpl.C (Dispatch::LFUN_QUOTE): change it to to the insertcorrectQuote.
	(Dispatch::LFUN_SELFINSERT): fix to handle math greek,
	auto_region_delete and deadkeys. 

2001-05-22  John Levon  <moz@compsoc.man.ac.uk>

	* LColor.h:
	* LColor.C: remove some dead entries, tidy a little
 
2001-05-18  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* lyxfunc.C (processKeySym): comment the Escape handling, remove
	commented code.
	(Dispatch): implement LFUN_ESCAPE

	* commandtags.h: add LFUN_ESCAPE

	* LyXAction.C (init): add entry for LFUN_ESCAPE

	* BufferView_pimpl.C (Dispatch): adjust for open_new_inset move.
	Remove commented code.
	(insertNote): moved here
	(open_new_inset): moved here

	* BufferView[2].[Ch]: move insertNote and open_new_inset to
	BufferView_pimpl

2001-05-16  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* kbmap.C (findbinding): clean it up and make it work correctly.

	* lyx_main.C (init): do not pass argc and argv as parameters

2001-05-16  Ruurd Reitsma  <r.a.reitsma@wbmt.tudelft.nl>

	* buffer.C: fix path for OS/2 & Win32

	* lyx_gui.C:
	* lyx_main:
	* lyx_main.C: Added os:: class.
	
	* os2_defines.h: update

2001-05-17  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* lyxfunc.[Ch] (processKeySym): return void. Handle unknown actions
	better by trying again with reduced state.

2001-05-16  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxrc.C (read): print error about invalid key sequence only when
	debugging (because not all latinX keysyms are known to some X
	servers)

	* kbsequence.C (getiso): add a few std:: qualifiers
	(getiso): comment out extra return statement.

2001-05-11  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* BufferView_pimpl.C (Dispatch): comment out the old "default" key
	handling.
	(Dispatch): enhance the accent inset a bit. (not perfect)

2001-05-10  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* buffer.C (makeLaTeXFile): use stringstream on language_optons.

2001-05-09  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* bufferlist.C (emergencyWrite): fix assert() call

2001-05-04  Kayvan A. Sylvan  <kayvan@camel.internal.sylvan.com>

	* text.C (InsertChar): Added trivial patch to only send the "you
	can not do multiple spaces this way" message once during a
	session.

2001-05-08  Baruch Even  <baruch@lyx.org>

	* Makefile.am: Changed order of libraries to get LyX to link properly
	with the gnome frontend.

2001-05-09  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LaTeXFeatures.h: add a std:: qualifier

2001-05-09  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* paragraph.C (String): use stringstream

2001-05-08  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* paragraph.C (writeFile): remove footflag arg

	* buffer.C (makeLaTeXFile): use stringstream
	(latexParagraphs): remove footnot gurba

	* LaTeXFeatures.C (getPackages): use stringstream
	(getMacros): likewise
	(getTClassPreamble): likewise
	(getFloatDefinitions): new method

	* paragraph.C (writeFile): reindent
	(Erase): reindent

	* WorkArea.h: revert the xpos + etc changes.

	* CutAndPaste.C (SwitchLayoutsBetweenClasses): constify name and s

	* lyxparagraph.[Ch]: add copy constructor, remove Clone

	* CutAndPaste.C (copySelection): use LyXParagraph copy constructor
	(pasteSelection): likewise
	* text2.C (CreateUndo): likewise

2001-05-04  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* minibuffer.C (peek_event): temporarily reduce the functionality
	of the minibuffer (to allow args on lfuns)

	* commandtags.h: remove LFUN_LOA_INSERT, LFUN_LOF_INSERT,
	LFUN_LOT_INSERT. add LFUN_FLOAT_LIST

	* buffer.C (readInset): add compability reading of old float
	lists, add reading of new style float list.
	(readInset): avoid reevaluation of inscmd.getCmdName()
	(getLists): reindent

	* MenuBackend.C (MenuItem): implement parsing of
	md_floatlistinsert and md_floatinsert.
	(expand::LastFiles): move initalizaton of iterators out of loop,
	avoid reevaluation.
	(expand::Documents): introduce typdedef vector<string> Strings,
	and use it. 
	(expand::ExportFormats): introduce typedef vector<Format const *>
	Formats, and use it.
	(expand): implement FloatListInsert and FloatInsert.

	* LyXAction.C (init): remove entries for LFUN_LOA_INSERT,
	LFUN_LOA_VIEW, LFUN_LOF_INSERT, LFUN_LOFVIEW, LFUN_LOT_INSERT,
	LFUN_LOTVIEW. Add entry for LFUN_FLOAT_LIST

	* BufferView_pimpl.C (Dispatch::LFUN_TOC_INSERT): remvoe the float
	handling. 
	(Dispatch::LFUN_FLOAT_LIST): implement

2001-04-28  Kayvan A. Sylvan  <kayvan@sylvan.com>
 
 	* LaTeX.C (run): Fix problem with --export code.
 
2001-04-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* BufferView.[Ch] (workarea): removed.
	(getClipboard) new method; wrapper for workarea()->getClipboard()

	* ToolbarDefaults.C (read): removed final lex.next() command; it's a
	bug.

	* WorkArea.h (width, height, xpos, ypos): These methods all
	returned the dimensions of the work_area sub-area of WorkArea,
	resulting in a position error if the WorkArea were resized. Now
	return the dimensions of the entire WorkArea.

	* lyx_main.C (ReadUIFile): don't print out spurious warnings.

2001-05-03  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LaTeX.C (deplog): correct the syntax of regex reg1

2001-05-03  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* undo.C: remove !NEW_INSETS cruft

2001-04-28  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* text2.C: remove !NEW_INSETS cruft

	* text.C: remove !NEW_INSETS cruft

	* tabular.C: remove !NEW_INSETS cruft

	* spellchecker.C: remove !NEW_INSETS cruft

	* lyxtext.h: remove !NEW_INSETS cruft

	* lyxlex_pimpl.C: remove !NEW_INSETS cruft

	* lyxfunc.C: remove !NEW_INSETS cruft

	* lyxfind.C: remove !NEW_INSETS cruft

	* lyx_cb.C: remove !NEW_INSETS cruft

	* figureForm.C: remove  !NEW_INSETS cruft

	* bufferview_funcs.[Ch]: remove !NEW_INSETS cruft

	* buffer.[Ch]: remove !NEW_INSETS cruft

	* ToolbarDefaults.C: remove !NEW_INSETS cruft

	* CutAndPaste.C: remove !NEW_INSETS cruft

	* BufferView_pimpl.C: remove !NEW_INSETS cruft

	* BufferView2.C: remove !NEW_INSETS cruft

	* BufferView.h: remove !NEW_INSETS cruft

2001-05-03  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* Lsstream.h: include LString.h before the sstream headers to
	fix problem with gcc 2.95.3 and lyxstring

2001-05-02  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyx_main.C: add using directives when needed for C functions
	declared in std:: namespace.

2001-04-27  Juergen Vigna  <jug@sad.it>

	* text.C (Fill): return 20 instead of 0 if paper_width < 0 (endless)
	(SetHeightOfRow): comment out the update call should not be needed!

2001-04-13  Juergen Vigna  <jug@sad.it>

	* tabular.C (GetAdditionalHeight): changed parameter from cell to row.
	(LyXTabular): tried to minimize operator= operations (and realized
	hopfully Lars wish).

2001-04-27  Juergen Vigna  <jug@sad.it>

	* spellchecker.C (sc_check_word): fixed Assert to lyx::Assert.

2001-04-27  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* lyxfunc.C (Dispatch): hack to make listof algorithm work

	* buffer.C (readInset): hack to make listof algorithm work

	* BufferView_pimpl.C: hack to make listof algorithm work

2001-04-26  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* LyXAction.C: removed all !NEW_INSETS cruft
	(init): moved lfun_item in method

	* lyxparagraph.[Ch]: removed all !NEW_INSETS cruft

2001-04-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* BufferView2.C (theLockingInset): white space.

2001-04-25  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* minibuffer.C: include <iostream>

	* BufferView_pimpl.C: implement LFUN_TRANSPOSE_CHARS

	* LyXAction.C (init): add LFUN_TRANSPOSE_CHARS

	* commandtags.h: add LFUN_TRANSPOSE_CHARS

	* text.[Ch] (TransposeChars): new method

2001-04-24  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* call message directly through LyXView instead of through LyXFunc
	* BufferView2.C: adjust
	* BufferView_pimpl.C: adjust
	* FontLoader.C: adjust
	* buffer.C: adjust
	* bufferview_funcs.C: adjust
	* converter.C: adjust
	* figureForm.C: adjust
	* importer.C: adjust
	* lyx_cb.C: adjust
	* lyx_gui_misc.C: adjust
	* lyxfunc.C: adjust
	* lyxvc.C: adjust
	* text2.C: adjust
	+ more files in subdirs
	
	* lyxparagraph.h (size): move up int file
	(GetLayout): ditto

	* adjust all uses of Assert to lyx::Assert.

	* BufferView2.C (ChangeCitationsIfUnique): adjust for
	lyxfunctional in namespace lyx
	* layout.C (hasLayout): ditto
	(GetLayout): ditto
	(GetLayout): ditto
	(delete_layout): ditto
	(NumberOfClass): ditto
	* converter.C (GetFormat): ditto
	(GetNumber): ditto
	(Add): ditto
	(Delete): ditto
	(SetViewer): ditto
	* bufferlist.C (getFileNames): ditto
	(emergencyWriteAll): ditto
	(exists): ditto
	(getBuffer): ditto
	* MenuBackend.C (hasSubmenu): ditto
	(hasMenu): ditto
	(getMenu): ditto
	* BufferView_pimpl.C (getInsetByCode): ditto

2001-04-18  Juergen Vigna  <jug@sad.it>

	* vspace.C (asLatexString): fixed the 100% problem.

2001-04-18  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxfunc.C (Dispatch): 
	* minibuffer.C: 
	* minibuffer.h: add a few std:: qualifiers

2001-04-17  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* minibuffer.[Ch]: reimplement so that commands is initiated and
	run from lyxfunc, simplified som handling, and made the completion
	and history code for complete. wip. 

	* lyxfunc.C (processKeySym): call message
	(miniDispatch): new temporary method
	(LFUN_EXEC_COMMAND): reimplement for new minibuffer
	(LFUN_MESSAGE): implement
	(LFUN_MESSAGE_PUSH): implement
	(LFUN_MESSAGE_POP): implement
	(initMiniBuffer): the initial/defualt minibuffer message.

	* lyxfont.[Ch]: inline some more getters

	* lyx_gui_misc.C (WriteAlert): use LFUN_MESSAGE

	* lyx_gui_misc.[Ch] (WriteStatus): remove method 

	* lyx_cb.[Ch] (ShowMessage): remove delay arg, use LFUN_MESSAGE
	(AutoSave): use LFUN_MESSAGE
	(Reconfigure): ditto

	* importer.C (Import): constify som local vars, use LFUN_MESSAGE

	* figureForm.C: use LFUN_MESSAGE

	* converter.C (runLaTeX): use LFUN_MESSAGE

	* bufferview_funcs.C: use LFUN_MESSAGE
	(Melt): ditto
	(changeDepth): ditto

	* bufferparams.h: use boost::

	* bufferlist.h: inherit privately from noncopyable

	* bufferlist.C (loadLyXFile): remove some commented code.

	* buffer.C (runChktex): use LFUN_MESSAGE

	* ShareContainer.h: inherit privately from noncopyable

	* ParagraphParameters.[hC] (depth): inline it.

	* LyXView.[Ch] (LyXView): connect the minibuffer signals to lyxfunc
	methods.
	(message): new method
	(messagePush): ditto
	(messagePop): ditto
	(show): init minibuffer
	(showState): direct call

	* LaTeX.[Ch]: inherit privately from noncopyable
	(run): change second arg to LyXFunc*, use LFUN_MESSAGE
	instead of WriteStatus.

	* FontLoader.C (doLoad): use LFUN_MESSAGE_PUSH and LFUN_MESSAGE_POP

	* BufferView_pimpl.C (buffer): don't init minibuffer
	(workAreaButtonPress): use LFUN_MESSAGE
	(workAreaButtonRelease): ditto
	(savePosition): ditto
	(restorePosition): ditto
	(MenuInsertLyXFile): ditto
	(workAreaExpose): don't init minibuffer
	(update): remove commented code, simplify

	* BufferView2.C (openStuff): use LFUN_MESSAGE
	(toggleFloat): ditto
	(menuUndo): ditto
	(menuRedo): ditto
	(copyEnvironment): ditto
	(pasteEnvironment): ditto
	(copy): ditto
	(cut): ditto
	(paste): ditto
	(gotoInset): ditto
	(updateInset): remove some commented code

	* lastfiles.h: inherit privately from noncopyable
	* layout.h: ditto
	* lyx_gui.h: ditto
	* lyx_main.h: ditto
	* lyxlex.h: ditto
	* lyxlex_pimpl.h: ditto

	* commandtags.h: comment out LFUN_FOOTMELT, LFUN_MARGINMELT,
	LFUN_FLOATSOPERATE, LFUN_MELT, add LFUN_MESSAGE,
	LFUN_MESSAGE_PUSH, LFUN_MESSAGE_POP

	* LyXAction.h: inherit privately from noncopyable, add methods
	func_begin, func_end, returning iterators to the func map.

	* LyXAction.C (init): comment out LFUN_FLOATSOPERATE, LFUN_MELT,
	add entries for LFUN_MESSAGE, LFUN_MESSAGE_PUSH, LFUN_MESSAGE_POP
	(func_begin): new method
	(func_end): new method

	* CutAndPaste.C (cutSelection): split into two versons (NEW_INSETS
	and not)
	(copySelection): ditto
	(pasteSelection): ditto

	* BufferView.C: whitespace change
	* BufferView.h: inherit privately from noncopyable

2001-04-16  Allan Rae  <rae@lyx.org>

	* tabular-old.C (l_getline): 
	* spellchecker.C (sc_check_word): 
	* lyxfunc.C (Dispatch): #warning triggers an error on Sun CC 6.0 as
	an unrecognised preprocessor directive.  So ensure they're wrapped. 

2001-04-14  Dekel Tsur  <dekelts@tau.ac.il>

	* src/exporter.C (Export): Give an error message when path to file 
	contains spaces.

2001-04-12  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (deplog): Always check that foundfile exists.

2001-04-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyx_main.h: 
	* lyx_main.C (ReadLanguagesFile): fix weird typo in method name 

2001-04-06  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* tabular.[Ch] (getLabelList): implement new method

	* minibuffer.h: comment ouf setTiimer

	* minibuffer.C (ExecutingCB): constify res
	(peek_event): constify s
	(Set): constify ntext
	(Init): constify nicename

	* BufferView2.C (updateInset): comment out Minibuffer::setTimer

	* BufferView_pimpl.C (update): comment out Minibuffer::setTimer
	(savePosition): use two params to Minibuffer::Set
	(restorePosition): ditto

2001-04-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyx_main.C: include language.h

	* Makefile.am (lyx_main.o): add language.h

2001-04-05  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* exporter.C: 
	* paragraph.C: 
	* screen.C: 
	* tabular.C: 
	* CutAndPaste.C: include gettext.h

	* lyxfont.h: remove old hack with ON and OFF.

	* lyxparagraph.h: 
	* lyxfont.h: do not include language.h...

	* BufferView2.C: 
	* LaTeXFeatures.C: 
	* Painter.C: 
	* bufferview_funcs.C: 
	* font.C: 
	* lyxfont.C: 
	* text.C: 
	* text2.C: 
	* trans_mgr.C: 
	* paragraph.C: ... but do it here instead

2001-04-04  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* text2.C (SetLayout): split in NEW_INSETS and non NEW_INSETS version

	* tabular.C: small reformat

	* paragraph.C (GetFontSettings): split in NEW_INSETS and non
	NEW_INSETS version
	(GetChar): ditto
	(BreakParagraph): ditto
	(SetOnlyLayout): ditto
	(SetLayout): ditto

	* lyxparagraph.h: add definitions for SetLayout and SetOnlyLayout
	with one arg less.

	* lastfiles.C: removed most using decl, add std:: where needed

	* buffer.C: ws changes

	* MenuBackend.C (class compare_format): put into anon namespace
	(expand): constify label, names, action, action2
	(expand): 

	* text.C (SingleWidth): constify font
	(IsBoundary): constify rtl2
	(GetVisibleRow): constify ww

	* LaTeX.C (deplog): constify logfile

	* BufferView_pimpl.C (checkInsetHit): constify width, inset_x,
	start_x, end_x
	(workAreaExpose): constify widthChange, heightChange

	* lyxrow.C (par): moved
	(height): moved
	(next): moved
	* lyxrow.h: as inlines here

	* lyxfont.h (shape): moved from lyxfont.C
	(emph): moved from lyxfont.C

	* lyxfont.C (LyXFont): use initialization list for all
	constructors
	(shape): move to lyxfont.h as inline
	(emph): move to lyxfont.h as inline
	

2001-04-04  Juergen Vigna  <jug@sad.it>

	* vspace.C: had to include stdio.h for use of sscanf

2001-04-03  Angus Leeming  <a.leeming@ic.ac.uk>

	* BufferView.h: 
	* BufferView_pimpl.h: remove xforms cruft. Both classes are
	independent of xforms.

2001-04-02  Juergen Vigna  <jug@sad.it>

	* spellchecker.C: fixed namespace placing!

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* lyxfunc.C (Dispatch): prevent crash in LFUN_GOTO_PARAGRAPH when
	the LyXParagraph * is 0.

2001-03-29  Juergen Vigna  <jug@sad.it>

	* vspace.C: added support for %, c%, p%, l%.
	(stringFromUnit): added helper function.
	(asLatexString): changed to give right results for the %-values.

	* buffer.C: convert the widthp in a width%.

2001-03-28  Angus Leeming  <a.leeming@ic.ac.uk>

	* Makefile.am: removed form1.[Ch], lyx.[Ch] and added figure_form.[Ch],
	figureForm.[Ch].

	* figureForm.[Ch]: stripped the FD_from_figure manipulation
	code out of lux_cb.[Ch], ready for its (imminent?) removal.

	* lyx_cb.[Ch]: see above.

	* figure_form.[Ch]: fdesign generated code, combining lyx.[Ch] and
	form1.[Ch].

	* form1.[Ch]:
	* lyx.[Ch]: replaced by figure_form.[Ch].

	* lyx_gui.C:
	* lyx_gui_misc.C:
	* lyxfunc.C: changed headers associated with above changes.

2001-03-27  Juergen Vigna  <jug@sad.it>

	* BufferView_pimpl.C: set the temporary cursor right!

2001-03-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* BufferView_pimpl.C (Dispatch): corrected spelling givven -> given.

2001-03-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* LString.h: removed "using std::getline"!

	* BufferView_pimpl.C (Dispatch): changes due to changes in
	InsetInclude::Params.

	* buffer.C (tag_name): removed redundant break statements as they were
	producing lots of warnings with my compiler.

2001-03-23  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LString.h: add "using std::getline" when using the real <string>.

2001-03-23  José Abílio Matos  <jamatos@fep.up.pt>

	* buffer.C: removed bitset usage.
	PAR_TAG moved to an anonymous name space.
	(tag_name): new funtion, also in the anonymous namespace.
	(SimpleLinuxDocOnePar): replaced all the references to bitset by PAR_TAG.
	(makeDocBookFile): clean code. Completed transition from string arrays
	to string vectors.
	(SimpleDocBookOnePar): code clean.

2001-03-23  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* tabular.C: add some comments.

2001-03-22  Juergen Vigna  <jug@sad.it>

	* buffer.C (parseSingleLyXformat2Token): redone the minipage
	compatibility read a bit and fixed bug with minipage in different
	depth.

2001-03-21  José Abílio Matos  <jamatos@fep.up.pt>

	* buffer.C (pop_tag): removed.
	(push_tag): removed.
	(makeLinuxDocFile): cleaner C++ code, declarations near usage point,
	array replaced with vector. Added support for CDATA sections.
	(SimpleLinuxDocOnePar): ditto. Paragraph tags are correctly handled,
	at any nest level.
	(makeDocBookFile): XML conformant declaration of CDATA section,
	fixed bug related to <emphasis> in the first paragraph char.
	(sgmlOpenTag): exclude empty tags.
	(sgmlCloseTag): ditto.
	
	* buffer.h (pop_tag): removed.
	(push_tag): removed.

2001-03-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* language.h (Languages): added size_type and size().

2001-03-20  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C (parseSingleLyXformat2Token): Try to give a bit better
	response on compability reading of minipages. One probliem is that
	the old usage of minipages was «flertydig» 

	* several files here and in subdirs: don't use static at file
	scope use anon namespaces instead.

2001-03-19  Kayvan A. Sylvan <kayvan@sylvan.com>

	* paragraph.C (TeXEnvironment): Added \n to \end{environment}
	LaTeX output. This is necessary for Literate document
	processing.

2001-03-17  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C: insert hfill when needed.

	* tabular.C (l_getline): use string::erase, small whitespace change.

	* BufferView_pimpl.C: try the anon namespace.
	* WorkArea.C: ditto

2001-03-16  Juergen Vigna  <jug@sad.it>

	* BufferView_pimpl.C (workAreaButtonRelease): return only on button==2
	otherwise it won't open options-dialogs.

	* buffer.C: honor pextraWidth(p) on converting minipages.

	* tabular.C (l_getline): changed the functions to strip trailing \r.

2001-03-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* BufferView_pimpl.C:
	* minibuffer..C: added "using SigC::slot" declaration.

2001-03-16  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* lyxlex_pimpl.h: noncopyable is in namespace boost.

	* text2.C: ditto

	* text.C: ditto

	* paragraph.C: ditto

	* lyxtext.h: NO_PEXTRA

	* buffer.C: NO_PEXTRA_REALLY, NO_PEXTRA

	* ParagraphParameters.C (clear): NO_PEXTRA_REALLY
	* ParameterStruct.h: ditto
	* ParagraphParameters.h: ditto 
	* lyxparagraph.h: ditto

2001-03-15  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C: add compability for minipage alignment.
	(latexParagraphs): remove unwanted pextra check.

	* several files: remove CXX_WORKING_NAMESPACES

	* buffer.C (pop_tag): tie is in namespace boost

	* BufferView.h: noncopyable is in namespace boost
	* lyxlex.h: ditto
	* lyx_main.h: ditto
	* lyx_gui.h: ditto
	* layout.h: ditto
	* lastfiles.h: ditto
	* bufferlist.h: ditto
	* ShareContainer.h: ditto
	* LyXView.h: ditto
	* LyXAction.h: ditto
	* LaTeX.h: ditto

2001-03-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* Merging changes from BRANCH_MVC back into HEAD.

	* Makefile.am: added controllers/libcontrollers.la to lyx_DEPENDENCIES

2001-03-15  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView_pimpl.C: change from intl.C

	* combox.h:
	* combox.C:
	* Makefile.am: move combox.*

	* form1.h:
	* form1.C:
	* lyx_gui.C:
	* intl.h:
	* intl.C: remove dialog (covered by prefs)

2001-03-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* lyxfunc.C (Dispatch): removed redundant break statement.
	
2001-03-14  Juergen Vigna  <jug@sad.it>

	* tabular.C (l_getline): pay attention on \r\n (from Windows-files)

2001-03-14  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C: add hack to fix compability reading of minipages.

2001-03-13  Dekel Tsur  <dekelts@tau.ac.il>

	* buffer.C (getLists): Cleanup.

2001-03-13  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxfont.C (update): don't honor toggleall on font size.

2001-03-13  John Levon  <moz@compsoc.man.ac.uk>

	* bmtable.c:
	* bmtable.h:
	* Makefile.am: moved to frontends/xforms/

	* lyx_gui_misc.C:
	* lyxfunc.C:
	* BufferView_pimpl.C: changes for moved mathpanel

2001-03-12  John Levon  <moz@compsoc.man.ac.uk>

	* gettext.h: fix gettext_init() in --disable-nls

2001-03-12  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LaTeXFeatures.C (getMacros): add a .c_str() when using sstream.

2001-03-09  John Levon  <moz@compsoc.man.ac.uk>

	* lyx.C:
	* lyx.h: strip external form

2001-03-12  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView_pimpl.C: add comment, destroySplash()

2001-03-12  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView_pimpl.C:
	* LyXAction.C:
	* buffer.C:
	* commandtags.h:
	* lyxfunc.C: use re-worked insetinclude

2001-03-12  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C: add using std::stringstream.

	* lyx_cb.C: readd using std::ios.

	* buffer.C: add using std::map.

	* BufferView_pimpl.C: add using std::vector.

	* ShareContainer.h: add std:: to swap.

	* buffer.h: add some typedefs
	* buffer.C (getLists): use them
	(getLists): renamed from getTocList.
	add a counter for the different float types and use it in the
	generated string.
	(getLists): use the same counter for the NEW_INSETS and the "non"
	NEW_INSETS

	* lyx_cb.h: remove unused items, includes, using etc.

	* ShareContainer.h: remove some commented code, add more comments
	and "documentation".

2001-03-11  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* buffer.C (getTocList): make the list also when NEW_INSETS is
	defined.

	* buffer.h: remove TocType

	* buffer.C (getTocList): change to return a map<string,
	vector<TocItem> >, implement for dynamic number of list.

	* CutAndPaste.[Ch] (checkPastePossible): remove unused arg
	* text2.C (PasteSelection): adjust
	* CutAndPaste.C (pasteSelection): adjust

	* FloatList.C (FloatList): update from the new_insets branch.
	* Floating.[Ch]: ditto
	* LaTeXFeatures.C: ditto
	* buffer.C: ditto
	* lyxlex_pimpl.C: ditto
	
	* paragraph.C (Last): remove when NEW_INSETS is defined.

	* other file: changes because of the above.

2001-03-09  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* lyxparagraph.h: rename next to next_, previous to previous_,
	make them private for NEW_INSETS. Rename Next() to next(),
	Previous() to previous().

	* other files: changes because of the above.

2001-03-08  Dekel Tsur  <dekelts@tau.ac.il>

	* BufferView.h: 
	* lyxparagraph.h: Add '#include "LString.h"' to fix compilation
	problem.

2001-03-08  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* main.C (main): pass lyx_localedir to gettext_init().

	* gettext.h: remove locale_init and gettext_init macros

	* gettext.C (locale_init): new function
	(gettext_init): new function

	* lyx_gui.C (LyXGUI): use locale_init() instead of explicit
	setlocale().

2001-03-07  Edwin Leuven  <leuven@fee.uva.nl>

        * Moved credits to frontends:
        * credits.[Ch]: removed
	* credits_form.[Ch]: removed
	* lyx_gui_misc.C: remove credits stuff
	* Makefile.am:

2001-03-07  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* lyx_main.C: make toplevel_keymap a boost::scoped_ptr.

	* kbmap.[Ch]: make kb_key::table a boost::shared_ptr, remove
	unneeded destructor.

	* intl.[Ch] (Intl): free the fd_form_keymap, make the fd_form_keymap
	a standalone pointer again.

	* ColorHandler.[Ch]: make lyxColorHandler a boost::scoped_ptr

2001-03-06  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* filedlg.h:
	* filedlg.C:
	* LyXAction.C:
	* ToolbarDefaults.C:
	* bufferlist.C:
	* commandtags.h:
	* form1.C:
	* form1.h:
	* lyx_cb.C:
	* lyx_cb.h:
	* lyxfunc.h:
	* lyxfunc.C:
	* BufferView_pimpl.C: use new file dialog in GUII

	* lyx_cb.h:
	* lyx_cb.C: remove LayoutsCB to Toolbar

2001-03-07  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ShareContainer.h (get): add std:: qualifier

2001-03-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* ShareContainer.h: define a proper ShareContainer::value_type
	type (and use typename to please compaq cxx)

2001-03-06  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* lyxparagraph.h: move serveral local vars to
	ParameterStruct/ParagraphParameters., use ShareContainer in
	FontTable., make vars in FontTable private and add getter and
	setter.

	* paragraph.C: changes because of the above.

	* lyxfont.h: remove copy constructor and copy assignment. (the
	default ones is ok), move number inside FontBits. move inlines to
	lyxfont.C 

	* lyxfont.C: add number to initializaton of statics, move several
	inlines here. constify several local vars. some whitespace
	cleanup. Dont hide outerscope variables.

	* Spacing.h: add two new constructors to match the set methods.

	* ShareContainer.h: new file, will perhaps be moved to support

	* ParameterStruct.h: new file

	* ParagraphParameters.h: new file

	* ParagraphParameters.C: new file

	* Makefile.am (lyx_SOURCES): add ParagraphParameters.C,
	ParagraphParameters.h, ParameterStruct.h and ShareContainer.h

	* BufferView_pimpl.C: ParagraphParameter changes.
	* buffer.C: Likewise.
	* bufferview_funcs.C: Likewise.
	* text.C: Likewise.
	* text2.C: Likewise.
	
2001-03-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxfind.C (LyXReplace): do not redefine default argument in
	implementation. 
	(IsStringInText): ditto
	(SearchForward): ditto
	(SearchBackward): ditto

2001-03-06  Juergen Vigna  <jug@sad.it>

	* lyxfind.C (IsStringInText): put parentes around expressions.

2001-03-05  Edwin Leuven  <leuven@fee.uva.nl>

	* lyxfind.[Ch]: find stuff moved out of text2.C/lyxtext.h
	
2001-02-23  John Levon  <moz@compsoc.man.ac.uk>

	* lyx_main.C: add ISO_Left_Tab as bind synonym for Tab

	* stl_string_fwd.h: add comment

	* lyx_gui_misc.C: killed ALWAYS_CLOSE_MATH_PANELS

	* tabular.h:
	* tabular.C: remove unused DocBook methods

	* intl.C:
	* language.C:
	* paragraph.C:
	* buffer.C:
	killed DO_USE_DEFAULT_LANGUAGE

2001-03-01  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyx_gui.C: do not include language.h.

	* bufferview_funcs.C (ToggleAndShow): do not provide optional
	arguments in function implementation.

2001-02-28  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* BufferView_pimpl.C: add <ctime>

2001-02-27  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* BufferView_pimpl.C: add using std::find_if

2001-02-27  José Matos  <jamatos@fep.up.pt>
	
	* LaTeXFeatures.C (getIncludedFiles): call to BasePath replaced
	by OnlyPath.
	
2001-02-11  José Matos  <jamatos@fep.up.pt>

	* buffer.C (makeDocBookFile): command styles now have a parameter as
	"title" by default.

2001-02-23  Edwin Leuven <leuven@fee.uva.nl>

	* layout_forms.[Ch]: removed
	* lyx_cb.[Ch]: out character
	* lyx_gui.C: out character
	* lyx_gui_misc.C: out character
	* bufferview_funcs.C: : out character,
	added toggleall as parameter in ToggleAndShow
                   
2001-02-26  Dekel Tsur  <dekelts@tau.ac.il>

	* lyxfunc.C (getStatus): Fix the LFUN_EXPORT case.

	* text2.C (SetCurrentFont): Disable number property at boundary.

2001-02-26  Juergen Vigna  <jug@sad.it>

	* lyxfunc.C (getStatus): added a string argument override function so
	that this is correctly called from LyXFunc::Dispatch if it contains a
	do_not_use_argument which is used!
	(Dispatch): added check for "custom" export and call appropriate func.

2001-02-23  Dekel Tsur  <dekelts@tau.ac.il>

	* lyxrc.C: Add language_command_local, language_use_babel and
 	language_global_options.

	* lyxfont.C (latexWriteStartChanges): Use language_command_local.

	* buffer.C (makeLaTeXFile): Use language_use_babel and 
	language_global_options.

2001-02-23  Juergen Vigna  <jug@sad.it>

	* lyxfunc.C (Dispatch): removed the whole part of the switch statement
	which works with LyXText and putted it inside BufferView. Here now we
	only call for that part the BufferView::Dispatch() function.

	* BufferView.C (Dispatch): added.

	* BufferView_pimpl.C (Dispatch): added! Here are now all dispatch
	functions which needs to use a LyXText over from LyXFunc.
	(MenuInsertLyXFile): added
	(getInsetByCode): added
	(moveCursorUpdate): added
	(static TEXT): added

2001-02-22  Juergen Vigna  <jug@sad.it>

	* BufferView_pimpl.C (update): call a status update to see if LyXText
	needs it.

2001-02-20  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* vc-backend.C (revert): implement for CVS
	(getLog): implement for CVS

2001-02-20  Juergen Vigna  <jug@sad.it>

	* text2.C (ClearSelection): added BufferView param for inset_owner call

	* lyxfunc.C (TEXT): added this function and use it instead of
	directly owner->view()-text of getLyXText().

2001-02-20  Edwin Leuven <leuven@fee.uva.nl>

        * src/layout_forms.C: out preamble
        * src/layout_forms.h: out preamble
        * src/lyx_cb.C: out preamble
        * src/lyx_cb.h: out preamble
        * src/lyx_gui.C: out preamble
        * src/lyx_gui_misc.C: out preamble
        * src/lyxfunc.C: connect with guii preamble

2001-02-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* src/buffer.h: tiny clean-ups to allow compilation with DEC cxx.

2001-02-17  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (run): Do not use 'scanres & RERUN' when deciding
	whether to run bibtex.

2001-02-16  Dekel Tsur  <dekelts@tau.ac.il>

	* Makefile.am (lyx_SOURCES): Remove BackStack.h

2001-02-16  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* Makefile.am (lyx_SOURCES): removed bibforms.h

	* vspace.h: doxygen

	* text.C (GetVisibleRow): make several local vars const

	* tabular.C: small cleanup.

	* lyxserver.C (callback): use compare instead of strncmp

	* lyxparagraph.h: remove all code dep. on HAVE_ROPE, move inclass
	inlines to after class or to paragraph.C

	* lyxfont.h: remove friend operator!=

	* converter.h: move friend bool operator< to non friend and after
	class def.

	* combox.h: small cleanup

	* buffer.h: doxygen, remove unused constructor, move inclas inlies
	to inlines after class def.

	* buffer.C (pop_tag): use string operations instead of strcmp

	* bmtable.c: doxygen, small cleanup

	* LaTeX.h: remove friend operator==

2001-02-14  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* screen.C: 
	* lyxrc.[Ch]:
	* lyxfunc.C: 
	* lyxfont.[Ch]: 
	* lyx_cb.C: 
	* intl.[Ch]: 
	* commandtags.h: 
	* buffer.C: 
	* WorkArea.[Ch]: 
	* LyXAction.C: 
	* BufferView_pimpl.C:
	* BufferView.[Ch]: remove cruft

2001-02-14  Juergen Vigna  <jug@sad.it>

	* lyxfunc.C: removed #if 0 unused code

	* lyxfunc.C (Dispatch): make LFUN_QUOTE work for InsetText.

	* BufferView_pimpl.C (update): set updatestatus of inset if needed.

	* text2.C (SetSelection): added a BufferView * parameter

2001-02-13  Juergen Vigna  <jug@sad.it>

	* lyxfunc.C (Dispatch): fixed protected blank problem.
	* BufferView2.C (protectedBlank): added LyxText * parameter.

	* tabular.C (AppendRow): forgot to set row_info of newly added row.
	(AppendColumn): same as above for column_info.

	* lyxfunc.C (Dispatch): supported some more functions in InsetText.
	(moveCursorUpdate): use a LyXText param for support of InsetText.

	* BufferView_pimpl.C (doubleClick): added support for InsetText.
	(tripleClick): ditto

	* lyxfunc.C (LFUN_APPENDIX): changed to use "text" pointer.

	* BufferView_pimpl.C (update): added LyXText param to honor insets.

	* bufferview_funcs.C (ToggleAndShow): fixed for text in insets.

	* text2.C (SetSelection): set correct update status if inset_owner
	(ToggleFree): ditto

2001-02-12  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* tabular.C: remove some commented code.

2001-02-12  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView_pimpl.C: call hideSplash()

	* LyXAction.C: make buffer-child-insert use LFUN_CHILD_CREATE

	* include_form.h:
	* bibforms.h: remove

	* lyxfunc.C:
	* src/commandtags.h: LFUN_CHILDINSERT -> LFUN_CHILD_INSERT,
	  add LFUN_CHILD_CREATE

	* counters.h: fix tiny typo
	
	* lyx_cb.C:
	* lyx.h:
	* lyx_gui.C:
	* lyx.C: move splash to frontends/xforms/

	* lyx_gui_misc.C: move Include and Bibform to frontends

	* lyxvc.h: clarify comment

	* vspace.C: tiny housekeeping

2001-02-10  Dekel Tsur  <dekelts@tau.ac.il>

	* text.C (PrepareToPrint): RTL Fix.

	* paragraph.C (GetUChar): New method.
	(String):  Use GetUChar.

	* buffer.C (asciiParagraph): Use GetUChar.

2001-02-09  Dekel Tsur  <dekelts@tau.ac.il>

	* text.C (GetVisibleRow): Fix selection drawing for RTL text in tables.

2001-02-09  John Levon  <moz@compsoc.man.ac.uk>

	* buffer.h:
	* buffer.C: rename to getLogName(), handle
	  build log / latex log nicely

2001-02-09  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* MenuBackend.C: 
	* MenuBackend.h: remove support for reference menuitem type.

2001-02-07  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView_pimpl.C: housekeeping
	* BufferView_pimpl.h:
	* LyXView.h:
	* Makefile.am:
	* Timeout.C:
	* Timeout.h:
	* minibuffer.h: move Timeout GUI-I
                          
2001-02-07  Dekel Tsur  <dekelts@tau.ac.il>

	* lyxrc.C (read): Update converters data-structures.

2001-02-07  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* LaTeX.h (operator!=): add operator != for Aux_Info 

2001-02-06  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am: remove LaTeXLog.C, log_form.[Ch]

	* LaTeXLog.C: deleted, useful code moved to Buffer

	* buffer.h:
	* buffer.C: new function getLatexLogName()

	* lyx_gui_misc.C:
	* lyx_gui.C:
	* lyxvc.C:
	* lyxvc.h:
	* lyxfunc.C: use frontends for LaTeX and VC logs

2001-02-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LaTeX.h: yet another std:: that Allan forgot.

	* Variables.C (set): renamed from isset(), because this clashes
	with some HP-UX macros (grr).

2001-02-06  Allan Rae  <rae@lyx.org>

	* LaTeX.h: Another bug fix.  Missing std:: this time.

2001-02-04  Allan Rae  <rae@lyx.org>

	* paragraph.C (TeXOnePar): Partial fix for the '\n' generation in
	floats problem. I've left it commented out because it's not quite
	correct.  It should also test that the current object is a table or
	figure inset.  But I haven't gotten around to figuring out how to do
	that.  I *think* it'll be something like: "table" == inset.type()

	* LaTeX.h (operator==): Aux_Info should have a friend that returns a
	bool.

2001-02-02  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (scanAuxFile): A rewrite of this method. It now returns
	all the citation/databases/styles in the auxilary file. 
	(run): Rerun latex if there was a babel language error.

2001-02-01  Dekel Tsur  <dekelts@tau.ac.il>

	* text.C (Backspace): Preserve the font when changing newline char
	with a space.
	(BreakParagraph): If the cursor is before a space, delete the space.

	* lyx_cb.C (QuitLyX): Do not save files when running with no gui.

2001-01-31  Dekel Tsur  <dekelts@tau.ac.il>

	* BufferView2.C (ChangeInsets): Renamed from ChangeRefs. Accept a
	new argument (code).
	(ChangeCitationsIfUnique): New method.

	* paragraph.C (GetPositionOfInset): Handle bibkey.

2001-01-29  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* BufferView_pimpl.h: change type of Position::par_pos to
	LyXParagraph::size_type. 

2001-01-29  Dekel Tsur  <dekelts@tau.ac.il>

	* BufferView_pimpl.C (savePosition, restorePosition): Write
	messages to minibuffer.

2001-01-28  José Matos  <jamatos@fep.up.pt>

	* buffer.C (makeDocBookFile): adds support for document language.
	A silly restriction on the name of LatexCommand types where removed.
	Added support for CDATA sections, allows to chars unescaped, used
	among others in code, to avoid escape < and >.
	
2001-01-27  Dekel Tsur  <dekelts@tau.ac.il>

	* BufferView_pimpl.C (savePosition, restorePosition): Use a vector of 
	saved positions instrad of a stack. Furthermore, a position is
	stored using paragraph id/paragraph position.

	* commandtags.h: Add LFUN_BOOKMARK_SAVE and LFUN_BOOKMARK_GOTO.
	Remove LFUN_REF_BACK.

2001-01-27  Dekel Tsur  <dekelts@tau.ac.il>

	* converter.C (dvipdfm_options): New method.

2001-01-26  Dekel Tsur  <dekelts@tau.ac.il>

	* vspace.C (isValidLength): Fix for empty input string.

2001-01-26  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LyXAction.C (init): change description of LFUN_FIGURE to
	"Insert Graphics"

2001-01-25  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* LaTeX.C: add using directive

2001-01-24  Dekel Tsur  <dekelts@tau.ac.il>

	* MenuBackend.C (expand): Fix the sorting of the formats.

2001-01-24  John Levon  <moz@compsoc.man.ac.uk>

	* lyx_main.C: tiny error message fix

2001-01-24  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyx_gui.C (LyXGUI): force the LC_NUMERIC locale to "C" after
	calling fl_initialize(). This fixes the problem with ',' as
	decimal separator in text files.

2001-01-24  Dekel Tsur  <dekelts@tau.ac.il>

	* trans.C (process): Fix the keymap bug.

2001-01-23  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (scanAuxFiles): New method. Provides support for
	multiple bibliographies (when using the bibtopic/bibunits pacakges).
	(scanLogFile) Scan for "run BibTeX" messages.

	* buffer.C (makeLaTeXFile): Do not load the ae package when using
	OT1 font encoding. Also, load the aecompl package if the ae
	package is loaded.

	* tex-strings.C: Add "ae" to tex_fonts[] (from Matej Cepl).

2001-01-22  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* texrow.C (increasePos): turn two error messages into debug
	messages. 

2001-01-20  Dekel Tsur  <dekelts@tau.ac.il>

	* LaTeX.C (scanAux): Handle the \@input macro.
	(runBibTeX): Use scanAux().

	* language.C (latex_options_): New field.

	* LaTeXFeatures.C (getMacros): Add language macros.

	* buffer.C (makeLaTeXFile): Small fix.

2001-01-19  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* lyxfunc.C: fix the name of the inset for LFUN_CHILDINSERT

	* text2.C: add a using directive.

2000-01-17  John Levon  <moz@compsoc.man.ac.uk>

	* BufferView2.C:
	* lyx_gui_misc.h:
	* lyxfr1.C:
	* lyxfunc.C: kill LyXBell.

2001-01-17  Dekel Tsur  <dekelts@tau.ac.il>

	* text.C (IsBoundary): Remove the error message
	
	* WorkArea.C (work_area_handler): Decrease keyboard purge threshold.

	* lyxrc.C (setDefaults): Correct initialization value for
 	font_norm_type.

2001-01-15  Dekel Tsur  <dekelts@tau.ac.il>

	* BufferView2.C (gotoInset): New method. Replaces gotoNote() and
	gotoError().

	* text2.C (GotoNextInset): New method. Replaces GotoNextError()
	and GotoNextNote().

	* src/LyXAction.C: Added reference-next.

	* text.C (InsertChar): Use contains instead of strchr.

	* lyx_cb.C (MenuInsertLabel): Enable default value code.

2001-01-13  Dekel Tsur  <dekelts@tau.ac.il>

	* paragraph.C (SimpleTeXOnePar) Put \protect before paragraph
	alignment commands (when needed).

	* text.C (InsertChar): Add ':' to number separator chars.
