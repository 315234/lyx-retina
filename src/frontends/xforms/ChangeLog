2002-01-13  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* FormFiledialog.C (Reread): skip broken symlinks

2002-01-13  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormMathsMatrix.C (AlignFilter): use std::count and add some
	comments.

2002-01-13  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* MathsSymbols.C (get_pixmap_from_symbol): add a default statement
	in the switch.

	* FormPreferences.C (Interface::input): 
	(Language::input): 
	(Paths::input): add shortcuts to file dialogs directory buttons
	
	* FormPreference.h (browse): add default empty parameters for
	buttons descriptions.

	* FormFiledialog.C (SetButton): allow for a shortcut in the name
	of the button.

2002-01-13  John Levon  <moz@compsoc.man.ac.uk>

	* FormThesaurus.C:
	* FormThesaurus.h:
	* form_thesaurus.h:
	* form_thesaurus.C:
	* forms/form_thesaurus.fd: update to Aiksaurus 0.14
 
2002-01-12  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* Toolbar_pimpl.C (setPixmap): simplify a bit

2002-01-10  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* Toolbar_pimpl.C (ToolbarCB): 
	* Menubar_pimpl.C (MenuCallback): use verboseDispatch instead of
	dispatch.

2002-01-12  Allan Rae  <rae@lyx.org>

	* FormTabular.C (FormTabular): Fix Purify UMR.

	* FormPreferences.C (build): "Conversion" is a better name. 

2002-01-10  Martin Vermeer  <martin.vermeer@hut.fi>

	* FormMathsPanel.[Ch] (dispatchFunc): new method. Invokes
	LyXFunc::dispatch.

	* FormMathsStyle.C (apply): use LFUNs to apply, not insertSymbol.

2002-01-10  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C:
	* forms/form_preferences.fd: change names and descriptions of popup
	font variables to reflect their actual use.

	* Menubar_pimpl.C: return MENU_LABEL_STYLE to FL_NORMAL_STYLE.

2002-01-10  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* FormPreferences.C (input): allow empty values for document_path
	and template_path.

	* FormFiledialog.C (SetButton):
	(FileDlgCB): do not disable directory buttons if they have an
	empty path.
	(SetDirectory): if the argument is an empty string, change to
	cwd().

2002-01-09  Martin Vermeer <martin.vermeer@hut.fi>

	* forms/form_maths_style.fd:
	* FormMathsStyle.[Ch]: New files, Implementing a mathed pop-up for math 
	size "styles" and font types.
	* FormMathsPanel.[Ch]:
	* MathsSymbols.C:
	* forms/form_maths_panel.fd: Modified too.

2002-01-08  Martin Vermeer  <martin.vermeer@hut.fi>

	* Menubar_pimpl.C (create_submenu): 
	* Toolbar_pimpl.C (update): use FuncStatus.

2002-01-08  Angus Leeming  <a.leeming@ic.ac.uk>

	* xform_helpers.[Ch] (getStringFromBrowser): a littel wrapper function
	for fl_get_browser_line that is guaranteed to return a valid string.

2002-01-08  John Levon  <moz@compsoc.man.ac.uk>

	* FormSpellchecker.C: fix possible crash on clicking a suggestion

2002-01-08  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_document.fd (bullets): fix small cosmetic problem after
	John's radio2button change.

2002-01-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C:
	* forms/form_document.fd: change the labels and variable names of
	left_margin, right_margin to inner_margin, outer_margin, in line
	with bugzilla bug #157.

	* FormFiledialog.C (Reread): used locally stored modtime variable
	rather than make repeated calls to fileInfo.getModificationTime().

	* xforms_helpers.C (ReadableFile, WriteableFile): added a couple of
	isOK() checks to the use of the FileInfo instance and removed those
	FIXMEs.

	* Menubar_pimpl.C: added a variable MENU_LABEL_STYLE and use it.
	Set it to FL_BOLD_STYLE, thereby fixing bugzilla bug #32.

2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* form_*:
	* forms/form_*: change radio buttons to round3dbutton
 
2002-01-05  John Levon  <moz@compsoc.man.ac.uk>

	* FormFiledialog.C: add FIXME
 
	* xforms_helpers.C: fix use of FileInfo
 
2002-01-07  John Levon  <moz@compsoc.man.ac.uk>

	* FormTabular.h:
	* FormTabular.C:
	* form_tabular.h:
	* form_tabular.C:
	* forms/form_tabular.fd: ugly fix to get around
	  some of the UI problems (bug #110).
 
2002-01-04  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* FormDocument.C: Recognize the default paper settings too
	when setting the default length values (cm or inch).
	* FormParagraph.C: do the same.

2001-12-11  Michael A. Koziarski <michael@koziarski.org>

	* FormFloat.C: changes to prevent here definitely being used
	with wide figures.

2001-12-29  Dekel Tsur  <dekelts@tau.ac.il>

	* FormMathsMatrix.C (AlignFilter): Allow entering the '|' char.

2001-12-19  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* DropDown.C: always include <config.h> in sources.

	* xforms_helpers.h: 
	* FormFiledialog.h: 
	* Timeout_pimpl.h: 
	* DropDown.h: do not include <config.h> in headers

2001-12-20  Juergen Vigna  <jug@sad.it>

	* FormTabular.C (update): final LT-h/f support modifications.

2001-12-19  Juergen Vigna  <jug@sad.it>

	* FormTabular.C (update): change a bit the tabular layout and added
	better longtable options handling.

2001-12-15  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormToc.C: using std::endl

2001-12-14  John Levon  <moz@compsoc.man.ac.uk>

	* FormToc.C: fix crash when no entries, and
	  update types properly
 
2001-12-11  Ben Stanley <bds02@uow.edu.au>

	* Menubar_pimpl.C: Fixed a crashing bug when document has more
	than 80 floats and using xforms 0.88

2001-12-11  Jean-Marc Lasgouttes  <lasgouttes@freesurf.fr>

	* xforms_helpers.C: include lyxlength.h here
	* xforms_helpers.h: ... but not here

	* FormTabular.C: use LyXLength instead of string wherever
	necessary; whitespace changes.

2001-12-08  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_preferences.fd: use the same name for font sizes
	than the character dialog.

2001-11-26  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_search.fd: Added label text to search buttons
	(to make the shortcuts visible).

2001-12-05  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: set combo box correctly for VSpace::LENGTH

2001-12-05  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormFiledialog.C:
	* xforms_helpers.C: change "while(" to "while ("

2001-12-05  Allan Rae  <rae@lyx.org>

	* FormParagraph.C (apply): One other LyXText fix.

2001-12-05  John Levon  <moz@compsoc.man.ac.uk>

       * FormParagraph.C (getCurrentParagraph): 
	(apply):  get the right LyXText !
 
2001-11-29  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: disallow page breaks in insets
 
2001-11-23  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: allow signed space above/below, actually
	  use space below units

2001-11-04  John Levon  <moz@compsoc.man.ac.uk>

	* FormToc.C: fixes to make floatlists work
 
2001-11-23  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* Alert_pimpl.C: Alert etc.

	* xforms_helpers.h:
	* xforms_helpers.C:
	* forms/fdfix.sh: move idex etc. to here

	* GUIRunTime.C: move getScreenDPI() to here
 
2001-11-20  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

       * forms/form_ref.fd, form_preferences.fd, form_citation.fd,
       form_graphics.fd, form_paragraph.fd: Enlarged the Restore button
       to 100p (now German translation fits in).
       * forms/form_external.fd, form_bibtex.fd, form_print.fd,
       form_preferences.fd, form_graphics.fd, form.include.fd,
       form-external.fd:
       Unified label "Browse..." and unified its width to 100p.

2001-11-13  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

       * forms/form_graphics.fd: fixed shortcut clash
       * forms/form-external.fd: added shortcut for "Apply"

2001-11-12  John Levon  <moz@compsoc.man.ac.uk>

	* FormFiledialog.C: don't reset path if new dir
	  doesn't exist.
 
2001-11-12  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

       * forms/form_document.fd: Renamed "Save as Class Defaults"
       to "Save as Document Defaults"
       * FormDocument.C:
       Removed the setEnabled-Definitions for the
       "save_default"-Button since it causes nothing but trouble.
       Changed the text of AskQuestion on saveParamsAsDefault.

2001-11-07  John Levon  <moz@compsoc.man.ac.uk>

	* DropDown.C: fix crash, improve behaviour a bit
 
2001-11-07  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* FormDocument.C (class_apply): 
	(paper_apply): 
	(language_apply): 
	(options_apply): 
	(bullets_apply): add a version of these methods taking a
	BufferParams& parameters. The original versions are now wrappers
	around these. 
	(saveParamsAsDefault): new function, moved from old
	LFUN_LAYOUT_SAVE_DEFAULT code.

2001-11-03  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* DropDown.h:
	* DropDown.C: drop-down completion
 
2001-11-04  John Levon  <moz@compsoc.man.ac.uk>

	* forms/form_graphics.fd: change clashing shortcut
 
2001-10-24  Juergen Vigna  <jug@sad.it>

	* FormTabular.C: changed calls for footer/headers of longtabulars.

2001-10-23  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_tabular.fd: Add value choices
	* FormTabular.C: Handle that choices

	* FormDocument.C: fix small bug.

2001-10-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormGraphics.[Ch]: move some parameters out of the heaader file and
	into namespace anon.

	* FormPreferences.C:
	* forms/form_preferences.fd: replaced button_colorspace with two
	radio buttons, button_hsv and button_rgb.

2001-10-19  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

       * forms/form_document.fd:
         Class: add a value choice for Default Skip.
         Some rearrangements (minor tweaks).
       * FormDocument.C: Handle that choice, minor tweaks.
       * forms/form_paragraph.fd: Add value choices
       * FormParagraph.C: Handle that choices.
       * FormMinipage.C/FormGraphics.C: Small tweaks.

2001-10-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C: fixed some bugs in the Paper tab.

	* xforms_helpers.[Ch] (updateWidgetsFromLengthString): add argument
	specifying default unit for choice if input string is empty.

2001-10-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C (input): one more tweak...

2001-10-10  Herbert Voss  <voss@perce.de>

	* FormTexinfo.[Ch]: some changes to the code

2001-10-10  André Pönitz  <poenitz@htwm.de>
	
	* FormsMathMatrix.C: add missing space between v- and h-alignment
	parameters

2001-10-09  Herbert Voss  <voss@perce.de>

	* FormTexinfo.[Ch]:
	* forms/form_texinfo.fd: new files. Display information about the
	installed texfiles (cls,sty,bst).

	* FormShowFile.[Ch]: new files. Display the contents of a file.

	* Dialog.C:
	* Makefile.am: modified appropriately.

2001-10-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* xforms_helpers.[Ch] (getLengthFromWidgets): new function.
	Given input and choice widgets, create a string such as "1cm".
	(updateWidgetsFromLengthString): new function.
	Given a string such as "1cm", set the input and choice widgets.

	* FormDocument.C:
	* forms/form_document.fd: improve the GUI of the paper tab using these
	new helper functions.

2001-10-07  Adrien Rebollo  <adrien.rebollo@gmx.fr>

	* FormDocument.C (build): support latin4

2001-10-05  Adrien Rebollo  <adrien.rebollo@gmx.fr>

	* FormDocument.C (build): support latin3

2001-10-04  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* forms/form_aboutlyx.fd: use flat boxes for tabs.

2001-10-03  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_document.fd: rearrangement of the paper tab;
	rename "use geometry" to "custom margins/sizes".

	* FormDocument.C: add code to avoid the input of senseless data
	in document -> paper.

2001-10-01  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* FormDocument.C: Disable choice "Special" if landscape
	is chosen to prevent senseless values.

2001-09-28  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_preferences.fd: small tweaks.

2001-09-24  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_document.fd: Removed "Auto Reset", renamed the "Reset"
	button to "Use Class Defaults" and moved it outside the tab.
	Some more minor tweaking.

	* FormDocument.C: handled this changes.

2001-09-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* Dialogs.C: remove splash dialog code.

	* FormSplash.[Ch]:
	* form_splash.[Ch]:
	* forms/form_splash.fd: removed.

	* Makefile.am:
	* forms/makefile: remove splash dialog files.

	* Menubar_pimpl.C (MenuCallback): no longer call
	Dialogs::destroySplash.

2001-09-27  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* forms/form_preferences.fd: fix typo

2001-09-24  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormRef.C:
	* forms/form_ref.fd: renamed the widgets in the standard style.

	* xforms_helpers.[Ch] (getVectorFromChoice, getVectorFromBrowser): new
	helper functions. Build a vector<string> from the contents of
	an fl_choice and fl_browser respectively.

	* FormCitation.C (fillChoice, updateBrowser):
	* FormRef.C: use these new functions to only update the choices and
	browsers when absolutely necessary.

2001-09-24  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.C (InputCB):
	* FormBaseDeprecated.C (InputCB): generalised Dekel's fix to the
	"select choice < 1" problem.

	* FormRef.C (input): undid Dekel's change in light of the above
	generalisation.

2001-09-21  Dekel Tsur  <dekelts@tau.ac.il>

	* FormRef.C (input): Fix crash when using dialog with keyboard.

2001-09-20  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_document.fd: small tweaks.

2001-09-19  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_document.fd: Added checkbox "auto_reset", button
	"reset_defaults" and button "save_defaults".

	* Form_Document.[Ch]: Removed AskQuestion when changing class.
	Implement the 2 buttons and the checkbox described above.

	* forms/form_preferences.fd: Added checkbox "auto_reset" (to
	save the default value of that lyxrc)

	* FormPreferences.C: Handle that button

2001-09-18  Angus Leeming  <a.leeming@ic.ac.uk>

	* form_ref.fd: a little tweaking.

	* FormSpellchecker.C (build): set the bounds to the slider, so it
	updates during a spellchecking session.

2001-09-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/form_preferences.fd: rearrangement and addition of new
	Display Graphics radio buttons to Look & Feel->Misc
	(By Jürgen Spitzmüller).

	* FormPreferences.C: modify new lyxrc variable "display_graphics"
	depending on the values of the Display Graphics radio buttons.

	* FormGraphics.C: use this variable.

2001-09-13  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMathsBitmap.[Ch]: add d-tor to finally fix a memory leak.
	Hoorah! Happy Birthday to me!

2001-09-07  Dekel Tsur  <dekelts@tau.ac.il>

	* forms/form_ref.fd: Add buffer button.

	* FormRef.C (update): Handle the buffer button.
	(input): Ditto

2001-09-13  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_graphics.fd: complete rewrite of the dialog
	(Most work was done by Angus, though).

2001-09-12  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* combox.C (hide): execute the callback _after_ closing the
	combox.

2001-09-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C (c-tor): initialise some variables.

	* forms/form_citation.fd: remove spurious shortcut to a labelframe!
	(Thereby removing a warning message when the dialog is built.)

	* FormFloat.C (input): return SMI_VALID.

2001-09-11  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C (input, options_update): add code to enable the
	Author-Year/Numerical citation choice only if the natbib checkbox is
	active.

	* FormFloat.[Ch]: added new method input() to control the behaviour of
	the buttons better.
	* forms/form_float.fd: renamed Here as button_here_definitely.

	* FormGraphics.C:
	* forms/form_graphics.fd: add callbacks to a few widgets that didn't
	have them, so enabling the Ok, Apply buttons appropriately.

2001-09-08  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_paragraph.fd: cosmetics (renamed "Label Width" to "Longest
	Label", added a labelframe).

2001-09-10  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* Toolbar_pimpl.C (C_Toolbar_BubblePost): fix linking
	(C_Toolbar_BubbleTimerCB): fix linking

	* FormMathsBitmap.C (form): use get() to get the raw pointer.

	* FormMathsBitmap.h: use shared_c_ptr for form_ as well.

2001-09-09  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* combox.C (C_Combox_input_cb): make it static
	(C_Combox_combo_cb): make it static
	(C_Combox_peek_event): make it static

	* Toolbar_pimpl.C (C_Toolbar_BubbleTimerCB): make it static
	(C_Toolbar_BubblePost): make it static
	(C_Toolbar_ToolbarCB): make it static

	* Timeout_pimpl.C (C_intern_timeout_cb): make it static

	* Menubar_pimpl.C (C_Menubar_Pimpl_MenuCallback): make it static

	* Makefile.am (libxforms_la_LIBADD): add this and depend on the
	gui libs

2001-09-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBaseDeprecated.[Ch]: use the same allow_resize methodology as has
	been used successfully in FormBase.
	(show): call bc().refresh() after building the dialog to activate the
	button controller.

	* FormPreferences.C (build): remove hack to fix butoon controller as
	the correct fix is in FormBaseDeprecated.

	* FormPreferences.[Ch] (connect, disconnect): removed (redundant).

	* FormMaths*.C (c-tor): prohibit resizing of the dialog.
	
2001-09-07  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* Toolbar_pimpl.C (setLayout): 
	(layoutSelected): make them work even when gettext has been
	translating the interface.

2001-09-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMathsSpace.C: Fix bug: the "Maths spacing" dialog is broken
	("Apply" does not work without former user change in the dialog).

	* FormPreferences.C (build): Fix bug: if you start LyX and open the
	Preferences dialog, "Apply" is activated even though no change has been
	made so far.

2001-09-07  Rob Lahaye  <lahaye@users.sourceforge.net>

	* FormBase.C (show): use controller_.IconifyWithMain() to control
	the dialog's show policy

	* FormBaseDeprecated.C (show): ditto, but use lyxrc variable directly.

	* FormPreferences.C:
	* forms/form_preferences.fd: add a check_dialogs_iconify_with_main
	check button to the Look & Feel->Misc tab and code to modify the lyxrc
	variable dialogs_iconify_with_main appropriately.

2001-09-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.h: clean-up comments. Remove mutable status of minw_, minh_.

2001-09-06  Jürgen Spitzmüller  <j.spitzmueller@gmx.de>

	* forms/form_character.fd: small cosmetics (aligned "Language:" right
	as suggested in Michael's Buglist).

2001-09-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* Toolbar_pimpl.C (updateLayoutList): do not display obsolete
	layouts
	(layoutSelected): remove the numeric argument and use the text of
	the combox entry instead.

	* combox.C: lowercase a few remaining methods, rename select_text
	to select
	* several files: propagate these changes

2001-09-03  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C: add fl_set_input_return to input_paperoption.

2001-09-02  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: fix default line spacing case
 
2001-08-31  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: disable space inputs when != Length

2001-08-31  John Levon  <moz@compsoc.man.ac.uk>

	* FormPreferences.C:
	* form_preferences.h:
	* form_preferences.C:
	* forms/form_preferences.fd: add view_dvi_paper_option
 
2001-08-31  John Levon  <moz@compsoc.man.ac.uk>

	* FormMathsPanel.h: sub dialogs must be Ignorant.
 
2001-08-31  John Levon  <moz@compsoc.man.ac.uk>

	* FormParagraph.C: fix to not allow 0 linespacing
 
2001-08-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C (c-tor): prevent re-sizing of the dialog.

	* FormParagraph.C (input): set fl_get_choice check for the linespacing
	to 5 not 4. xforms arrays start at 1.

2001-08-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormParagraph.[Ch]:
	* forms/form_paragraph.fd: clean up of dialog and of controlling
	code.

2001-08-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.C (C_CutandPastePH): new function that can be used as a
	pre-handler to any xforms text input widget. Will trigger an event on
	pasting into the widget using the middle mouse button.

	* FormPreamble.C (build): use this pre-handler for the input widget.

2001-08-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C:
	* forms/form_citation.fd: a little tweaking to ensure that the
	style choice remains centred within the frame if its contents change.

	* FormBase.h: added an allow_resize_ member variable. If false
	resizing the dialog is prohibitted.

	* FormBase.[Ch]:
	* FormBrowser.[Ch]: modify c-tors to pass this new variable to FormBase.

	* FormAboutlyx.C:
	* FormCharacter.C:
	* FormThesaurus.C:
	make use of this functionality to ensure that the dialog cannot be
	resized.

2001-08-27  John Levon  <moz@compsoc.man.ac.uk>

	* GUIRunTime.C: initApplication() should take a int & argc
 
2001-08-24  John Levon  <moz@compsoc.man.ac.uk>

	* FormCitation.h:
	* FormCitation.C: tidy code a little
 
	* GUIRunTime.C: more informative error
 
2001-08-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/form_preferences.fd: order the items "logically" so that
	tabbing through the dialog makes sense. Close bug #404569.

2001-08-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C: Tentative fix of John's "no point in spell
	command "None"" bug, #223255.

2001-08-23  Herbert Voss  <voss@perce.de>

	* FormBibtex.C (input): normalize database list

2001-08-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBibtex.C: make sure that any database is stored only once.

2001-08-22  Herbert Voss  <voss@perce.de>

	* FormBibtex.C (input): fix for multiple databases

2001-08-21  Herbert Voss  <voss@perce.de>

	* FormBibtex.C (input): extension handling for ".bst"

2001-08-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/form_bibtex.fd: activate "Ok" when the "Add bibliography to TOC"
	check button is pressed.

2001-08-20  Dekel Tsur  <dekelts@tau.ac.il>

	* FormParagraph.C (general_apply): Handle default spacing.
	(general_update): Ditto.

2001-08-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBibtex.C:
	* forms/form_bibtex.fd: get the browse buttons working as they should.

2001-08-20  Herbert Voss  <voss@perce.de>

	* FormBibtex.C:
	* forms/form_bibtex.fd: enhanced bibtex-data gui to browse for
	databases and styles. Added an option for "bibliography into toc"

2001-08-18  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormMathsBitmap.h: use the lyx::shared_c_ptr that uses free() to
	cleanup.

2001-08-15  John Levon  <moz@compsoc.man.ac.uk>

	* combox.h: fix source doc

	* form_math_matrix.C: 
	* forms/form_math_matrix.fd: new layout
 
2001-08-16  John Levon  <moz@compsoc.man.ac.uk>

	* form_paragraph.h:
	* form_paragraph.C:
	* forms/form_paragraph.fd:
	* FormParagraph.C: support per-para linespacing
 
	* forms/form_float.fd:
	* form_float.C: fix shortcut typo
 
2001-08-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/form_character.fd: small adjustment to the position of John's
	extra Language label.

2001-08-09  André Pönitz  <poenitz@htwm.de>

	* FormMathsDelim.C: renamed some delimiter parameters.

2001-08-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C (build):
	* FormDocument.C (build):
	* FormMinipage.C (build):
	* FormParagraph.C (build):
	* FormRef.C (build): added stuff to read-only list in the
	button controller.

	* FormCitation.C (update): disable citation style stuff when not using
	Natbib.

2001-08-06  Juergen Vigna  <jug@sad.it>

	* forms/form_ert.fd: new file.

	* form_ert.[Ch]: new files.

	* FormERT.[Ch]: new files. Implementation of ERT dialog.

2001-08-01  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C (Color c-tor): initialise modifiedXformsPrefs.

2001-07-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* GUIRunTime.C (processEvents, runTime): small code rearrangement.

2001-08-01  John Levon  <moz@compsoc.man.ac.uk>

	* FormMathsPanel.C:
	* FormMathsPanel.h:
	* form_maths_panel.C:
	* form_maths_panel.h:
	* forms/form_maths_panel.fd: re-add dots bitmaps
	 
	* FormRef.C: "Goto" -> "Go to"

2001-07-29  John Levon  <moz@compsoc.man.ac.uk>

	* FormMathsBitmap.C: initialise form_

2001-07-29  Baruch Even  <baruch@lyx.org>

	* src/forms/form_graphics.fd:
	* src/FormGraphics.C: Added support for the new horizontal scale factor.

2001-07-30  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* forms/makefile (SRCS): add form_float.fd

	* forms/form_float.fd: new file

	* form_float.[Ch]: new files

	* Makefile.am (libxforms_la_SOURCES): add FormFloat.C,
	FormFloat.h, form_float.C and form_float.h

	* FormFloat.[Ch]: new files

	* Dialogs.C: init GUIFloat is well

2001-07-29  Asger Alstrup Nielsen  <alstrup@alstrup>

	* FormToc.C (updateType): Fix problem with TOC that couldn't be
	updated because the type list was not updated.

2001-07-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/form_aboutlyx.fd: made a bit bigger to get the Copyright &
	Version stuff in.

	* input_validators.[Ch] (fl_int_filter, fl_float_filter): new methods.

	* FormGraphics.C (build): uncommented the fl_set_input_return call for
	input_rotate_angle. Set input filter on rotate_angle to make it accept
	only floating point numbers.
	(input): Browse now activates the Ok button approriately.

2001-07-26  John Levon  <moz@compsoc.man.ac.uk>

	* Dialogs.C:
	* Makefile.am:
	* FormThesaurus.h:
	* FormThesaurus.C:
	* form_thesaurus.h:
	* form_thesaurus.C:
	* forms/makefile:
	* forms/form_thesaurus.fd: add thesaurus

2001-07-26  Baruch Even  <baruch@lyx.org>

	* FormGraphics.h:
	* FormGraphics.C: Removed hide method since it was interfering with the
	needed work, it cleared several vectors that were needed for proper
	functioning. Also changed rotateAngle to float.

	* FormGraphics.C:
	* forms/form_graphics.fd: Removed inline option, all InsetGraphics figures
	are inlined.
	
2001-07-23  John Levon  <moz@compsoc.man.ac.uk>

	* FormInclude.C: add load file facility back
 
2001-07-23  John Levon  <moz@compsoc.man.ac.uk>

	* FormCharacter.C: disable resizing as it doesn't work

	* FormPreamble.C: allow to copy-paste from RO preamble by
	  enabling editing.

2001-07-20  Jürgen Spitzmüller  <juergen.sp@t-online.de>

	* forms/form_citation.fd: resized form to fit on a 800x600 screen.

2001-07-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.[Ch]: changes associated with adding natbib support.
	New helper functions, string_width, fillChoice, updateStyle.
	(apply): set the citation command appropriately.
	(input): deal with the citation command choices.
	(update): parse the citation command and deal with it. Nuke the
	setSize stuff.
	(setSize): nuked!

	* FormDocument.C (build): add options to use natbib.

	* forms/form_citation.fd: add natbib support. Rearrange dialog to
	fit onto shorter screens.

	* forms/form_document.fd: add natbib support.

2001-07-16  Juergen Vigna  <jug@sad.it>

	* form_aboutlyx.C: set default for "Close" button to "ESC"-key.

2001-07-13  Angus Leeming  <a.leeming@ic.ac.uk>

	Consistent use of Lsstream.h:
	* FormAboutlyx.C (build):
	* FormVCLog.C (update): std::ostringstream -> ostringstream.

	* FormMathsDelim.C (apply):
	* FormMathsMatrix.C (apply): std::stringstream -> stringstream.

2001-07-13  Edwin Leuven  <leuven@fee.uva.nl>

	* implement 1 about lyx dialog instead of 3 separate ones

	* FormCredits.[Ch]: removed
	* FormCopyright.[Ch]: removed
	* form_credits.[Ch]: removed
	* forms/form_credits.fd: removed
	* form_copyright.[Ch]: removed
	* forms/form_copyright.fd: removed
	* FormAboutlyx.[Ch]: added
	* form_aboutlyx.[Ch]: added
	* forms/form_aboutlyx.fd: added
	* Dialogs.C: add about lyx stuff

2001-07-13  Edwin Leuven  <leuven@fee.uva.nl>

	* add spellchecker

	* FormPreferences.[Ch]: rename spellchecker to spelloptions
	* form_preferences.[Ch]: idem
	* forms/form_preferences.fd: idem
	* FormSpellchecker.[Ch]: added
	* form_spellchecker.[Ch]: added
	* forms/form_spellchecker.fd: added
	* Dialogs.C: add spellchecker

2001-07-12  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormFiledialog.C: (*it). -> it->
	* Toolbar_pimpl.C: ditto
	* RadioButtonGroup.C: ditto
	* FormPreferences.C: ditto

2001-07-03  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* GUIRunTime.C (x11Display): 
	(x11Screen): 
	(x11Colormap): 
	(x11VisualDepth): new methods

2001-07-03  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormDocument.C (class_apply): call CutAndPaste::'s staitc method
	directly. 

	* Toolbar_pimpl.h: make owner be a XFormsView, small changes
	because of this.

	* GUIRunTime.C (createMainView): implement

2001-06-22  John Levon  <moz@compsoc.man.ac.uk>

	* FormCharacter.C:
	* form_character.C:
	* forms/form_character.fd: hide the widget underneath language
	  combox hack.

2001-06-27  John Levon  <moz@compsoc.man.ac.uk>

	* FormPreferences.h:
	* FormPreferences.C: connect and operator
	  showSpellcheckerPreferences signal

	* FormPrint.C (input): modify to select radio_file
	  when the user uses the filename input
 
2001-06-26  The LyX Project  <lyx@violet.home.sad.it>

	* combox.C (remove): send debug output to Debug::GUI.

2001-06-26  The LyX Project  <lyx@rose.home.sad.it>

	* Menubar_pimpl.C (create_submenu): 
	* Toolbar_pimpl.C (update): update to use func_status

2001-06-25  The LyX Project  <lyx@tulip.home.sad.it>

	* FormPreferences.C (Path::feedback): remove bogus description of
	lyxpipe.

2001-06-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* xformsBC.h: clean-up of included files.

2001-06-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormDocument.C:
	* FormParagraph.C (c-tor): cosmetic name change of signal.

	* FormParagraph.[Ch]: added machinery to act on an updateParagraph
	signal. It's pretty crude at the moment! Mental note: would be more
	elegant if we passed a LyXParagraph & with both the signals rather than
	search through the Buffer.

2001-06-13  Angus Leeming  <a.leeming@ic.ac.uk>

	* *.[h]: added // -*- C++ -*-
	* *.[C]: removed // -*- C++ -*-

	* FormCharacter.C (update): now uses contents of font_, stored
	permanently by the controller to update() the dialog.

2001-06-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormInclude.C:
	* form_include.fd: (various places): Ok button is now activated when
	the filename is input from the keyboard.

	* FormPreferences.C white-space change in various places.
	(Converters::GetTo): get the contents of "to" not "from"! Thus fix bug
	that disabled addition of new converters.

	* FormCharacter.C (input, update): new methods. Activate the Apply
	button when any of the input fileds are not IGNORE.

2001-06-11  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormToc.C (input): change test slightly.
	(updateContents): clear list if empty and add no list msg.

2001-05-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormParagraph.C (update, general_update): enabling the align buttons
	is now dependent on the AlignPossible entry in the Layout.

2001-06-01  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* MathsSymbols.C: 
	* FormMathsMatrix.C: bring C functions into global namespace if
	necessary. 

2001-05-31  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* MathsSymbols.C (pixmapFromBitmapData): add std::

	* FormMathsMatrix.C (AlignFilter): add std::

2001-05-22  Adrien Rebollo <rebollo@iaf.cnrs-gif.fr>

	* FormDocument.C (build): add iso8859-15 support.

2001-05-08  Baruch Even  <baruch@lyx.org>

	* Menubar_pimpl.C: Fixed compilation problem.

2001-05-04  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* Menubar_pimpl.C (add_toc): use name and not type with float.
	(create_submenu): correct call of new object
	(create_submenu): add FloatListInsert and FloatInsert to dummy clause.

2001-05-03  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* FormParagraph.[Ch]: remove !NO_PEXTRA and !NEW_INSETS cruft

2001-04-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* Dialogs.C: included insetgraphicsParams.h

	* FormMathsMatrix.C:
	* FormMathsBitmap.C: included LAssert.h

2001-04-24  Allan Rae  <rae@lyx.org>

	* xforms_helpers.C (formatted): two consecutive spaces would kill it.

2001-04-20  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* xforms_helpers.C (formatted): do not use string::substr(1) on a
	string of length 1 !

2001-04-16  Allan Rae  <rae@lyx.org>

	* xforms_helpers.C (formatted): 
	* Menubar_pimpl.C (add_toc): #warning triggers an error on Sun CC 6.0
	as an unrecognised preprocessor directive.  So ensure they're wrapped. 

2001-04-06  John Levon  <moz@compsoc.man.ac.uk>

	* FormTabularCreate.C: pass a pair of uints to the controller

	* FormVCLog.C: the log appears as a stringstream now

	* forms/form_external.fd: make params update state (from Angus)

2001-04-05  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* Menubar_pimpl.C: include gettext.h

2001-04-05  Lars Gullik Bjønnes  <larsbj@birdstep.com>

	* xforms_helpers.C (formatted): constify length

	* FormTabular.C (update): small restructure, adjust for scoped_ptr
	(input): adjust for scoped_ptr
	(input): constify str

2001-04-03  John Levon  <moz@compsoc.man.ac.uk>

	* Dialogs.C: s/popup/dialog/

	* Form*.C:
	* FormBase.h:
	* FormBase.C: s/ControlButton/ControlButtons/
	move bc().refresh() into base show() method

	* Form*.C:
	* FormBaseDeprecated.C:
	s/UndoAll/restore/

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMathsPanel.C (c-tor): set button controller cancel label to close.

	* FormToc.[Ch]:
	* forms/form_toc.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C:
	* forms/form_citation.fd: Don't change the name of the button when
	toggling between regular expression and simple searches.
	Squashed bug when creating a new inset, the keys field contained
	one (empty) key. No more; thanks, Dekel.

	* FormExternal.C: 
	* forms/form_external.fd: added Apply button.

2001-03-30  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.[Ch]:
	* FormBrowser.[Ch]: changes associated with renaming ControlBase as
	ControlButton.

	* FormExternal.[Ch]:
	* forms/form_external.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

	* FormGraphics.[Ch]:
	* FormInclude.[Ch]:
	* FormPrint.[Ch]:
	moved the browsing functionality into the controller.

	* xforms_helpers.[Ch]: moved browseFile to
	../controllers/helper_funcs.[Ch]

	* FormCitation.C
	* forms/form_citation.fd: added case sensitive search button.

2001-03-29  Angus Leeming  <a.leeming@ic.ac.uk>

	* xformsBC.[Ch]: Patched in a slight reworking of Baruch Even's patch.
	Code moved into the generic template base class. Replaced
	setCancelCloseButton() with setButtonLabel().

2001-03-29  Juergen Vigna  <jug@sad.it>

	* FormMinipage.C: removed widthp_ and all it's functions and changed
	to use new %-lengths of LyXLength.

2001-03-28  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormGraphics.[Ch]:
	* forms/form_graphics.fd:
	* FormIndex.[Ch]:
	* forms/form_index.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

	* FormCharacter.[Ch]: changes associated with ControlCharacter cleanup.

	* FormCitation.C: changes associated with ControlCitation cleanup.

	* FormMinipage.h: cleaned-up forward declarations.

2001-03-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMinipage.[Ch]:
	* forms/form_minipage.fd:
	* FormPrint.[Ch]:
	* forms/form_print.fd:
	* FormSplash.[Ch]: implemented controller-view split.

	* Dialogs.C: associated changes.

2001-03-26  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreamble.[Ch]:
	* forms/form_preamble.fd:
	* FormRef.[Ch]:
	* forms/form_ref.fd:
	* FormSearch.[Ch]:
	* forms/form_search.fd:
	* FormTabularCreate.[Ch]:
	* forms/form_tabular_create.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

2001-03-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormError.[Ch]:
	* form_error.fd:
	* FormInclude.[Ch]:
	* form_include.fd:
	* FormUrl.[Ch]:
	* form_url.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

	* FormBibitem.h:
	* FormBibtex.h:
	* FormCitation.h: moved methods from protected to private.

2001-03-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCredits.C (build): changes associated with
	ControlCredits::getCredits returning a stringstream not a vector<string>

2001-03-22  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCopyright.[Ch]:
	* forms/form_copyright.fd: implemented controller-view split.

	* FormCredits.[Ch]:
	* forms/form_credits.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

	* xforms_helpers.C (formatted): improved the function so that it now
	repects '\n' characters in the input string. Ie, the user can now
	specify line breaks explicitly.

2001-03-21  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCharacter.[Ch]:
	* forms/form_character.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

	* FormBase.C (input): changed return to SMI_VALID.

	* FormCitation.C (updateBrowser): ensure that the keys are stripped of
	any surrounding whitespace.

2001-03-20  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.[Ch] (input): no longer pure virtual. Has defualt state of
	SMI_NOOP.
	(FormBase2): split into two template classes, FormDB (DialogBase) and
	FormCB (ControllerBase) for greater flexibility.

	* FormBibitem.[Ch]:
	* FormBibtex.[Ch]:
	* FormCitation.[Ch]: associated changes.

	* FormBrowser.[Ch]:
	* FormLog.[Ch]:
	* FormVCLog.[Ch]:
	* forms/form_browser.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

2001-03-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBibtex.[Ch]:
	* forms/form_bibtex.fd: implemented controller-view split.

	* Dialogs.C: associated changes.

2001-03-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBaseDeprecated.[Ch]: rename title as title_.
	
	* FormBaseDeprecated.C: restore John's trick to give the dialog a border
	with limited functionality. It got lost in the MVC merge.

	* FormBaseDeprecated.C:
	* FormBase.C (show): moved initialisation of minw_, minh_ here.

	* FormBibitem.C (build):
	* FormBibtex.C (build):
	* FormBrowser.C (build):
	* FormCharacter.C (build):
	* FormCitation.C (build):
	* FormCopyright.C (build):
	* FormCredits.C (build):
	* FormDocument.C (build):
	* FormError.C (build):
	* FormExternal.C (build):
	* FormGraphics.C (build):
	* FormInclude.C (build):
	* FormIndex.C (build):
	* FormMinipage.C (build):
	* FormParagraph.C (build):
	* FormPreamble.C (build):
	* FormPreferences.C (build):
	* FormPrint.C (build):
	* FormRef.C (build):
	* FormSearch.C (build):
	* FormTabular.C (build):
	* FormTabularCreate.C (build):
	* FormToc.C (build):
	* FormUrl.C (build): removed initialisation of minw_, minh_.
	
	* The Maths Panel stuff no longer causes a crash on exit from LyX.

	* FormMaths.[Ch]:
	* forms/form_maths.fd: removed.

	* forms/form_maths_delim.fd:
	* forms/form_maths_deco.fd:
	* forms/form_maths_matrix.fd:
	* forms/form_maths_space.fd:
	* forms/form_maths_panel.fd: new files.
	Split contents of form_maths.fd into 5 new files, one for each form.

	* MathsSymbols.[Ch]: remove class BitmapMenu, renamed and reworked as
	class FormMathsBitmap in FormMathsBitmap.[Ch].

	* FormMathsPanel.[Ch]:
	* FormMathsBitmap.[Ch]:
	* FormMathsDeco.[Ch]:
	* FormMathsDelim.[Ch]:
	* FormMathsMatrix.[Ch]:
	* FormMathsSpace.[Ch]: Split contents of FormMaths into new files,
	one for each popup. Rewrite so that all the new classes are derived from
	FormBaseBD. Clean up the logic in the process (I hope!).

	* Makefile.am: added new fils, removed redundant ones.

2001-03-19  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* FormMinipage.C (FormMinipage): add SigC:: namespace specifier.
	(showInset): ditto
	(updateInset): ditto

2001-03-16  Juergen Vigna  <jug@sad.it>

	* Dialogs.C (Dialogs): create minipage options dialog.

	* forms/form_minipage.fd: 
	* form_minipage.C: 
	* form_minipage.h: 
	* FormMinipage.C: 
	* FormMinipage.h: new files for the minipage options dialog.

2001-03-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormMaths.[Ch]: make the FD_ structs private. Create appropriate
	callback methods.

	* forms/form_maths.fd: change C_FormBaseCancelCB to
	FormBaseDeprecatedCancelCB and so fix crash on closing the panel.

2001-03-16  John Levon  <moz@compsoc.man.ac.uk>

	* FormMaths.C: quash warnings

2001-03-16  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* FormMaths.C (C_FormMathsDelimCB): add usual .c_str() for lyxstring
	compatibility. 

2001-03-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* Form_various.h: cleaned up #includes and forward declarations.

	* Form_various.C: added "using SigC::slot" declaration.

	* FormMaths.[Ch]: moved to boost::scoped_ptrs.

	* FormDocument.C (CheckChoiceClass): removed string tct as the
	compiler warned that it was defined but never used.
	removed USE_CLASS_COMBO.

2001-03-13  John Levon  <moz@compsoc.man.ac.uk>

	* Dialogs.C:
	* FormMaths.h:
	* FormMaths.C:
	* MathsSymbols.h:
	* MathsSymbols.C:
	* Makefile.am:
	* Toolbar_pimpl.C:
	* form_*.C:
	* forms/makefile:
	* forms/form_maths.fd:
	* forms/fdfixc.sed:
	* forms/fdfix.sh: add maths panel

	* bmtable.h:
	* bmtable.c: moved from src/

2001-03-16  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* FormParagraph.h: NO_PEXTRA
	* FormParagraph.C (input): NO_PEXTRA

2001-03-15  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* several files: remove CXX_WORKING_NAMESPACES

2001-03-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* Merging changes from BRANCH_MVC back into HEAD.

2001-03-12  Angus Leeming  <a.leeming@ic.ac.uk>

	* Dialogs.C (c-tor): Changes associated with storing a vector of
	boost::shared_ptrs.
	Use MVC Bibitem popup.

	* FormBase.h: add a new template class FormBase2, derived from FormBase
	to make life creating MVC popups even easier ;-)

	* FormBibitem.[Ch]:
	* forms/form_bibitem.fd: moved over to the MVC way of doing things.
	Proof that a simple popup should be easy to implement!

	* FormCitation.[Ch]: now derived from FormBase2.

	* FormToc.C: added using std::vector directive.

2001-03-09  Dekel Tsur  <dekelts@tau.ac.il>

	* FormSearch.C: Add missing #pragma

2001-03-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C:
	* forms/form_citation.fd: added the ability to Search, both Simply and
	for Regular Expressions. Use the Search code in the controller() to do
	the actual searching.

2001-03-08  Angus Leeming  <a.leeming@ic.ac.uk>

	* Makefile.am: added FormCredits.[Ch] and form_credits.[Ch]
	* forms/makefile: added form_credits.fd
	
	* Dialogs.C: added FormCredits and removed ShowCredits.
	
	* FormCredits.[Ch]:
	* forms/form_credits.fd:
	* forms/form_search.fd: ported to the MVC way.
	
2001-03-07  Angus Leeming  <a.leeming@ic.ac.uk>

	* xforms_helpers.h (formatted): now has default arguments for size and
	style.

	* FormCitation.[Ch]: moved code out of this class and into
	ControlCitation and associated helper funcs.
	
2001-03-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.[Ch]: (InputCB): use ButtonController::input() rather than
	ButtonController::valid() to check state of input. The buttons are
	now controlled correctly.

	* Form*.[Ch]: use boost::scoped_ptr for the remaining few classes.

2001-03-05  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* Form*.[Ch]: use boost::scoped_ptr for dialog_ et al.

	* FormBase.[Ch]: rename title as title_.

2001-03-02  John Levon  <moz@compsoc.man.ac.uk>

	* FormBase.C (c-tor): initialise variables in correct order.

	* FormCitation.C: add #include <algorithm>

2001-03-02  Angus Leeming  <a.leeming@ic.ac.uk>

	* xformsBC.[Ch]: Changes associated with the changes to
	controllers/ButtonController.[Ch]. Ie, the class is now derived from
	ButtonControllerBase and the ButtonPolicy is accessed through a method
	bp() rather than the instance bp_.

	* FormBaseDeprecated.[Ch]: no longer store a ButtonController, but
	rather use a pure virtual method bc() to access the controller
	instantiated by the daughter classes.

	* F*.[Ch]: changes associated with the above.

2001-02-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.[Ch]: renamed as FormBaseDeprecated.[Ch]

	* ViewXforms.[Ch]: renamed as FormBase.[Ch]

2001-02-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.[Ch]: deleted. The class is split into two
	(with identical functionality), the code being found in
	../controllers/ButtonController.[Ch] and xformsBC.[Ch]

	* xformsBC.[Ch]: new files. Xforms specific part of Allan's original
	ButtonController class.

	* FormBase.[Ch]: changes associated with the above split.

	* ViewXforms.[Ch]: Base class for xforms dialogs derived from ViewBase
	(../controllers/ViewBase.h). Ie, for Dialogs with GUI-I controllers
	controlling all interaction to/from the LyX kernel.

	* FormCitation.[Ch]:
	* forms/form_citation.fd: An xforms-specific implementation of the
	Citation dialog, controlled by the GUI-I ControlCitation.

	* Dialogs.C: Use the controlled Citation dialog.

2001-03-15  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* combox.h:
	* combox.C: moved from src/

2001-03-09  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/fdfix.sh:
	* forms/form_filedialog.C.patch: I hate having to make these patches,
	but on reflection I think it's probably better than hacking fdfix.sh.

2001-03-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/fdfix.sh: test whether bmtable.h is needed before #including it.

2001-03-13  John Levon  <moz@compsoc.man.ac.uk>

	* FormGraphics.C: remove unnecessary hack

2001-03-13  Dekel Tsur  <dekelts@tau.ac.il>

	* FormCitation.C (apply): Do not put space between multiple keys.

2001-03-12  Dekel Tsur  <dekelts@tau.ac.il>

	* Menubar_pimpl.C (add_toc): Remove debug message.

2001-03-09  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* Dialogs.C:
	* FormExternal.C:
	* FormExternal.h:
	* form_external.C:
	* form_external.h:
	* xforms/forms/makefile:
	* forms/form_external.fd: add FormExternal

2001-03-12  John Levon  <moz@compsoc.man.ac.uk>

	* Dialogs.C: add destroySplash()

	* form_splash.h:
	* form_splash.C:
	* forms/form_splash.fd:
	* FormSplash.h:
	* FormSplash.C: make independent of FormBase, tidy
	
	* Menubar_pimpl.C: destroy splash on interaction

2001-03-12  John Levon  <moz@compsoc.man.ac.uk>

	* FormInclude.h:
	* FormInclude.C:
	* form_include.h:
	* form_include.C:
	* forms/form_include.fd: rework, clean up

2001-03-12  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* FormToc.h: use Buffer::typedef

	* Menubar_pimpl.C (add_toc): use the Buffer::typedefs
	* FormToc.C (build): ditto
	(updateToc): ditto

2001-03-11  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* FormToc.C (build): implement for dynamic number of lists
	(updateToc): ditto
	* Menubar_pimpl.C (add_toc): ditto

2001-03-07  Edwin Leuven  <leuven@fee.uva.nl>

        * added credits:
	* Dialogs.C:
	* Makefile.am:
	* FormCredits.[Ch]:
	* form_credits.[Ch]:
	* forms/form_credits.fd:

2001-03-07  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* Menubar_pimpl.h: make Pipl::ItemInfo::item_ a boost::shared_ptr,
	make ButtonList contain boost::shared_ptr<ItemInfo>

	* Menubar_pimpl.C (~Pimpl): remove destructor 

2001-03-06  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* FileDialog.C:
	* FormFiledialog.C:
	* FormFiledialog.h:
	* form_filedialog.C:
	* form_filedialog.h:
	* FormGraphics.C:
	* FormInclude.C:
	* FormPreferences.C:
	* FormPrint.C:
	* xforms_helpers.C:
	* xforms_helpers.h:
	* forms/fdfix.sh:
	* forms/makefile:
	* form/form_filedialog.fd: add File Dialog
	* Toolbar_pimpl.h:
	* Toolbar_pimpl.C: move LayoutsCB to here

2001-03-06  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* FormParagraph.C: changes because of ParagraphParameters.

2001-03-06  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* FormSearch.C (Replace): remove default argument
	(Find): ditto

2001-03-05  Edwin Leuven  <leuven@fee.uva.nl>

	* added find/replace dialog:
	* FormSearch.*: added
	* form_search.*: added
	* forms/form_search.fd: added

2001-03-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* xform_helpers.[Ch]: renamed as xforms_helpers.[Ch].

	* various: in a rush of delayed guilt, I've renamed all instances of
	xform as xforms. Jean-Marc sowed this seed a long, long time ago and it
	finally sprouted.

	* xforms_helpers.[Ch] (setEnabled): a little wrapper function to
	activate/deactivate an FL_OBJECT.

	* FormCitation.C:
	* FormDocument.C:
	* FormInclude.C:
	* FormParagraph.C:
	* FormPreamble.C:
	* FormPreferences.C:
	* FormRef.C:
	* FormTabular.C: used it.

2001-03-05  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C: removed three unused using directives.

2001-03-05  Edwin Leuven  <leuven@fee.uva.nl>

	* added find/replace dialog:
	* FormSearch.*: added
	* form_search.*: added
	* forms/form_search.fd: added

2001-02-27  Dekel Tsur  <dekelts@tau.ac.il>

	* FormRef.C: Fixed the behaviour of Goto-Ref.

2001-02-27  Angus Leeming  <a.leeming@ic.ac.uk>

	* forms/makefile: added character and preamble dialogs

2001-02-27  Lars Gullik Bjønnes  <larsbj@trylle.birdstep.com>

	* FormCharacter.C (FormCharacter): change order of deletion,
	change combo_language2 to combo_language2_

2001-02-26  Dekel Tsur  <dekelts@tau.ac.il>

	* FormRef.C (apply): Update bookmark #0 after inserting a reference.

2001-02-23  Edwin Leuven <leuven@fee.uva.nl>

	* Dialogs.C: added layoutcharacter
	* FormCharacter.C: added
	* FormCharacter.h: added
	* form_character.C: added
	* form_character.h: added
	* forms/form_character.fd: added
               
2001-02-23  Dekel Tsur  <dekelts@tau.ac.il>
 
	* FormPreferences.C: Handle lyxrc.language_use_babel and
	lyxrc.language_global_options.

2001-02-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences(GetFrom, GetTo): use size_type rather than int.

2001-02-23  John Levon  <moz@compsoc.man.ac.uk>

	* FormBase.C: no longer transient dialogs, XMapWindow()
	  in attempt to de-iconify

	* FormDocument.C: remove DO_USE_DEFAULT_LANGUAGE

2001-02-21  Dekel Tsur  <dekelts@tau.ac.il>

	* FormDocument.C (checkMarginValues): Activate "use geometry" button 
	if using custom paper size/margin.

2001-02-21  Allan Rae  <rae@lyx.org>

	* forms/form_preferences.fd: larger, bold font for outer tabfolder

2001-02-20  Edwin Leuven <leuven@fee.uva.nl>

        * src/frontends/xforms/Dialogs.C: added preamble
        * src/frontends/xforms/FormPreamble.C: added
        * src/frontends/xforms/FormPreamble.h: added
        * src/frontends/xforms/Makefile.am: added
        * src/frontends/xforms/form_preamble.C: added
        * src/frontends/xforms/form_preamble.h: added
        * src/frontends/xforms/form_preamble.fd: added

2001-02-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBase.h: moved noncopyable derivation to DialogBase.

2001-02-19  Juergen Vigna  <jug@sad.it>

	* FormTabular.C (build): make all input field accepted only after
	a "RETURN".

	* forms/form_tabular.fd: removed default "Return" on Close-Button.

2001-02-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormError.C:
	* FormGraphics.C:
	* FormInset.C (showInset): change associated with name change
	inset::hide to inset::hideDialog.

2001-02-19  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C (build): altering "Text after" now activates the Ok,
	Apply buttons.

2001-02-16  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormCitation.C: lots of white-space changes to make file consistent
	with LyX style.
	(input): use the FL_OBJECT * parameter to decide what to do, not the
	long parameter.

	* FormCitation.h: removed most entries in enum.

	* forms/form_citation.fd: change names of variables, consistent with
	Allan's naming scheme.
	Don't pass any particular arguments to the InputCB function.
	choice_style now triggers a callback and looks like other choices.

2001-02-16  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* other: use compare instead of strcmp/strncmp

2001-02-15  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.[Ch]: changed trigger_change_ vector and associated
	methods to dont_trigger_change_ because FL_OBJECTs that trigger a
	callback to InputCB() but don't trigger a change in the state of the
	Ok, Apply buttons are much rarer than those that do.

	* FormCitation.C (build): associated change.

2001-02-14  Lars Gullik Bjønnes  <larsbj@lyx.org>

	* ButtonController.C: include algorithm

2001-02-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* ButtonController.[Ch] (addTriggerChange, eraseTriggerChange):
	new methods.
	(valid): method can now be passed an optional FL_OBJECT *. If it is, and
	the vector of FL_OBJECT *s that can trigger a change in the button state
	is not empty, then a change of state will occur only if the FL_OBJECT *
	is present in this vector.

	* FormBase.C (RestoreCB): call bc.undoAll() before restore(). Allows
	the user to deactivate specific fields within restore().
	(InputCB): pass the FL_OBJECT * to bc_.valid().

	* FormCitation.C (build): create a vector of FL_OBJECT *s that can
	trigger a change of state in the Ok,Apply buttons.
	(update): bc_.readOnly() to the start of the method. Similar reasoning
	to that for FormBase::RestoreCB, above.

2001-02-14  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormBrowser.C: used OkCancelPolicy for ButtonController rather than
	IgnorantPolicy.

	* forms/form_browser.fd:
	* forms/form_copyright.fd:
	* forms/form_error.fd:
	* forms/form_tabular.fd:
	* forms/form_toc.fd:
	Consistent shortcuts for Close button: Esc and Return only.

	* forms/form_citation.fd:
	* forms/form_document.fd:
	* forms/form_index.fd:
	* forms/form_paragraph.fd:
	* forms/form_preferences.fd:
	* forms/form_print.fd:
	* forms/form_ref.fd:
	* forms/form_tabular_create.fd:
	* forms/form_url.fd:
	Consistent shortcut for Cancel button: Esc only.

2001-02-12  John Levon  <moz@compsoc.man.ac.uk>

	* Dialogs.C: new Splash. Include, Bibitem/tex

	* FormBase.h: make show() virtual for Splash's benefit

	* Makefile.am:
	* forms/makefile:
	* FormBibitem.C:
	* FormBibitem.h:
	* FormBibtex.C:
	* FormBibtex.h:
	* form_bibitem.C:
	* form_bibitem.h:
	* form_bibtex.C:
	* form_bibtex.h:
	* forms/form_bibitem.fd:
	* forms/form_bibtex.fd:
	* FormInclude.C:
	* FormInclude.h:
	* form_include.C:
	* form_include.h:
	* forms/form_include.fd:
	* FormSplash.C:
	* FormSplash.h:
	* form_splash.C:
	* form_splash.h:
	* forms/form_splash.fd: new forms

2001-02-09  John Levon  <moz@compsoc.man.ac.uk>

	* FormLog.C: handle Literate build log nicely

2001-02-09  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* Menubar_pimpl.C: remove support for reference menuitem type.

2001-02-07  John Levon  <moz@compsoc.man.ac.uk>

	* Makefile.am:
	* Timeout_pimpl.h:
	* Timeout_pimpl.C: add Timeout implementation

2001-02-06  John Levon  <moz@compsoc.man.ac.uk>

	* form_browser.h:
	* form_browser.C:
	* forms/form_browser.fd:
	* forms/makefile:
	* FormBrowser.C:
	* FormBrowser.h: readonly browser form

	* FormLog.C:
	* FormLog.h:
	* FormVCLog.C:
	* FormVCLog.h:
	* Dialogs.C: add Log and VCLog

	* Makefile.am: add Log and VCLog, add updatesrc target

2001-01-31  Dekel Tsur  <dekelts@tau.ac.il>

	* Menubar_pimpl.C (add_toc2): Add shortcut to the TOC menu.

2001-01-25  Jean-Marc Lasgouttes  <Jean-Marc.Lasgouttes@inria.fr>

	* FormPreferences.C (GetFrom): fix crash when there is no format
	defined. 
	(GetTo): ditto.

2001-01-23  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPreferences.C (LoadBrowserLyX): convert unsigned short to
	unsigned char correctly and so fix 2 bugs loading/changing colors.

2001-01-21  Dekel Tsur  <dekelts@tau.ac.il>

	* FormRef.C (update): Do not update dialog_->{ref,name,type}
 	if inset_ == 0.
	Deactivate the type button when buffer is LinuxDoc/Docbook
	(build): Uncomment calls to addReadOnly().
	(updateBrowser) Do not disable the update button when there are no 
	keys.
	(build, getType, getName): Use InsetRef::types.

2001-01-18  Angus Leeming  <a.leeming@ic.ac.uk>

	* FormPrint.[Ch] (browse): new method to browse for file to print to.

	* forms/form_print.fd: give the form a Browse button.

2001-01-17  Dekel Tsur  <dekelts@tau.ac.il>

	* FormRef.C (input): Fix the behavior of goto reference button.

